[{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant 3.0 Code of Conduct","text":"pledge make community welcoming, safe, equitable . committed fostering environment respects promotes dignity, rights, contributions individuals, regardless characteristics including race, ethnicity, caste, color, age, physical characteristics, neurodiversity, disability, sex gender, gender identity expression, sexual orientation, language, philosophy religion, national social origin, socio-economic position, level education, status. privileges participation extended everyone participates good faith accordance Covenant.","code":""},{"path":"https://williamgearty.com/deeptime/dev/CODE_OF_CONDUCT.html","id":"encouraged-behaviors","dir":"","previous_headings":"","what":"Encouraged Behaviors","title":"Contributor Covenant 3.0 Code of Conduct","text":"acknowledging differences social norms, strive meet community’s expectations positive behavior. also understand words actions may interpreted differently intend based culture, background, native language. considerations mind, agree behave mindfully toward act ways center shared values, including: Respecting purpose community, activities, ways gathering. Engaging kindly honestly others. Respecting different viewpoints experiences. Taking responsibility actions contributions. Gracefully giving accepting constructive feedback. Committing repairing harm occurs. Behaving ways promote sustain well-community.","code":""},{"path":"https://williamgearty.com/deeptime/dev/CODE_OF_CONDUCT.html","id":"restricted-behaviors","dir":"","previous_headings":"","what":"Restricted Behaviors","title":"Contributor Covenant 3.0 Code of Conduct","text":"agree restrict following behaviors community. Instances, threats, promotion behaviors violations Code Conduct. Harassment. Violating explicitly expressed boundaries engaging unnecessary personal attention clear request stop. Character attacks. Making insulting, demeaning, pejorative comments directed community member group people. Stereotyping discrimination. Characterizing anyone’s personality behavior basis immutable identities traits. Sexualization. Behaving way generally considered inappropriately intimate context purpose community. Violating confidentiality. Sharing acting someone’s personal private information without permission. Endangerment. Causing, encouraging, threatening violence harm toward person group. Behaving ways threaten well-community.","code":""},{"path":"https://williamgearty.com/deeptime/dev/CODE_OF_CONDUCT.html","id":"other-restrictions","dir":"","previous_headings":"Restricted Behaviors","what":"Other Restrictions","title":"Contributor Covenant 3.0 Code of Conduct","text":"Misleading identity. Impersonating someone else reason, pretending someone else evade enforcement actions. Failing credit sources. properly crediting sources content contribute. Promotional materials. Sharing marketing commercial content way outside norms community. Irresponsible communication. Failing responsibly present content includes, links describes restricted behaviors.","code":""},{"path":"https://williamgearty.com/deeptime/dev/CODE_OF_CONDUCT.html","id":"reporting-an-issue","dir":"","previous_headings":"","what":"Reporting an Issue","title":"Contributor Covenant 3.0 Code of Conduct","text":"Tensions can occur community members even trying best collaborate. every conflict represents code conduct violation, Code Conduct reinforces encouraged behaviors norms can help avoid conflicts minimize harm. incident occur, important report promptly. report possible violation, send email maintainer, Gearty, willgearty@gmail.com. Community Moderators take reports violations seriously make every effort respond timely manner. investigate reports code conduct violations, reviewing messages, logs, recordings, interviewing witnesses participants. Community Moderators keep investigation enforcement actions transparent possible prioritizing safety confidentiality. order honor values, enforcement actions carried private involved parties, communicating whole community may part mutually agreed upon resolution.","code":""},{"path":"https://williamgearty.com/deeptime/dev/CODE_OF_CONDUCT.html","id":"addressing-and-repairing-harm","dir":"","previous_headings":"","what":"Addressing and Repairing Harm","title":"Contributor Covenant 3.0 Code of Conduct","text":"investigation Community Moderators finds Code Conduct violated, following enforcement ladder may used determine best repair harm, based incident’s impact individuals involved community whole. Depending severity violation, lower rungs ladder may skipped. Event: violation involving single incident series incidents. Consequence: private, written warning Community Moderators. Repair: Examples repair include private written apology, acknowledgement responsibility, seeking clarification expectations. Event: repeated incidence violation previously resulted warning, first incidence serious violation. Consequence: private, written warning time-limited cooldown period designed underscore seriousness situation give community members involved time process incident. cooldown period may limited particular communication channels interactions particular community members. Repair: Examples repair may include making apology, using cooldown period reflect actions impact, thoughtful re-entering community spaces period . Event: pattern repeated violation Community Moderators tried address warnings, single serious violation. Consequence: private written warning conditions return suspension. general, temporary suspensions give person suspended time reflect upon behavior possible corrective actions. Repair: Examples repair include respecting spirit suspension, meeting specified conditions return, thoughtful reintegrate community suspension lifted. Event: pattern repeated code conduct violations steps ladder failed resolve, violation serious Community Moderators determine way keep community safe person member. Consequence: Access community spaces, tools, communication channels removed. general, permanent bans rarely used, strong reasoning behind , resorted working remedies failed change behavior. Repair: possible repair cases severity. enforcement ladder intended guideline. limit ability Community Managers use discretion judgment, keeping best interests community.","code":""},{"path":"https://williamgearty.com/deeptime/dev/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant 3.0 Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official email address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://williamgearty.com/deeptime/dev/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant 3.0 Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 3.0, permanently available https://www.contributor-covenant.org/version/3/0/. Contributor Covenant stewarded Organization Ethical Source licensed CC -SA 4.0. view copy license, visit https://creativecommons.org/licenses/-sa/4.0/ answers common questions Contributor Covenant, see FAQ https://www.contributor-covenant.org/faq. Translations provided https://www.contributor-covenant.org/translations. Additional enforcement community guideline resources can found https://www.contributor-covenant.org/resources. enforcement ladder inspired work Mozilla’s code conduct team.","code":""},{"path":"https://williamgearty.com/deeptime/dev/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to deeptime","title":"Contributing to deeptime","text":"outlines propose change deeptime. guidelines based tidyverse contribution guidelines.","code":""},{"path":"https://williamgearty.com/deeptime/dev/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"Contributing to deeptime","text":"can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file. can find .R file generates .Rd reading comment first line.","code":""},{"path":"https://williamgearty.com/deeptime/dev/CONTRIBUTING.html","id":"bigger-changes","dir":"","previous_headings":"","what":"Bigger changes","title":"Contributing to deeptime","text":"want make bigger change, ’s good idea first file issue make sure someone team agrees ’s needed. ’ve found bug, please file issue illustrates bug minimal reprex (also help write unit test, needed).","code":""},{"path":"https://williamgearty.com/deeptime/dev/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Bigger changes","what":"Pull request process","title":"Contributing to deeptime","text":"Fork package clone onto computer. haven’t done , recommend using usethis::create_from_github(\"batpigandme/deeptime\", fork = TRUE). Install development dependencies devtools::install_dev_deps(), make sure package passes R CMD check running devtools::check(). R CMD check doesn’t pass cleanly, ’s good idea ask help continuing. Create Git branch pull request (PR). recommend using usethis::pr_init(\"brief-description--change\"). Make changes, commit git, create PR running usethis::pr_push(), following prompts browser. title PR briefly describe change. body PR contain Fixes #issue-number. user-facing changes, add bullet top NEWS.md (.e. just first header). Follow style described https://style.tidyverse.org/news.html.","code":""},{"path":"https://williamgearty.com/deeptime/dev/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Bigger changes","what":"Code style","title":"Contributing to deeptime","text":"New code follow tidyverse style guide. can use styler package apply styles, please don’t restyle code nothing PR. use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":""},{"path":"https://williamgearty.com/deeptime/dev/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to deeptime","text":"Please note deeptime project released Contributor Code Conduct. contributing project agree abide terms.","code":""},{"path":"https://williamgearty.com/deeptime/dev/articles/coord.html","id":"coord_trans-meets-coord_flip","dir":"Articles","previous_headings":"","what":"coord_trans meets coord_flip","title":"Transforming coordinate systems","text":"One limitation traditional coord_trans() function ggplot2 can flip axes also transforming axes. Historically, need either 1) use scale_x_continuous() scale_y_continuous() transform one axes (result untransparent loss data) combination coord_flip() 2) transform data supplying ggplot(). coord_trans_flip() accomplishes without need scales transforming data. works just like coord_trans(), added functionality axis flip coord_flip().  Note: back 2020, ggplot2 updated directional stats geoms (e.g., boxplots histograms) work directions based aesthetic mapping. somewhat makes function redundant, still find useful.","code":"ggplot(mtcars, aes(disp, wt)) +   geom_point() +   coord_trans_flip(x = \"sqrt\", y = \"log10\") +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord.html","id":"d-linear-transformations","dir":"Articles","previous_headings":"","what":"2D linear transformations","title":"Transforming coordinate systems","text":"Another limitation traditional coord_trans() axis transformed independently. coord_trans_xy() expands functionality allow two-dimensional linear transformation generated ggforce::linear_trans(). allows rotations, stretches, shears, translations, reflections. dummy example using ?mtcars dataset ggplot2 included . applications functionality may seem abstract real data, see plotting traits article potential real-world application using species trait data.","code":"# make transformer library(ggforce) trans <- linear_trans(shear(50, 0))  # set up data to be plotted square <- data.frame(   disp = c(     min(mtcars$disp), min(mtcars$disp),     max(mtcars$disp), max(mtcars$disp)   ),   wt = c(     min(mtcars$wt), max(mtcars$wt),     max(mtcars$wt), min(mtcars$wt)   ) )  # plot data normally library(ggplot2) ggplot(mtcars, aes(disp, wt)) +   geom_polygon(data = square, fill = NA, color = \"black\") +   geom_point(color = \"black\") +   coord_cartesian() +   theme_classic() # plot data with transformation ggplot(mtcars, aes(disp, wt)) +   geom_polygon(data = square, fill = NA, color = \"black\") +   geom_point(color = \"black\") +   coord_trans_xy(trans = trans, expand = TRUE) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord_geo.html","id":"adding-geological-timescales","dir":"Articles","previous_headings":"","what":"Adding geological timescales","title":"Adding geological timescales to plots","text":"First, let’s summarize coral data divDyn package generate diversity curve ’ll able plot: Now, can plot data add geological timescale. default behavior add ICS periods bottom axis. data used included package (?periods) along data ?eons, ?stages, ?epochs, ?eras. Note function assumes age decreasing towards present.","code":"# this is not a proper diversity curve but it gets the point across coral_div <- corals %>%   filter(stage != \"\") %>%   group_by(period, stage) %>%   summarise(n = n()) %>%   mutate(stage_age = (stages$max_age[match(stage, stages$name)] +     stages$min_age[match(stage, stages$name)]) / 2) ggplot(coral_div) +   geom_line(aes(x = stage_age, y = n)) +   scale_x_reverse(\"Age (Ma)\") +   ylab(\"Coral Genera\") +   coord_geo(xlim = c(250, 0), ylim = c(0, 1700)) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord_geo.html","id":"scales-on-other-axes","dir":"Articles","previous_headings":"Adding geological timescales","what":"Scales on other axes","title":"Adding geological timescales to plots","text":"can add timescale whichever axis ’d like setting pos argument. example, pos = \"left\" can used put timescale left axis. Also, note ’re using “Geomagnetic Polarity Chron” timescale . one 35 regional global timescales available deeptime Macrostrat database (see get_scale_data()).","code":"ggplot(lisiecki2005) +   geom_line(aes(x = d18O, y = Time / 1000), orientation = \"y\") +   scale_y_reverse(\"Time (Ma)\") +   scale_x_reverse() +   coord_geo(     dat = \"Geomagnetic Polarity Chron\", xlim = c(6, 2), ylim = c(6, 0),     pos = \"left\", rot = 90   ) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord_geo.html","id":"add-multiple-timescales","dir":"Articles","previous_headings":"Adding geological timescales","what":"Add multiple timescales","title":"Adding geological timescales to plots","text":"can also add multiple timescales providing list pos. arguments can lists single values (either recycled necessary). case adding “Geomagnetic Polarity Chron” timescale left axis “Planktic foraminiferal Primary Biozones” timescale right axis.","code":"# uses the oxygen isotope data from above ggplot(lisiecki2005) +   geom_line(aes(x = d18O, y = Time / 1000), orientation = \"y\") +   scale_y_reverse(\"Time (Ma)\") +   scale_x_reverse() +   coord_geo(     dat = list(\"Geomagnetic Polarity Chron\", \"Planktic foraminiferal Primary Biozones\"),     xlim = c(6, 2), ylim = c(5.5, 0), pos = list(\"l\", \"r\"),     rot = 90, skip = \"PL4\", size = list(5, 4)   ) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord_geo.html","id":"stack-multiple-scales","dir":"Articles","previous_headings":"Adding geological timescales","what":"Stack multiple scales","title":"Adding geological timescales to plots","text":"can even stack multiple timescales side. Scales added inside outside. stacking periods eras.","code":"# uses the coral diversity data from above ggplot(coral_div) +   geom_line(aes(x = stage_age, y = n)) +   scale_x_reverse(\"Age (Ma)\") +   ylab(\"Coral Genera\") +   coord_geo(     dat = list(\"periods\", \"eras\"), xlim = c(250, 0), ylim = c(0, 1700),     pos = list(\"b\", \"b\"), abbrv = list(TRUE, FALSE)   ) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord_geo.html","id":"timescales-and-faceted-plots","dir":"Articles","previous_headings":"Adding geological timescales","what":"Timescales and faceted plots","title":"Adding geological timescales to plots","text":"coord_geo() synergizes well faceted plots. can change facets timescale plotted changing scales argument facet_wrap(). default behavior include timescale bottom-panel. behavior works similarly facet_grid().  specifying scales = \"free_x\", can add geological time scale panel.","code":"# uses the coral occurrence data from above coral_div_diet <- corals %>%   filter(stage != \"\") %>%   group_by(diet, stage) %>%   summarise(n = n()) %>%   mutate(stage_age = (stages$max_age[match(stage, stages$name)] +     stages$min_age[match(stage, stages$name)]) / 2)  ggplot(coral_div_diet) +   geom_line(aes(x = stage_age, y = n)) +   scale_x_reverse(\"Age (Ma)\") +   ylab(\"Coral Genera\") +   coord_geo(xlim = c(250, 0)) +   theme_classic() +   facet_wrap(~diet, nrow = 3) ggplot(coral_div_diet) +   geom_line(aes(x = stage_age, y = n)) +   scale_x_reverse(\"Age (Ma)\") +   ylab(\"Coral Genera\") +   coord_geo(xlim = c(250, 0)) +   theme_classic() +   facet_wrap(~diet, nrow = 3, scales = \"free_x\")"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord_geo.html","id":"resize-labels-to-fit-inside-interval-rectangles","dir":"Articles","previous_headings":"Adding geological timescales","what":"Resize labels to fit inside interval rectangles","title":"Adding geological timescales to plots","text":"coord_geo() can use ggfittext package resize interval labels. can enabled setting size \"auto\". Additional arguments can passed ggfittext::geom_fit_text() list using fittext_args argument.","code":"ggplot(coral_div) +   geom_line(aes(x = stage_age, y = n)) +   scale_x_reverse(\"Age (Ma)\") +   ylab(\"Coral Genera\") +   coord_geo(     dat = \"periods\", xlim = c(250, 0), ylim = c(0, 1700),     abbrv = FALSE, size = \"auto\", fittext_args = list(size = 20)   ) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord_geo.html","id":"scales-on-discrete-axes","dir":"Articles","previous_headings":"","what":"Scales on discrete axes","title":"Adding geological timescales to plots","text":"coord_geo() automatically detect axis discrete. categories discrete axis (can reordered using limits argument scale_x_discrete()/scale_y_discrete()) match name column timescale data (dat). can use arguments theme() scale_[x/y]_discrete() optionally remove labels tick marks.","code":"# use the coral occurrence data from above coral_div_dis <- corals %>%   filter(period != \"\") %>%   group_by(diet, period) %>%   summarise(n = n()) %>%   mutate(period_age = (periods$max_age[match(period, periods$name)] +     periods$min_age[match(period, periods$name)]) / 2) %>%   arrange(-period_age)  ggplot(coral_div_dis) +   geom_col(aes(x = period, y = n, fill = diet)) +   scale_x_discrete(\"Period\",     limits = unique(coral_div_dis$period), labels = NULL,     expand = expansion(add = .5)   ) +   scale_y_continuous(expand = c(0, 0)) +   scale_fill_viridis_d(\"Diet\") +   ylab(\"Coral Genera\") +   coord_geo(expand = TRUE, skip = NULL, abbrv = TRUE) +   theme_classic() +   theme(axis.ticks.length.x = unit(0, \"lines\"))"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord_geo.html","id":"custom-discrete-scales","dir":"Articles","previous_headings":"Scales on discrete axes","what":"Custom discrete scales","title":"Adding geological timescales to plots","text":"can also supply pre-discretized scale data setting dat_is_discrete parameter TRUE. Custom scales always name, max_age, min_age columns. Optional columns include abbr abbreviations, color background colors, lab_color interval label colors. can even one scale auto-discretized intervals one scale pre-discretized intervals.","code":"eras_custom <- data.frame(   name = c(\"Mesozoic\", \"Cenozoic\"), max_age = c(0.5, 3.5),   min_age = c(3.5, 6.5), color = c(\"#67C5CA\", \"#F2F91D\") )  ggplot(coral_div_dis) +   geom_col(aes(x = period, y = n, fill = diet)) +   scale_x_discrete(NULL,     limits = unique(coral_div_dis$period), labels = NULL,     expand = expansion(add = .5)   ) +   scale_y_continuous(expand = c(0, 0)) +   scale_fill_viridis_d(\"Diet\") +   ylab(\"Coral Genera\") +   coord_geo(     dat = list(\"periods\", eras_custom), pos = c(\"b\", \"b\"), expand = TRUE,     skip = NULL, abbrv = list(TRUE, FALSE), dat_is_discrete = list(FALSE, TRUE)   ) +   theme_classic() +   theme(axis.ticks.length.x = unit(0, \"lines\"))"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord_geo.html","id":"more-advanced-topics","dir":"Articles","previous_headings":"","what":"More advanced topics","title":"Adding geological timescales to plots","text":"Looking learn advanced features deeptime? Look : Plotting phylogenies timescales Additional ggplot coordinate systems Plotting trait data Plotting temporal data Plotting geological/stratigraphical patterns Combining arranging plots","code":""},{"path":"https://williamgearty.com/deeptime/dev/articles/geo.html","id":"stratigraphic-columns","dir":"Articles","previous_headings":"","what":"Stratigraphic columns","title":"Plotting geological/stratigraphical patterns","text":"rmacrostrat package allows users access Macrostrat API, includes various geological data (e.g., lithostratigraphic units) definitions/metadata associated data. package includes number vignettes walk retrieve visualize various types data database. , ’re going plotting stratigraphic column San Juan Basin, large structural depression spans parts New Mexico, Colorado, Utah, Arizona. details downloading data thoroughly presented rmacrostrat vignette. purposes deeptime vignette, ’ll skip ahead download unit-level stratigraphic data basin Cretaceous:","code":"# Using the column ID, retrieve the units in the San Juan Basin column san_juan_units <- get_units(column_id = 489, interval_name = \"Cretaceous\") # See the column names and number of rows colnames(san_juan_units) ##  [1] \"unit_id\"          \"section_id\"       \"col_id\"           \"project_id\"       ##  [5] \"col_area\"         \"unit_name\"        \"strat_name_id\"    \"Mbr\"              ##  [9] \"Fm\"               \"Gp\"               \"SGp\"              \"t_age\"            ## [13] \"b_age\"            \"max_thick\"        \"min_thick\"        \"outcrop\"          ## [17] \"pbdb_collections\" \"pbdb_occurrences\" \"lith\"             \"environ\"          ## [21] \"econ\"             \"measure\"          \"notes\"            \"color\"            ## [25] \"text_color\"       \"t_int_id\"         \"t_int_name\"       \"t_int_age\"        ## [29] \"t_prop\"           \"units_above\"      \"b_int_id\"         \"b_int_name\"       ## [33] \"b_int_age\"        \"b_prop\"           \"units_below\"      \"strat_name_long\"  ## [37] \"refs\"             \"clat\"             \"clng\"             \"t_plat\"           ## [41] \"t_plng\"           \"b_plat\"           \"b_plng\" nrow(san_juan_units) ## [1] 17"},{"path":"https://williamgearty.com/deeptime/dev/articles/geo.html","id":"plot-stratigraphic-column","dir":"Articles","previous_headings":"Stratigraphic columns","what":"Plot stratigraphic column","title":"Plotting geological/stratigraphical patterns","text":"now information 17 Cretaceous geologic units contained within San Juan Basin, including age top bottom , use plot stratigraphic column. ’ll follow rmacrostrat vignette plot stratigraphic column:","code":"# Specify x_min and x_max in dataframe san_juan_units$x_min <- 0 san_juan_units$x_max <- 1 # Tweak values for overlapping units san_juan_units$x_max[10] <- 0.5 san_juan_units$x_min[11] <- 0.5  # Add midpoint age for plotting san_juan_units$m_age <- (san_juan_units$b_age + san_juan_units$t_age) / 2  ggplot(san_juan_units, aes(ymin = b_age, ymax = t_age,                            xmin = x_min, xmax = x_max)) +   # Plot units, colored by rock type   geom_rect(fill = san_juan_units$color, color = \"black\") +   # Add text labels   geom_text_repel(aes(x = x_max, y = m_age, label = unit_name),                   size = 3.5, hjust = 0, force = 2,                   min.segment.length = 0, direction = \"y\",                   nudge_x = rep_len(x = c(2, 3), length.out = 17)) +   # Add geological time scale   coord_geo(pos = \"left\", dat = list(\"stages\"), rot = 90) +   # Reverse direction of y-axis   scale_y_reverse(limits = c(145, 66), n.breaks = 10, name = \"Time (Ma)\") +   # Remove x-axis guide and title   scale_x_continuous(NULL, guide = NULL) +   # Choose theme and font size   theme_classic(base_size = 14) +   # Make tick labels black   theme(axis.text.y = element_text(color = \"black\"))"},{"path":"https://williamgearty.com/deeptime/dev/articles/geo.html","id":"use-stratigraphic-patterns","dir":"Articles","previous_headings":"Stratigraphic columns","what":"Use stratigraphic patterns","title":"Plotting geological/stratigraphical patterns","text":"Isn’t snazzy! ’ll see used colors come straight Macrostrat (.e., “color” column) visualize different units. Presumably colors represent something different lithologies units. However, also represent lithologies standardized FGDC patterns. First, ’ll need get lithology definitions Macrostrat, includes FGDC pattern codes: output, “fill” column corresponds FGDC pattern code lithology. Now, need figure lithology San Juan units. However, ’ll notice units multiple lithologies: ’s lot different lithologies single unit! theoretically represent lithologies, let’s just go ahead extract primary lithology, one highest “prop” value (.e., proportion unit): Now ’ve assigned primary lithology unit, can assign FGDC pattern code unit: Excellent, now pattern code unit! Now can go ahead use instead colors fills units. order convert codes visual patterns, ’ll need move fill argument call aes() ’ll need add call scale_fill_geopattern():  Well look ! Oh, legend isn’t helpful moment, ? Let’s go ahead customize define lithologies different patterns actually represent. ’ll use codes names liths set breaks labels legend, ’ll move bottom doesn’t mess labels:  Note also used fgdc_dict() get labeling function use within scale_fill_geopattern() , want use macrostrat lithology names , lithology names FGDC standard definitions, ’ll stick grabbing liths.","code":"# Get lithology definitions liths <- def_lithologies() head(liths) ##   lith_id          name          type          group       class   color fill ## 1       1 siliciclastic siliciclastic                sedimentary #FFF400  670 ## 2       2        gravel siliciclastic unconsolidated sedimentary #FFAB00  601 ## 3       3          sand siliciclastic unconsolidated sedimentary #FFCA00  607 ## 4       4          silt siliciclastic unconsolidated sedimentary #919AA3  619 ## 5       5           mud siliciclastic unconsolidated sedimentary #A7ACB0  641 ## 6       6     claystone siliciclastic       mudrocks sedimentary #B2B5B7  620 ##   t_units ## 1     347 ## 2    1316 ## 3   12663 ## 4    9839 ## 5    8472 ## 6    5920 # Count lithologies for each unit sapply(san_juan_units$lith, nrow) ##  [1] 1 1 1 2 1 1 1 3 3 1 1 1 1 1 1 6 3 # Inspect one with multiple rows san_juan_units$lith[16] ## [[1]] ##         atts      name   prop lith_id            type       class ## 1                shale 0.0714       8   siliciclastic sedimentary ## 2            quartzite 0.3571      85 metasedimentary metamorphic ## 3            sandstone 0.3571      10   siliciclastic sedimentary ## 4        red claystone 0.0714       6   siliciclastic sedimentary ## 5 calcareous      clay 0.0714      93   siliciclastic sedimentary ## 6 calcareous      clay 0.0714      93   siliciclastic sedimentary # Get the primary lithology for each unit san_juan_units$lith_prim <- sapply(san_juan_units$lith, function(df) {   df$name[which.max(df$prop)] }) table(san_juan_units$lith_prim) ##  ## conglomerate    graywacke  litharenite    quartzite    sandstone        shale  ##            1            1            1            1            6            7 # Assign pattern code san_juan_units$pattern <- factor(liths$fill[match(san_juan_units$lith_prim, liths$name)]) table(san_juan_units$pattern, exclude = NULL) ##  ## 602 607 620 654 702  ##   1   6   7   2   1 # Plot with pattern fills ggplot(san_juan_units, aes(ymin = b_age, ymax = t_age,                            xmin = x_min, xmax = x_max)) +   # Plot units, patterned by rock type   geom_rect(aes(fill = pattern), color = \"black\") +   scale_fill_geopattern() +   # Add text labels   geom_text_repel(aes(x = x_max, y = m_age, label = unit_name),                   size = 3.5, hjust = 0, force = 2,                   min.segment.length = 0, direction = \"y\",                   nudge_x = rep_len(x = c(2, 3), length.out = 17)) +   # Add geological time scale   coord_geo(pos = \"left\", dat = list(\"stages\"), rot = 90) +   # Reverse direction of y-axis   scale_y_reverse(limits = c(145, 66), n.breaks = 10, name = \"Time (Ma)\") +   # Remove x-axis guide and title   scale_x_continuous(NULL, guide = NULL) +   # Choose theme and font size   theme_classic(base_size = 14) +   # Make tick labels black   theme(axis.text.y = element_text(color = \"black\")) # Plot with pattern fills ggplot(san_juan_units, aes(ymin = b_age, ymax = t_age,                            xmin = x_min, xmax = x_max)) +   # Plot units, patterned by rock type   geom_rect(aes(fill = pattern), color = \"black\") +   scale_fill_geopattern(name = NULL,                         breaks = factor(liths$fill), labels = liths$name) +   # Add text labels   geom_text_repel(aes(x = x_max, y = m_age, label = unit_name),                   size = 3.5, hjust = 0, force = 2,                   min.segment.length = 0, direction = \"y\",                   nudge_x = rep_len(x = c(2, 3), length.out = 17)) +   # Add geological time scale   coord_geo(pos = \"left\", dat = list(\"stages\"), rot = 90) +   # Reverse direction of y-axis   scale_y_reverse(limits = c(145, 66), n.breaks = 10, name = \"Time (Ma)\") +   # Remove x-axis guide and title   scale_x_continuous(NULL, guide = NULL) +   # Choose theme and font size   theme_classic(base_size = 14) +   # Make tick labels black   theme(legend.position = \"bottom\", legend.key.size = unit(1, 'cm'),         axis.text.y = element_text(color = \"black\"))"},{"path":"https://williamgearty.com/deeptime/dev/articles/geo.html","id":"further-customization","dir":"Articles","previous_headings":"Stratigraphic columns","what":"Further customization","title":"Plotting geological/stratigraphical patterns","text":"use scale_fill_geopattern(), patterns used default parameters (e.g., line color, background color, scale). However, ’d like customize patterns look, can use geom_ functions ggpattern package (e.g., geom_rect_pattern()) use “geo” pattern. implemented , following ggplot2 aesthetics can used tweak patterns. Note defaults two methods often different: pattern code (.e., pattern\\_type), see “pattern numbers” full pattern chart full list options. Daven Quinn also assembled accessible documentation map patterns/codes lithology patterns/codes. def_lithologies() can also used look pattern codes various lithologies (see “fill” column). Note codes associated color variants (e.g., “101-M”) supported result default color variant instead (usually black white). , , color variants can recreated adjusting color, fill, background pattern. Let’s try increasing scale patterns stratigraphic column. ’ll need switch using geom_rect_pattern(). Since specifying patterns within aes() call, can use scale_pattern_type_identity() use raw pattern codes:  Oh ! patterns zoomed wanted, now colors messed ! good example defaults change two methods. can easily fix specifying defaults:  go, now colors fixed! Hmm…now looks little boring. Let’s go ahead bring back colors . ’ll make background color (fill) pattern fill color (pattern_fill) based “color” column:  Well isn’t nice looking visualization stratigraphic column!","code":"# Plot using ggpattern library(ggpattern) ggplot(san_juan_units, aes(ymin = b_age, ymax = t_age,                            xmin = x_min, xmax = x_max)) +   # Plot units, patterned by rock type   geom_rect_pattern(aes(pattern_type = pattern), pattern = \"geo\",                     pattern_scale = 4) +   scale_pattern_type_identity(name = NULL, guide = \"legend\",                               breaks = factor(liths$fill),                               labels = liths$name) +   # Add text labels   geom_text_repel(aes(x = x_max, y = m_age, label = unit_name),                   size = 3.5, hjust = 0, force = 2,                   min.segment.length = 0, direction = \"y\",                   nudge_x = rep_len(x = c(2, 3), length.out = 17)) +   # Add geological time scale   coord_geo(pos = \"left\", dat = list(\"stages\"), rot = 90) +   # Reverse direction of y-axis   scale_y_reverse(limits = c(145, 66), n.breaks = 10, name = \"Time (Ma)\") +   # Remove x-axis guide and title   scale_x_continuous(NULL, guide = NULL) +   # Choose theme and font size   theme_classic(base_size = 14) +   # Make tick labels black   theme(legend.position = \"bottom\", legend.key.size = unit(1, 'cm'),         axis.text.y = element_text(color = \"black\")) ggplot(san_juan_units, aes(ymin = b_age, ymax = t_age,                            xmin = x_min, xmax = x_max)) +   # Plot units, patterned by rock type   geom_rect_pattern(aes(pattern_type = pattern), pattern = \"geo\",                     pattern_color = \"black\", pattern_fill = \"white\",                     fill = \"white\", pattern_scale = 4) +   # Use identity of pattern_type aesthetic to set pattern type   # Also, substitute lithology names for codes in the legend   scale_pattern_type_identity(name = NULL, guide = \"legend\",                               breaks = factor(liths$fill),                               labels = liths$name) +   # Add text labels   geom_text_repel(aes(x = x_max, y = m_age, label = unit_name),                   size = 3.5, hjust = 0, force = 2,                   min.segment.length = 0, direction = \"y\",                   nudge_x = rep_len(x = c(2, 3), length.out = 17)) +   # Add geological time scale   coord_geo(pos = \"left\", dat = list(\"stages\"), rot = 90) +   # Reverse direction of y-axis   scale_y_reverse(limits = c(145, 66), n.breaks = 10, name = \"Time (Ma)\") +   # Remove x-axis guide and title   scale_x_continuous(NULL, guide = NULL) +   # Choose theme and font size   theme_classic(base_size = 14) +   # Make tick labels black and increase legend key size   theme(legend.position = \"bottom\", legend.key.size = unit(1, 'cm'),         axis.text.y = element_text(color = \"black\")) ggplot(san_juan_units, aes(ymin = b_age, ymax = t_age,                            xmin = x_min, xmax = x_max)) +   # Plot units, patterned by rock type   geom_rect_pattern(aes(pattern_type = pattern, fill = color,                         pattern_fill = color), pattern = \"geo\",                     pattern_color = \"black\", pattern_scale = 4) +   # Need to override the legend defaults   scale_pattern_type_identity(name = NULL,                               guide = guide_legend(                                 override.aes = list(pattern_fill = \"white\",                                                     fill = \"white\")                               ),                               breaks = factor(liths$fill),                               labels = liths$name) +   # Use the raw color values   scale_fill_identity() +   scale_pattern_fill_identity() +   # Add text labels   geom_text_repel(aes(x = x_max, y = m_age, label = unit_name),                   size = 3.5, hjust = 0, force = 2,                   min.segment.length = 0, direction = \"y\",                   nudge_x = rep_len(x = c(2, 3), length.out = 17)) +   # Add geological time scale   coord_geo(pos = \"left\", dat = list(\"stages\"), rot = 90) +   # Reverse direction of y-axis   scale_y_reverse(limits = c(145, 66), n.breaks = 10, name = \"Time (Ma)\") +   # Remove x-axis guide and title   scale_x_continuous(NULL, guide = NULL) +   # Choose theme and font size   theme_classic(base_size = 14) +   # Make tick labels black and increase legend key size   theme(legend.position = \"bottom\", legend.key.size = unit(1, 'cm'),         axis.text.y = element_text(color = \"black\"))"},{"path":"https://williamgearty.com/deeptime/dev/articles/ggarrange2.html","id":"the-history-of-arranging-and-combining-plots","dir":"Articles","previous_headings":"","what":"The history of arranging and combining plots","title":"Combining and arranging plots","text":"Combining multiple plots together figures key component developing publishable data visualizations. Many packages provide ways combine arrange plots. example, gridExtra package grid.arrange() function allows user arrange plots fairly complex layouts. However, main drawback (cases) function components plots (axes, labels, panels, etc.) aligned. ggarrange() function egg package uses 3x3 decomposition individual plots align plot components. central cells correspond core panels, surrounded axes, legends, etc.","code":""},{"path":"https://williamgearty.com/deeptime/dev/articles/ggarrange2.html","id":"arranging-plots-with-deeptime","dir":"Articles","previous_headings":"","what":"Arranging plots with deeptime","title":"Combining and arranging plots","text":"deeptime expands functionality ggarrange2() perform 7x7 decomposition individual plots, shown . ensures components individual plots aligned one another (e.g., axis labels, axis tick labels). central cell corresponds plot panel(s), rectangle cells around corresponds axes, rectangle cells around corresponds axis titles, rectangle cells around corresponds legends.","code":"p1 <- ggplot(mtcars, aes(mpg, wt, colour = factor(cyl))) +   geom_point() +   theme_classic(base_size = 20) ggarrange2(p1, debug = TRUE)"},{"path":"https://williamgearty.com/deeptime/dev/articles/ggarrange2.html","id":"combining-plots","dir":"Articles","previous_headings":"","what":"Combining plots","title":"Combining and arranging plots","text":"7x7 decomposition process, becomes simple combine plots single figures properly aligned components. can chain calls ggarrange2() accomplish highly complex combinations arrangements:  can also accomplish complex plot layouts supplying matrix integers layout argument, like base R layout() function. can used insert empty plots change order plots. Note repeating number duplicate plot, expand across multiple plot spots.","code":"p1 <- ggplot(ammoniteTraitsRaia) +   geom_point(aes(x = Log_D, y = FD)) +   labs(x = \"Body size\", y = \"Suture complexity\") +   theme_classic()  p2 <- ggplot(ammoniteTraitsRaia) +   geom_point(aes(x = Log_D, y = log_dur)) +   labs(x = \"Body size\", y = \"Stratigraphic duration (myr)\") +   theme_classic() gg1 <- ggarrange2(p1, p2, widths = c(2, 1), draw = FALSE) p3 <- ggtree(ammoniteTreeRaia, position = position_nudge(x = -ammoniteTreeRaia$root.time)) +   coord_geo(     xlim = c(-415, -66), ylim = c(-2, Ntip(ammoniteTreeRaia)), pos = \"bottom\",     size = 4, abbrv = FALSE, neg = TRUE   ) +   scale_x_continuous(breaks = seq(-425, -50, 25), labels = -seq(-425, -50, 25)) +   theme_tree2() +   theme(plot.margin = margin(7, 11, 7, 11)) ggarrange2(gg1, p3, nrow = 2, heights = c(1, 2)) ## Warning: Unknown or uninitialised column: `subgroup`. ## Unknown or uninitialised column: `subgroup`. ## Unknown or uninitialised column: `subgroup`. ## Unknown or uninitialised column: `subgroup`. ggarrange2(p1, p2, p3,   layout = matrix(c(1, 2, 0, 3), nrow = 2, byrow = TRUE),   widths = c(1, 3) ) ## Warning: Unknown or uninitialised column: `subgroup`. ## Unknown or uninitialised column: `subgroup`. ## Unknown or uninitialised column: `subgroup`. ## Unknown or uninitialised column: `subgroup`."},{"path":"https://williamgearty.com/deeptime/dev/articles/ggarrange2.html","id":"other-resources-for-arranging-plots","dir":"Articles","previous_headings":"","what":"Other resources for arranging plots","title":"Combining and arranging plots","text":"Note provide guarantee ggarrange2() solves every problem arranging plots. following options may also useful: cowplot package cowplot::plot_grid() function accomplishes many features ggarrange2(). patchwork package intuitive tools combining arranging plots (e.g., using mathematical symbols).","code":""},{"path":"https://williamgearty.com/deeptime/dev/articles/phylogenies.html","id":"timescales-and-phylogenies","dir":"Articles","previous_headings":"","what":"Timescales and phylogenies","title":"Adding geological timescales to phylogenies","text":"Now, let’s plot phylogenies timescales! Note default time axis increases toward tips trees plotted ggtree(), must use revts() function ggtree change x-axis values increasing negative values. Note ’ve done , need set neg = TRUE coord_geo(). Furthermore, time axis limits set need negative. also use scale_x_continuous() function relabel negative x-axis values positive labels.","code":"p <- ggtree(mammal.tree) +   coord_geo(xlim = c(-75, 0), ylim = c(-2, Ntip(mammal.tree)),             neg = TRUE, abbrv = FALSE) +   scale_x_continuous(breaks = seq(-80, 0, 20), labels = abs(seq(-80, 0, 20))) +   theme_tree2() revts(p) ## Warning: Unknown or uninitialised column: `subgroup`. ## Unknown or uninitialised column: `subgroup`. ## Unknown or uninitialised column: `subgroup`. ## Unknown or uninitialised column: `subgroup`."},{"path":"https://williamgearty.com/deeptime/dev/articles/phylogenies.html","id":"phylogenies-with-only-fossil-taxa","dir":"Articles","previous_headings":"Timescales and phylogenies","what":"Phylogenies with only fossil taxa","title":"Adding geological timescales to phylogenies","text":"Many phylogenies fossil taxa (.e., non-ultrametric). can handled coord_geo() using position_nudge() function. cases, want nudge time axis values (case, x-axis) root.time phylogeny. Also, note modified plot.margin accommodate stacked timescale.","code":"ggtree(ceratopsianTreeRaia,        position = position_nudge(x = -ceratopsianTreeRaia$root.time)) +   coord_geo(     xlim = c(-163.5, -66), ylim = c(-2, Ntip(ceratopsianTreeRaia)),     pos = list(\"bottom\", \"bottom\"), skip = c(\"Paleocene\", \"Middle Jurassic\"),     dat = list(\"epochs\", \"periods\"), abbrv = FALSE,     size = list(4, 5), neg = TRUE, center_end_labels = TRUE   ) +   scale_x_continuous(breaks = -rev(epochs$max_age),                      labels = rev(epochs$max_age)) +   theme_tree2() +   theme(plot.margin = margin(7, 11, 7, 11)) ## Warning: Unknown or uninitialised column: `subgroup`. ## Unknown or uninitialised column: `subgroup`. ## Unknown or uninitialised column: `subgroup`. ## Unknown or uninitialised column: `subgroup`."},{"path":"https://williamgearty.com/deeptime/dev/articles/phylogenies.html","id":"circular-phylogenies","dir":"Articles","previous_headings":"","what":"Circular phylogenies","title":"Adding geological timescales to phylogenies","text":"Phylogenies can plotted circular layout timescale background using coord_geo_radial() function. works just like coord_geo() many arguments. can use expand argument scale_x_continuous() add space either end timescale. can use expand argument scale_y_continuous() add space either side phylogeny prevent tips overlapping pie edges.","code":"revts(ggtree(mammal.tree)) +   coord_geo_radial(dat = \"stages\") +   scale_x_continuous(breaks = seq(-60, 0, 20), labels = abs(seq(-60, 0, 20)),                      expand = expansion(mult = c(0.05, 0))) +   scale_y_continuous(guide = NULL, expand = expansion(mult = c(0.01, 0.01))) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/phylogenies.html","id":"circular-phylogenies-with-stacked-timescales","dir":"Articles","previous_headings":"Circular phylogenies","what":"Circular phylogenies with “stacked” timescales","title":"Adding geological timescales to phylogenies","text":"Timescales can even “stacked” like coord_geo(), although stacking occurs circular fashion. also use prop, start, end, direction arguments specify different timescales oriented split within polar space.","code":"revts(ggtree(mammal.tree)) +   coord_geo_radial(       dat = list(\"stages\", \"periods\"), alpha = .5, lty = \"dashed\",       prop = list(0.66, .34), start = 2 * pi, end = 1.75 * pi, direction = 1,   ) +   scale_x_continuous(breaks = seq(-60, 0, 20), labels = abs(seq(-60, 0, 20)),                      expand = expansion(mult = c(0.05, 0))) +   scale_y_continuous(guide = NULL, expand = expansion(mult = c(0.01, 0.01))) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/phylogenies.html","id":"disclaimer","dir":"Articles","previous_headings":"Circular phylogenies","what":"Disclaimer","title":"Adding geological timescales to phylogenies","text":"Note coord_geo_radial() tested plotting ultrametric non-ultrametric phylogenies ggtree::ggtree(), may unexpected behavior combined functions ggtree. Furthermore, coord_geo_radial() may useful (albeit perhaps abstract) plotting types data, investigated.","code":""},{"path":"https://williamgearty.com/deeptime/dev/articles/phylogenies.html","id":"axis-timescales-on-radial-phylogenies","dir":"Articles","previous_headings":"Circular phylogenies","what":"Axis timescales on radial phylogenies","title":"Adding geological timescales to phylogenies","text":"coord_geo_radial() quite different coord_geo(). Instead adding timescale axis, adds timescale entire (part ) background radial plot. many cases, may useful. However, ’re annotating plot text shapes, background colors may distracting. Perhaps ’d rather just look coord_geo() instead along radial axis? Look guide_geo(). default, ggplot uses guide_axis() style radial axis radial plots. However, can replace time intervals using guide_geo() function. ’s brief example using mammal phylogeny :  ’ll notice tick marks labels now missing. guide_geo() adds intervals, rest axis stuff. Don’t worry, can add using guide_axis_stack() guide_axis(). cases probably want set spacing 0 (.e., unit(0, \"line\")) different guides glued together.  ! Hmm…looking phylogenies background colors, one looks quite bare. Fortunately, can use coord_geo_radial() guide_geo() make phylogeny really pops! However, since ’re trying avoid distracting background, ’ll set fill colors light gray scale. ’ll also adjust end value coord_geo_radial() remove empty space. Note start end values result polar locations, axis bumped margin, can override r.axis.inside = TRUE. leaves small gap, ’s covered guide_geo() boxes. Finally, note can use guide_geo() within scale_ functions also within guides() function.  cool! Note guide_geo() can actually used plot, basically thing coord_geo() non-radial plots generally requires lines code.","code":"revts(ggtree(mammal.tree)) +   coord_radial(theta = \"y\", start = -0.5 * pi, end = 1.25 * pi) +   scale_x_continuous(breaks = seq(-60, 0, 20), labels = abs(seq(-60, 0, 20)),                      expand = expansion(mult = c(0.05, 0)),                      guide = guide_geo(\"epochs\", neg = TRUE, rot = -90,                                        size = \"auto\",                                        height = unit(1, \"line\"))) +   scale_y_continuous(guide = NULL, expand = expansion(mult = c(0.01, 0.01))) +   theme_classic() revts(ggtree(mammal.tree)) +   coord_radial(theta = \"y\", start = -0.5 * pi, end = 1.25 * pi) +   scale_x_continuous(breaks = seq(-60, 0, 20), labels = abs(seq(-60, 0, 20)),                      expand = expansion(mult = c(0.05, 0)),                      guide = guide_axis_stack(guide_geo(\"epochs\", neg = TRUE,                                                         rot = -90, size = \"auto\",                                                         height = unit(1, \"line\")),                                               guide_axis(),                                               spacing = unit(0, \"line\"))) +   scale_y_continuous(guide = NULL, expand = expansion(mult = c(0.01, 0.01))) +   theme_classic() revts(ggtree(mammal.tree)) +   coord_geo_radial(dat = \"stages\", fill = c(\"grey90\", \"grey95\"), end = 1.5 * pi,                    r.axis.inside = TRUE) +   scale_x_continuous(breaks = seq(-60, 0, 20), labels = abs(seq(-60, 0, 20)),                      expand = expansion(mult = c(0.05, 0))) +   scale_y_continuous(guide = NULL, expand = expansion(mult = c(0.01, 0.05))) +   theme_classic() +   guides(r = guide_axis_stack(guide_geo(\"epochs\", neg = TRUE,                                         rot = -90, size = \"auto\",                                         height = unit(1, \"line\")),                               guide_axis(),                               spacing = unit(0, \"line\"))) +   theme(axis.text.y = element_text(color = \"black\"))"},{"path":"https://williamgearty.com/deeptime/dev/articles/phylogenies.html","id":"tip-labels-on-radial-phylogenies","dir":"Articles","previous_headings":"Circular phylogenies","what":"Tip labels on radial phylogenies","title":"Adding geological timescales to phylogenies","text":"deeptime also provides specialized geom, geom_text_phylo(), adding tip labels phylogenies plotted ggtree(). works similarly ggtree::geom_tiplab(), ggtree::geom_tiplab2(), ggtree::geom_nodelab(), ggtree::geom_nodelab2(). However, unlike geoms, geom intended work coordinate systems, including coord_geo(), ggplot2::coord_radial(), coord_geo_radial(). example, can automatically adjust angle justification text based position plot. can also used label tips internal nodes. ’s brief example using mammal phylogeny . Notice use nudge_x = 2 move labels away tips bit. also use plot.margin add space around plot labels aren’t cut .  geom_text_phylo() inherits arguments ggplot2::geom_text(), can modify text size, color, font, etc. text geom. can also use angle, hjust, vjust aesthetics customize text orientation justification.","code":"revts(ggtree(mammal.tree)) +     geom_text_phylo(nudge_x = 2) +     coord_geo_radial(dat = \"stages\", fill = c(\"grey90\", \"grey95\"), end = 1.5 * pi,                      r.axis.inside = TRUE) +     scale_x_continuous(breaks = seq(-60, 0, 20), labels = abs(seq(-60, 0, 20)),                        expand = expansion(mult = c(0.05, 0))) +     scale_y_continuous(guide = NULL, expand = expansion(mult = c(0.01, 0.05))) +     theme_classic() +     guides(r = guide_axis_stack(guide_geo(\"epochs\", neg = TRUE,                                           rot = -90, size = \"auto\",                                           height = unit(1, \"line\")),                                 guide_axis(),                                 spacing = unit(0, \"line\"))) +     theme(axis.text.y = element_text(color = \"black\"),           plot.margin = margin(4,4,4,4, \"lines\"),           axis.line = element_blank())"},{"path":"https://williamgearty.com/deeptime/dev/articles/phylogenies.html","id":"clade-labels-on-radial-phylogenies","dir":"Articles","previous_headings":"Circular phylogenies","what":"Clade labels on radial phylogenies","title":"Adding geological timescales to phylogenies","text":"deeptime also provides specialized geom, geom_text_clade(), adding clade labels phylogenies plotted ggtree(). works similarly ggtree::geom_cladelab(). However, unlike geom, geom intended work coordinate systems, including coord_geo(), ggplot2::coord_radial(), coord_geo_radial(). ’s brief example using mammal phylogeny . Notice use position = position_nudge() move labels away tips bit hjust move label text away label bar. also use plot.margin add space around plot labels aren’t cut .  can also use data frame ggfun::%<+%() operator merge data tree data. allows map aesthetics columns data frame.  geom_text_clade() inherits arguments ggplot2::geom_text() ggplot2::geom_linerange(), can modify text size, color, font, linewidth, etc. can also use angle, hjust, vjust aesthetics customize text orientation justification. Finally, geom_text_phylo() geom_text_clade() designed work radial coordinate systems, work just well Cartesian coordinate systems!","code":"revts(ggtree(mammal.tree)) +     geom_text_clade(node = c(51, 70, 75),                     label = c(\"Carnivora\", \"Perissodactyla\", \"Artiodactyla\"),                     hjust = -0.2, position = position_nudge(x = 4)) +     coord_geo_radial(dat = \"stages\", fill = c(\"grey90\", \"grey95\"), end = 1.5 * pi,                      r.axis.inside = TRUE) +     scale_x_continuous(breaks = seq(-60, 0, 20), labels = abs(seq(-60, 0, 20)),                        expand = expansion(mult = c(0.05, 0))) +     scale_y_continuous(guide = NULL, expand = expansion(mult = c(0.01, 0.05))) +     theme_classic() +     guides(r = guide_axis_stack(guide_geo(\"epochs\", neg = TRUE,                                           rot = -90, size = \"auto\",                                           height = unit(1, \"line\")),                                 guide_axis(),                                 spacing = unit(0, \"line\"))) +     theme(axis.text.y = element_text(color = \"black\"),           plot.margin = margin(4,4,4,4, \"lines\"),           axis.line = element_blank()) data(primate.tree) clades.df <- data.frame(   clade = c(\"Lorisoidea\", \"Lemuroidea\", \"Tarsioidea\", \"Ceboidea\",             \"Cercopithecoidea\", \"Hominoidea\"),   node = c(166, 146, 144, 120, 95, 114) )  revts(ggtree(primate.tree)) %<+% clades.df +     geom_text_clade(aes(label = clade), extend = c(0.1, 0.1),                     hjust = -0.2, position = position_nudge(x = 4)) +     coord_geo_radial(dat = \"stages\", fill = c(\"grey90\", \"grey95\"), end = 1.5 * pi,                      r.axis.inside = TRUE) +     scale_x_continuous(breaks = seq(-60, 0, 20), labels = abs(seq(-60, 0, 20)),                        expand = expansion(mult = c(0.05, 0))) +     scale_y_continuous(guide = NULL, expand = expansion(mult = c(0.01, 0.05))) +     theme_classic() +     guides(r = guide_axis_stack(guide_geo(\"epochs\", neg = TRUE,                                           rot = -90, size = \"auto\",                                           height = unit(1, \"line\")),                                 guide_axis(),                                 spacing = unit(0, \"line\"))) +     theme(axis.text.y = element_text(color = \"black\"),           plot.margin = margin(4,4,4,4, \"lines\"),           axis.line = element_blank())"},{"path":"https://williamgearty.com/deeptime/dev/articles/time.html","id":"plot-occurrences-through-time","dir":"Articles","previous_headings":"","what":"Plot occurrences through time","title":"Plotting temporal data","text":"bunch temporal occurrences taxa sort geological phenomenon, don’t want go pain figuring visualize occurrences temporal ranges? needs customizable pretty geological stratigraphic timescale side? Well, geom_points_range() friend! geom_points_range() like ggplot2::geom_pointrange() plots points ranges. However, “raw” data goes ggplot2::geom_pointrange() lower, upper, coordinates individual point group. First, ’re lazy calculate ranges! Second, one point per group? whole bunch occurrences group need plotted! difference geom_points_range() raw data takes grouped temporal data. work plot individual occurrences ranges occurrences group. Let’s try Permian vertebrate occurrence data palaeoverse:  , course, want add timescale:  aren’t certain data points? Maybe don’t necessarily know assigned correct genus perhaps uncertain age? Fortunately, tools ggplot available us! First ’ll simulate binary “certainty” values, ’ll plot certainty additional aesthetics:  Finally, can sort taxa arranged order earliest occurrence:  Note uncertain lines (0) always overlap certain lines (1), continuous line spanning taxon’s entire range. However, tweak data, can change , causing gap ranges. Note engineered example, uncertain certain ranges Diictodon longer overlap, gap :  However, want line connecting groups points, can fix using background_line argument, can list aesthetic values use background line segments:  Finally, ’ve showcased geom use case plotting occurrence data, note potential usage function much broader. Basically set data categorical continuous variable visualized like (appropriate).","code":"# sort the occurrences from most common genera to least common genera # assume the age is just the mean of the max and min occdf <- tetrapods %>%   filter(accepted_rank == \"genus\") %>%   select(occurrence_no, accepted_name, max_ma, min_ma) %>%   mutate(accepted_name = reorder(accepted_name, accepted_name, length)) %>%   arrange(desc(accepted_name)) %>%   mutate(age = (max_ma + min_ma) / 2) # get a reasonable subset of those occurrences occdf <- occdf[1:300, ]  # plot those occurrences ggplot(data = occdf) +   geom_points_range(aes(x = age, y = accepted_name)) +   theme_classic() ggplot(data = occdf) +   geom_points_range(aes(x = age, y = accepted_name)) +   scale_x_reverse() +   coord_geo(pos = list(\"bottom\", \"bottom\"), dat = list(\"stages\", \"periods\"),             abbrv = list(TRUE, FALSE), expand = TRUE, size = \"auto\") +   theme_classic() occdf$certainty <- factor(sample(0:1, nrow(occdf), replace = TRUE))  ggplot(data = occdf) +   geom_points_range(aes(x = age, y = accepted_name,                         fill = certainty, linetype = certainty), shape = 21) +   scale_x_reverse() +   scale_fill_manual(values = c(\"white\", \"black\")) +   scale_linetype_manual(values = c(\"dashed\", \"solid\")) +   coord_geo(pos = list(\"bottom\", \"bottom\"), dat = list(\"stages\", \"periods\"),             abbrv = list(TRUE, FALSE), expand = TRUE, size = \"auto\") +   theme_classic() occdf$accepted_name <- reorder(occdf$accepted_name, occdf$age, max,                                decreasing = TRUE) ggplot(data = occdf) +   geom_points_range(aes(x = age, y = accepted_name,                         fill = certainty, linetype = certainty), shape = 21) +   scale_x_reverse() +   scale_fill_manual(values = c(\"white\", \"black\")) +   scale_linetype_manual(values = c(\"dashed\", \"solid\")) +   coord_geo(pos = list(\"bottom\", \"bottom\"), dat = list(\"stages\", \"periods\"),             abbrv = list(TRUE, FALSE), expand = TRUE, size = \"auto\") +   theme_classic() oldest_certain <- occdf %>%   filter(accepted_name == \"Diictodon\", certainty == 1) %>%   pull(age) %>%   max()  n_uncertain <- sum(occdf$accepted_name == \"Diictodon\" & occdf$certainty == 0)  # make the uncertain points all much older occdf$age[occdf$accepted_name == \"Diictodon\" & occdf$certainty == 0] <-   oldest_certain + runif(n_uncertain, 15, 30)  ggplot(data = occdf) +   geom_points_range(aes(x = age, y = accepted_name,                         fill = certainty, linetype = certainty), shape = 21) +   scale_x_reverse() +   scale_fill_manual(values = c(\"white\", \"black\")) +   scale_linetype_manual(values = c(\"dashed\", \"solid\")) +   coord_geo(pos = list(\"bottom\", \"bottom\"), dat = list(\"stages\", \"periods\"),             abbrv = list(TRUE, FALSE), expand = TRUE, size = \"auto\") +   theme_classic() ggplot(data = occdf) +   geom_points_range(aes(x = age, y = accepted_name,                         fill = certainty, linetype = certainty), shape = 21,                     background_line = list(linetype = \"dashed\")) +   scale_x_reverse() +   scale_fill_manual(values = c(\"white\", \"black\")) +   scale_linetype_manual(values = c(\"dashed\", \"solid\")) +   coord_geo(pos = list(\"bottom\", \"bottom\"), dat = list(\"stages\", \"periods\"),             abbrv = list(TRUE, FALSE), expand = TRUE, size = \"auto\") +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/time.html","id":"geological-timescale-color-scales-for-ggplot","dir":"Articles","previous_headings":"","what":"Geological timescale color scales for ggplot","title":"Plotting temporal data","text":"may also want color data based age. deeptime scale_color_geo() scale_fill_geo() purpose! Note currently scales work discrete data. default behavior color/fill aesthetic values match names intervals dat. , ’ll use coral_div_dis data first vignette tutorial:","code":"ggplot(coral_div_dis, aes(x = n, y = diet, fill = period)) +   geom_col() +   scale_fill_geo(periods) +   xlab(\"Coral Genera\") +   ylab(\"Diet\") +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/time.html","id":"facetting-with-the-geological-timescale","dir":"Articles","previous_headings":"","what":"Facetting with the geological timescale","title":"Plotting temporal data","text":"Another way split data categories faceting. deeptime suite facetting functions allow facet geological intervals (facet_grid_geo(), facet_wrap_geo(), facet_nested_geo(), facet_nested_wrap_geo()). , ’ll use coral diversity data , facet wrap period. Note need convert period column ordered factor facets appear chronological order.  Just like adding timescales plots, may want show hierarchical timescale information. example, may want show periods Mesozoic Cenozoic. can adding new column data indicates era period, using period era columns make nested facet:","code":"coral_div_dis <- coral_div_dis %>%   mutate(period = factor(period, levels = rev(periods$name)))   ggplot(coral_div_dis, aes(x = n, y = diet)) +   geom_col() +   scale_fill_geo(periods) +   xlab(\"Coral Genera\") +   ylab(\"Diet\") +   theme_classic() +   facet_wrap_geo(~period, colors = periods) coral_div_dis <- coral_div_dis %>%   mutate(era = ifelse(period %in% c(\"Paleogene\", \"Neogene\", \"Quaternary\"),                       \"Cenozoic\", \"Mesozoic\")) %>%   mutate(era = factor(era, levels = c(\"Cenozoic\", \"Mesozoic\")))  ggplot(coral_div_dis, aes(x = n, y = diet)) +   geom_col() +   scale_fill_geo(periods) +   xlab(\"Coral Genera\") +   ylab(\"Diet\") +   theme_classic() +   facet_nested_wrap_geo(~era + period, colors = rbind(periods, eras), nrow = 2)"},{"path":"https://williamgearty.com/deeptime/dev/articles/traits.html","id":"plot-disparity-through-time","dir":"Articles","previous_headings":"","what":"Plot disparity through time","title":"Plotting trait data","text":"common way visualize trait data, especially fossil species, show two-dimensional trait distribution several time intervals. allows viewer easily compare trait distribution time. However, producing plot historically time intensive, often involving use custom code image editing software (e.g., Inkscape). single function accomplish visualization still exist ggplot2 (yet…), coord_trans_xy() function can used generate similar plot sheared trait space across several time intervals.","code":"# make transformer library(ggforce) trans <- linear_trans(shear(.75, 0))  # prepare data to be plotted crinoids <- as.data.frame(demo_data$wright$matrix[[1]][, 1:2]) crinoids$time <- \"before extinction\" crinoids$time[demo_data$wright$subsets$after$elements] <- \"after extinction\"  # a box to outline the trait space square <- data.frame(V1 = c(-.6, -.6, .6, .6), V2 = c(-.4, .4, .4, -.4))  ggplot() +   geom_segment(     data = data.frame(       x = -.6, y = seq(-.4, .4, .2),       xend = .6, yend = seq(-0.4, .4, .2)     ),     aes(x = x, y = y, xend = xend, yend = yend),     linetype = \"dashed\", color = \"grey\"   ) +   geom_segment(     data = data.frame(       x = seq(-.6, .6, .2), y = -.4,       xend = seq(-.6, .6, .2), yend = .4     ),     aes(x = x, y = y, xend = xend, yend = yend),     linetype = \"dashed\", color = \"grey\"   ) +   geom_polygon(data = square, aes(x = V1, y = V2), fill = NA, color = \"black\") +   geom_point(data = crinoids, aes(x = V1, y = V2), color = \"black\") +   coord_trans_xy(trans = trans, expand = FALSE) +   labs(x = \"PCO1\", y = \"PCO2\") +   theme_classic() +   facet_wrap(~time, ncol = 1, strip.position = \"right\") +   theme(panel.spacing = unit(1, \"lines\"), panel.background = element_blank())"},{"path":"https://williamgearty.com/deeptime/dev/articles/traits.html","id":"disparity-in-base-r","dir":"Articles","previous_headings":"Plot disparity through time","what":"Disparity in base R","title":"Plotting trait data","text":"disparity_through_time() function accomplishes nearly work comfortable plotting within lattice framework (base R). Note may take tweaking (especially aspect argument) get results look way want.","code":"crinoids$time <- factor(crinoids$time) disparity_through_time(time ~ V2 * V1,   data = crinoids, groups = time, aspect = c(1.5, .6),   xlim = c(-.6, .6), ylim = c(-.5, .5),   col.regions = \"lightyellow\", col.point = c(\"red\", \"blue\"),   par.settings = list(     axis.line = list(col = \"transparent\"),     layout.heights =       list(         top.padding = -20, main.key.padding = 0,         key.axis.padding = 0, axis.xlab.padding = 0,         xlab.key.padding = 0, key.sub.padding = 0,         bottom.padding = -20       ),     layout.widths =       list(         left.padding = -10, key.ylab.padding = 0,         ylab.axis.padding = 0, axis.key.padding = 0,         right.padding = 0       )   ) )"},{"path":"https://williamgearty.com/deeptime/dev/articles/traits.html","id":"phylomorphospaces","dir":"Articles","previous_headings":"","what":"Phylomorphospaces","title":"Plotting trait data","text":"Often, trait data accompanied phylogeny. may want visualize phylogeny, traits species, evolution trait along phylogeny. accomplish , can create two-dimensional phylomorphospace. phytools package phytools::phylomorphospace() function accomplishing base R. geom_phylomorpho() function deeptime help accomplish ggplot(). Note labels can added using geom_label() ggrepel::geom_label_repel(), demonstrated obscure phylogenetic relationships.","code":"mammal.data$label <- rownames(mammal.data)  ggplot(mammal.data, aes(x = bodyMass, y = homeRange, label = label)) +   geom_phylomorpho(mammal.tree) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"William Gearty. Author, maintainer.","code":""},{"path":"https://williamgearty.com/deeptime/dev/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Gearty, W. 2025. deeptime: R package facilitates highly customizable reproducible visualizations data geological time intervals. Big Earth Data. doi: 10.1080/20964471.2025.2537516","code":"@Article{,   title = {deeptime: an R package that facilitates highly customizable and reproducible visualizations of data over geological time intervals},   author = {William Gearty},   journal = {Big Earth Data},   year = {2025},   doi = {10.1080/20964471.2025.2537516}, }"},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Plotting Tools for Anyone Working in Deep Time","text":"deeptime extends functionality plotting packages (notably ggplot2) help facilitate plotting data long time intervals, including, limited , geological, evolutionary, ecological data. primary goal deeptime enable users add highly customizable timescales visualizations. functions also included assist areas deep time visualization.","code":""},{"path":"https://williamgearty.com/deeptime/dev/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Plotting Tools for Anyone Working in Deep Time","text":"","code":"# get the stable version from CRAN install.packages(\"deeptime\")  # or get the development version from github # install.packages(\"devtools\") devtools::install_github(\"willgearty/deeptime\")"},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/index.html","id":"load-packages","dir":"","previous_headings":"Usage","what":"Load packages","title":"Plotting Tools for Anyone Working in Deep Time","text":"","code":"library(deeptime) library(ggplot2) library(dplyr)"},{"path":"https://williamgearty.com/deeptime/dev/index.html","id":"add-one-or-more-timescales-to-virtually-any-ggplot2-plot","dir":"","previous_headings":"Usage","what":"Add one or more timescales to virtually any ggplot2 plot!","title":"Plotting Tools for Anyone Working in Deep Time","text":"main function deeptime coord_geo(), functions just like coord_trans() ggplot2. can use function add highly customizable timescales wide variety ggplots.","code":"library(divDyn) data(corals)  # this is not a proper diversity curve but it gets the point across coral_div <- corals %>% filter(stage != \"\") %>%   group_by(stage) %>%   summarise(n = n()) %>%   mutate(stage_age = (stages$max_age[match(stage, stages$name)] +                         stages$min_age[match(stage, stages$name)])/2) ggplot(coral_div) +   geom_line(aes(x = stage_age, y = n)) +   scale_x_reverse(\"Age (Ma)\") +   ylab(\"Coral Genera\") +   coord_geo(xlim = c(250, 0), ylim = c(0, 1700)) +   theme_classic(base_size = 16)"},{"path":"https://williamgearty.com/deeptime/dev/index.html","id":"lots-of-timescales-available","dir":"","previous_headings":"Usage > Add one or more timescales to virtually any ggplot2 plot!","what":"Lots of timescales available!","title":"Plotting Tools for Anyone Working in Deep Time","text":"","code":"# Load packages library(gsloid)  # Plot two different timescales ggplot(lisiecki2005) +   geom_line(aes(x = d18O, y = Time / 1000), orientation = \"y\") +   scale_y_reverse(\"Time (Ma)\") +   scale_x_reverse(\"\\u03B418O\") +   coord_geo(     dat = list(\"Geomagnetic Polarity Chron\",                \"Planktic foraminiferal Primary Biozones\"),     xlim = c(6, 2), ylim = c(5.5, 0), pos = list(\"l\", \"r\"),     rot = 90, skip = \"PL4\", size = list(5, 4)   ) +   theme_classic(base_size = 16)"},{"path":"https://williamgearty.com/deeptime/dev/index.html","id":"super-flexible-supports-multiple-layouts-and-works-great-with-other-packages","dir":"","previous_headings":"Usage","what":"Super flexible, supports multiple layouts, and works great with other packages!","title":"Plotting Tools for Anyone Working in Deep Time","text":"","code":"# Load packages library(ggtree) library(rphylopic)  # Get vertebrate phylogeny library(phytools) data(vertebrate.tree)  vertebrate.tree$tip.label[vertebrate.tree$tip.label ==                             \"Myotis_lucifugus\"] <- \"Vespertilioninae\" vertebrate_data <- data.frame(species = vertebrate.tree$tip.label,                               name = vertebrate.tree$tip.label)  # Plot the phylogeny with a timescale revts(ggtree(vertebrate.tree, size = 1)) %<+%   vertebrate_data +   geom_phylopic(aes(name = name), size = 25) +   scale_x_continuous(\"Time (Ma)\", breaks = seq(-500, 0, 100),                      labels = seq(500, 0, -100), limits = c(-500, 0),                      expand = expansion(mult = 0)) +   scale_y_continuous(guide = NULL) +   coord_geo_radial(dat = \"periods\", end = 0.5 * pi) +   theme_classic(base_size = 16)"},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/index.html","id":"plot-fossil-occurence-ranges","dir":"","previous_headings":"Usage > Does lots of other things too!","what":"Plot fossil occurence ranges","title":"Plotting Tools for Anyone Working in Deep Time","text":"","code":"library(palaeoverse)  # Filter occurrences occdf <- subset(tetrapods, accepted_rank == \"genus\") occdf <- subset(occdf, accepted_name %in%                   c(\"Eryops\", \"Dimetrodon\", \"Diadectes\", \"Diictodon\",                     \"Ophiacodon\", \"Diplocaulus\", \"Benthosuchus\"))  # Plot occurrences ggplot(data = occdf) +   geom_points_range(aes(x = (max_ma + min_ma)/2, y = accepted_name)) +   scale_x_reverse(name = \"Time (Ma)\") +   ylab(NULL) +   coord_geo(pos = list(\"bottom\", \"bottom\"), dat = list(\"stages\", \"periods\"),             abbrv = list(TRUE, FALSE), expand = TRUE, size = \"auto\") +   theme_classic(base_size = 16)"},{"path":"https://williamgearty.com/deeptime/dev/index.html","id":"use-standardized-geological-patterns","dir":"","previous_headings":"Usage > Does lots of other things too!","what":"Use standardized geological patterns","title":"Plotting Tools for Anyone Working in Deep Time","text":"","code":"# Load packages library(rmacrostrat) library(ggrepel)  # Retrieve the Macrostrat units in the San Juan Basin column san_juan_units <- get_units(column_id = 489, interval_name = \"Cretaceous\")  # Specify x_min and x_max in dataframe san_juan_units$x_min <- 0 san_juan_units$x_max <- 1 # Tweak values for overlapping units san_juan_units$x_max[10] <- 0.5 san_juan_units$x_min[11] <- 0.5  # Add midpoint age for plotting san_juan_units$m_age <- (san_juan_units$b_age + san_juan_units$t_age) / 2  # Get lithology definitions liths <- def_lithologies()  # Get the primary lithology for each unit san_juan_units$lith_prim <- sapply(san_juan_units$lith, function(df) {   df$name[which.max(df$prop)] })  # Get the pattern codes for those lithologies san_juan_units$pattern <- factor(liths$fill[match(san_juan_units$lith_prim, liths$name)])  # Plot with pattern fills ggplot(san_juan_units, aes(ymin = b_age, ymax = t_age,                            xmin = x_min, xmax = x_max)) +   # Plot units, patterned by rock type   geom_rect(aes(fill = pattern), color = \"black\") +   scale_fill_geopattern(name = NULL,                         breaks = factor(liths$fill), labels = liths$name) +   # Add text labels   geom_text_repel(aes(x = x_max, y = m_age, label = unit_name),                   size = 3.5, hjust = 0, force = 2,                   min.segment.length = 0, direction = \"y\",                   nudge_x = rep_len(x = c(2, 3), length.out = 17)) +   # Add geological time scale   coord_geo(pos = \"left\", dat = list(\"stages\"), rot = 90) +   # Reverse direction of y-axis   scale_y_reverse(limits = c(145, 66), n.breaks = 10, name = \"Time (Ma)\") +   # Remove x-axis guide and title   scale_x_continuous(NULL, guide = NULL) +   # Choose theme and font size   theme_classic(base_size = 14) +   # Make tick labels black   theme(legend.position = \"bottom\", legend.key.size = unit(1, 'cm'),         axis.text.y = element_text(color = \"black\"))"},{"path":"https://williamgearty.com/deeptime/dev/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Plotting Tools for Anyone Working in Deep Time","text":"use deeptime R package work, please cite : Gearty, W. 2025. deeptime: R package facilitates highly customizable reproducible visualizations data geological time intervals. Big Earth Data. doi: 10.1080/20964471.2025.2537516.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo.html","id":null,"dir":"Reference","previous_headings":"","what":"Transformed coordinate system with geological timescale — coord_geo","title":"Transformed coordinate system with geological timescale — coord_geo","text":"coord_geo behaves similarly ggplot2::coord_trans() occurs statistical transformation affect visual appearance geoms. main difference also adds geological timescale specified side(s) plot.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transformed coordinate system with geological timescale — coord_geo","text":"","code":"coord_geo(   pos = \"bottom\",   dat = \"periods\",   xlim = NULL,   ylim = NULL,   xtrans = identity_trans(),   ytrans = identity_trans(),   clip = \"on\",   expand = FALSE,   fill = NULL,   alpha = 1,   height = unit(2, \"line\"),   bord = c(\"left\", \"right\", \"top\", \"bottom\"),   lwd = 0.25,   color = \"black\",   lab = TRUE,   lab_color = NULL,   rot = 0,   family = \"sans\",   fontface = \"plain\",   size = 5,   skip = c(\"Quaternary\", \"Holocene\", \"Late Pleistocene\"),   abbrv = TRUE,   neg = FALSE,   center_end_labels = FALSE,   dat_is_discrete = FALSE,   fittext_args = list() )"},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transformed coordinate system with geological timescale — coord_geo","text":"pos side add scale (\"left\", \"right\", \"top\", \"bottom\"). First letter may also used. dat Either ) string indicating built-dataframe interval data ICS (\"periods\", \"epochs\", \"stages\", \"eons\", \"eras\"), B) string indicating timescale macrostrat (see list : https://macrostrat.org/api/defs/timescales?), C) custom data.frame time interval boundaries (see Details). xlim, ylim Limits x y axes. xtrans, ytrans Transformers x y axes. information see ggplot2::coord_trans(). clip drawing clipped extent plot panel? setting \"\" (default) means yes, setting \"\" means . cases, default \"\" changed, setting clip = \"\" can cause unexpected results. allows drawing data points anywhere plot, including plot margins. limits set via xlim ylim data points fall outside limits, data points may show places axes, legend, plot title, plot margins. expand FALSE, default, limits taken exactly data xlim/ylim. TRUE, adds small expansion factor limits ensure data axes overlap. fill fill color boxes. default use color column included dat. custom dataset provided dat without color column without fill, greyscale used. Custom fill colors can provided option (overriding color column) recycled /necessary. alpha transparency fill colors. height height (width pos left right) scale. bord vector specifying sides scale add borders (options pos). lwd Line width. color outline color interval boxes. lab Whether include labels. lab_color color labels. default use lab_color column included dat. custom dataset provided dat without lab_color column without fill, labels black. Custom label colors can provided option (overriding lab_color column) recycled /necessary. rot amount counter-clockwise rotation add labels (degrees). family font family use labels. three fonts guaranteed work everywhere: “sans” (default), “serif”, “mono”. fontface font face use labels. standard options \"plain\" (default), \"bold\", \"italic\", \"bold.italic\". size Label size. Either number specify ggplot2::geom_text() \"auto\" use ggfittext::geom_fit_text(). skip vector interval names indicating intervals labeled. abbrv TRUE, can also include interval abbreviations. abbrv including labels, labels abbreviated? TRUE, abbr column used labels. FALSE, name column used labels. \"auto\", abbreviate() function used abbreviate values name column. Note built-data data retrieved via get_scale_data() already built-abbreviations. However, using \"auto\" option create new unique abbreviations based intervals plotted. many cases, may result abbreviations shorter length fewer similar interval names abbreviate. neg Set TRUE x-axis using negative values. center_end_labels labels centered within visible range intervals ends axis? dat_is_discrete ages dat already converted discrete scale? fittext_args list named arguments provide ggfittext::geom_fit_text(). used size set \"auto\".","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Transformed coordinate system with geological timescale — coord_geo","text":"Transforming side scale currently implemented. custom data.frame provided (dat), consist least 3 columns data. See data(periods) example. name column lists names time interval. used labels abbreviations provided. max_age column lists oldest boundary time interval. min_age column lists youngest boundary time interval. abbr column optional lists abbreviations may used labels. color column also optional lists color background time interval. lab_color column also optional lists color label time interval. axis time scale discrete, max_age min_age automatically converted discrete scale. case, categories discrete axis match values name column. ages within dat already discretized, can set dat_is_discrete TRUE prevent automatic conversion. can useful adding time scale categories time intervals 1:1. pos /dat may list values multiple time scales added plot. case, fill, alpha, height, bord, lwd, color, lab, lab_color, rot, family, fontface, size, skip, abbrv, neg, center_end_labels, dat_is_discrete can also lists, elements corresponding settings individual time scale. lists long number time scales, elements recycled. individual values (vectors) used parameters, applied time scales (recycled necessary). case pos dat lists, length longer list used desired number scales.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo.html","id":"theme-elements","dir":"Reference","previous_headings":"","what":"Theme elements","title":"Transformed coordinate system with geological timescale — coord_geo","text":"following theme elements can used customize appearance geologic time scale: deeptime.scale.background: background element individual scale (shown wherever intervals shown). Behaves like plot.background. default element_rect(fill = NA, color = NA).","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Transformed coordinate system with geological timescale — coord_geo","text":"","code":"library(ggplot2) # single scale on bottom ggplot() +   geom_point(aes(y = runif(1000, 0, 8), x = runif(1000, 0, 1000))) +   scale_x_reverse() +   coord_geo(xlim = c(1000, 0), ylim = c(0, 8)) +   theme_classic()   # stack multiple scales ggplot() +   geom_point(aes(y = runif(1000, 0, 8), x = runif(1000, 0, 100))) +   scale_x_reverse() +   coord_geo(     xlim = c(100, 0), ylim = c(0, 8), pos = \"bottom\",     dat = list(\"stages\", \"epochs\", \"periods\"),     height = list(unit(4, \"lines\"), unit(4, \"lines\"), unit(2, \"line\")),     rot = list(90, 90, 0), size = list(2.5, 2.5, 5), abbrv = FALSE   ) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_polar.html","id":null,"dir":"Reference","previous_headings":"","what":"Polar coordinate system with geological timescale — coord_geo_polar","title":"Polar coordinate system with geological timescale — coord_geo_polar","text":"coord_geo_polar behaves similarly ggplot2::coord_polar() occurs statistical transformation affect visual appearance geoms. main difference also adds geological timescale background plot.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_polar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Polar coordinate system with geological timescale — coord_geo_polar","text":"","code":"coord_geo_polar(   dat = \"periods\",   theta = \"y\",   start = -pi/2,   direction = -1,   clip = \"on\",   fill = NULL,   alpha = 1,   lwd = 0.25,   color = \"grey80\",   lty = \"solid\",   lab = FALSE,   abbrv = TRUE,   skip = c(\"Quaternary\", \"Holocene\", \"Late Pleistocene\"),   neg = TRUE,   prop = 1,   textpath_args = list() )"},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_polar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Polar coordinate system with geological timescale — coord_geo_polar","text":"dat Either ) string indicating built-dataframe interval data ICS (\"periods\", \"epochs\", \"stages\", \"eons\", \"eras\"), B) string indicating timescale macrostrat (see list : https://macrostrat.org/api/defs/timescales?), C) custom data.frame time interval boundaries (see Details). theta variable map angle (x y) start Offset starting point 12 o'clock radians. Offset applied clockwise anticlockwise depending value direction. direction 1, clockwise; -1, anticlockwise clip drawing clipped extent plot panel? setting \"\" (default) means yes, setting \"\" means . details, please see coord_cartesian(). fill fill color background. default use color column included dat. custom dataset provided dat without color column without fill, greyscale used. Custom fill colors can provided option (overriding color column) recycled /necessary. alpha transparency fill colors. lwd Line width lines intervals. Set NULL remove lines. color color lines intervals. lty Line type lines intervals. lab Whether include labels. Requires geomtextpath package. abbrv including labels, whether use abbreviations instead full interval names. skip vector interval names indicating intervals labeled. abbrv TRUE, can also include interval abbreviations. neg Set true theta-axis using negative values. usually true using ggtree. prop rotational proportion background scale takes . textpath_args list named arguments provide geomtextpath::geom_textpath(). used lab set TRUE. Useful arguments include color (font color), family (font family), fontface, hjust (radial adjustment), size (font size).","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_polar.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Polar coordinate system with geological timescale — coord_geo_polar","text":"custom data.frame provided (dat), consist least 2 columns data. See data(periods) example. max_age column lists oldest boundary time interval. min_age column lists youngest boundary time interval. abbr column optional lists abbreviations may used labels. color column optional lists color background time interval. dat may also list values /dataframes multiple time scales added background. Scales added sequentially starting start going specified direction. default scales equal circular/rotational proportion, can overridden prop. dat list, fill, alpha, lwd, color, lty, lab, abbrv, skip, neg, prop, textpath_args can also lists (N.B. textpath_args list lists). lists long dat, elements recycled. individual values (vectors) used parameters, applied time scales (recycled necessary). sum prop values greater 1, proportions scaled sum 1. However, prop values may sum less 1 user like blank space background. coord_geo_polar manually generates r axis, meaning support changing guide features ggplot v. 2.5.0 later. However, deeptime.axis.line.r, deeptime.axis.text.r, deeptime.axis.ticks.r, deeptime.axis.ticks.length.r ggplot2 theme elements can modified just like x y counterparts change appearance radius axis. default settings work well horizontal axis pointing towards right, theme settings need modified orientations. default value deeptime.axis.line.r element_line(). default value deeptime.axis.text.r element_text(size = 3.5, vjust = -2, hjust = -0.5). default value deeptime.axis.ticks.r element_line(). default value deeptime.axis.ticks.length.r unit(1.5, \"points\"). However, note units element meaningless numeric value used (unit must still used). Care must taken adding labels plots, likely overlap plot default settings. textpath_args argument can used adjust settings plotting labels. See geomtextpath::geom_textpath() details available arguments. Also note curvature labels may vary based distance origin. abbrv set TRUE default.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_polar.html","id":"life-cycle","dir":"Reference","previous_headings":"","what":"Life cycle","title":"Polar coordinate system with geological timescale — coord_geo_polar","text":"function soft-deprecated favor coord_geo_radial() deeptime version 1.1.0. currently plan remove function, users strongly encouraged migrate new function enhanced polar functionality.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_polar.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Polar coordinate system with geological timescale — coord_geo_polar","text":"","code":"library(ggplot2) library(ggtree) set.seed(1) tree <- rtree(100) # single scale revts(ggtree(tree)) +   coord_geo_polar(dat = \"stages\") #> Warning: `coord_geo_polar()` was deprecated in deeptime 1.1.0. #> ℹ Please use `coord_geo_radial()` instead. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`.   # multiple scales revts(ggtree(tree)) +   coord_geo_polar(     dat = list(\"stages\", \"periods\"), alpha = .5,     prop = list(0.75, .25), start = pi / 4, lty = \"dashed\"   ) +   scale_y_continuous(expand = expansion(mult = c(0.02, 0.02))) +   theme(deeptime.axis.text.r = element_text(size = 3.5, hjust = .75,                                             vjust = .75)) #> Scale for y is already present. #> Adding another scale for y, which will replace the existing scale. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`.  library(ggplot2) library(paleotree) data(RaiaCopesRule) ggtree(ceratopsianTreeRaia,        position = position_nudge(x = -ceratopsianTreeRaia$root.time)) +   coord_geo_polar(dat = \"stages\") #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`."},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_radial.html","id":null,"dir":"Reference","previous_headings":"","what":"Enhanced polar coordinate system with geological timescale — coord_geo_radial","title":"Enhanced polar coordinate system with geological timescale — coord_geo_radial","text":"coord_geo_radial behaves similarly ggplot2::coord_radial() occurs statistical transformation affect visual appearance geoms. main difference also adds geological timescale background plot. coord_geo_radial similar coord_geo_polar() options related polar coordinate plotting inherited ggplot2::coord_radial() (e.g., end, r_axis_inside, inner.radius). Furthermore, unlike coord_geo_polar, coord_geo_radial uses ggplot2 internals draw r theta axes, gridlines, etc. means users can tweak guide theme settings features (see examples).","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_radial.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Enhanced polar coordinate system with geological timescale — coord_geo_radial","text":"","code":"coord_geo_radial(   dat = \"periods\",   theta = \"y\",   start = -0.5 * pi,   end = 1.25 * pi,   expand = TRUE,   direction = deprecated(),   reverse = \"none\",   r.axis.inside = NULL,   rotate.angle = FALSE,   inner.radius = 0.05,   fill = NULL,   alpha = 1,   lwd = 0.25,   color = \"grey80\",   lty = \"solid\",   lab = FALSE,   abbrv = TRUE,   skip = c(\"Quaternary\", \"Holocene\", \"Late Pleistocene\"),   neg = TRUE,   prop = 1,   textpath_args = list(),   clip = \"off\",   r_axis_inside = deprecated(),   rotate_angle = deprecated() )"},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_radial.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Enhanced polar coordinate system with geological timescale — coord_geo_radial","text":"dat Either ) string indicating built-dataframe interval data ICS (\"periods\", \"epochs\", \"stages\", \"eons\", \"eras\"), B) string indicating timescale macrostrat (see list : https://macrostrat.org/api/defs/timescales?), C) custom data.frame time interval boundaries (see Details). theta variable map angle (x y). normally y using function ggtree. start Offset starting point 12 o'clock radians. Offset applied clockwise anticlockwise depending value direction. end Position 12 o'clock radians plot ends, allow partial polar coordinates. default, NULL, set start + 2 * pi. expand TRUE, default, adds small expansion factor limits prevent overlap data axes. FALSE, limits taken directly scale. direction  reverse string giving directions reverse. \"none\" (default) keep directions . \"theta\" reverses angle \"r\" reverses radius. \"thetar\" reverses angle radius. r.axis.inside One following: NULL (default) places axis next panel start end arguments form full circle inside panel otherwise. TRUE place radius axis inside panel. FALSE place radius axis next panel. numeric value, setting theta axis value axis placed inside panel. Can given length 2 vector control primary secondary axis placement separately. rotate.angle TRUE, transforms angle aesthetic data accordance computed theta position. FALSE (default), transformation performed. Can useful rotate text geoms alignment coordinates. inner.radius numeric 0 1 setting size inner radius hole. fill fill color background. default use color column included dat. custom dataset provided dat without color column without fill, greyscale used. Custom fill colors can provided option (overriding color column) recycled /necessary. alpha transparency fill colors. lwd Line width lines intervals. Set NULL remove lines. color color lines intervals. lty Line type lines intervals. lab Whether include labels. Requires geomtextpath package. abbrv including labels, whether use abbreviations instead full interval names. skip vector interval names indicating intervals labeled. abbrv TRUE, can also include interval abbreviations. neg Set true theta-axis using negative values. usually true using ggtree. prop rotational proportion background scale takes . textpath_args list named arguments provide geomtextpath::geom_textpath(). used lab set TRUE. Useful arguments include color (font color), family (font family), fontface, hjust (radial adjustment), size (font size). clip drawing clipped extent plot panel? setting \"\" (default) means yes, setting \"\" means . details, please see coord_cartesian(). r_axis_inside, rotate_angle","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_radial.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Enhanced polar coordinate system with geological timescale — coord_geo_radial","text":"custom data.frame provided (dat), consist least 2 columns data. See data(periods) example. max_age column lists oldest boundary time interval. min_age column lists youngest boundary time interval. abbr column optional lists abbreviations may used labels. color column optional lists color background time interval. dat may also list values /dataframes multiple time scales added background. Scales added sequentially starting start going specified direction. default scales equal circular/rotational proportion, can overridden prop. dat list, fill, alpha, lwd, color, lty, lab, abbrv, skip, neg, prop, textpath_args can also lists (N.B. textpath_args list lists). lists long dat, elements recycled. individual values (vectors) used parameters, applied time scales (recycled necessary). sum prop values greater 1, proportions scaled sum 1. However, prop values may sum less 1 user like blank space background. Care must taken adding labels plots, likely overlap plot default settings. textpath_args argument can used adjust settings plotting labels. See geomtextpath::geom_textpath() details available arguments. Also note curvature labels may vary based distance origin. abbrv set TRUE default.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_radial.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Enhanced polar coordinate system with geological timescale — coord_geo_radial","text":"","code":"library(ggplot2) library(ggtree) set.seed(1) tree <- rtree(100) # single scale revts(ggtree(tree)) +   coord_geo_radial(dat = \"stages\") +   scale_y_continuous(guide = \"none\", breaks = NULL) +   theme_gray() #> Scale for y is already present. #> Adding another scale for y, which will replace the existing scale. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`.   # multiple scales revts(ggtree(tree)) +   coord_geo_radial(     dat = list(\"stages\", \"periods\"), alpha = .5,     prop = list(0.75, .25), start = pi / 4, end = 2 * pi, lty = \"dashed\"   ) +   scale_y_continuous(expand = expansion(mult = c(0.02, 0.02)),                      guide = \"none\", breaks = NULL) +   theme_gray() #> Scale for y is already present. #> Adding another scale for y, which will replace the existing scale. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`.  library(ggplot2) library(paleotree) data(RaiaCopesRule) ggtree(ceratopsianTreeRaia,        position = position_nudge(x = -ceratopsianTreeRaia$root.time)) +   coord_geo_radial(dat = \"stages\") +   scale_y_continuous(guide = \"none\", breaks = NULL) +   theme_classic() #> Scale for y is already present. #> Adding another scale for y, which will replace the existing scale. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`."},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_trans_flip.html","id":null,"dir":"Reference","previous_headings":"","what":"Transformed and flipped Cartesian coordinate system — coord_trans_flip","title":"Transformed and flipped Cartesian coordinate system — coord_trans_flip","text":"coord_trans_flip behaves similarly ggplot2::coord_trans() occurs statistical transformation affect visual appearance geoms. main difference also flips x y coordinates like ggplot2::coord_flip().","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_trans_flip.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transformed and flipped Cartesian coordinate system — coord_trans_flip","text":"","code":"coord_trans_flip(   x = \"identity\",   y = \"identity\",   xlim = NULL,   ylim = NULL,   clip = \"on\",   expand = TRUE )"},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_trans_flip.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transformed and flipped Cartesian coordinate system — coord_trans_flip","text":"x, y Transformers x y axes names. xlim, ylim Limits x y axes. clip drawing clipped extent plot panel? setting \"\" (default) means yes, setting \"\" means . cases, default \"\" changed, setting clip = \"\" can cause unexpected results. allows drawing data points anywhere plot, including plot margins. limits set via xlim ylim data points fall outside limits, data points may show places axes, legend, plot title, plot margins. expand TRUE, default, adds small expansion factor limits ensure data axes overlap. FALSE, limits taken exactly data xlim/ylim. Giving logical vector separately control expansion four directions (top, left, bottom right). expand argument recycled length 4 necessary. Alternatively, can named logical vector control single direction, e.g. expand = c(bottom = FALSE).","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_trans_flip.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Transformed and flipped Cartesian coordinate system — coord_trans_flip","text":"","code":"library(ggplot2) ggplot(mtcars, aes(disp, wt)) +   geom_point() +   coord_trans_flip(x = \"log10\", y = \"log10\")"},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_trans_xy.html","id":null,"dir":"Reference","previous_headings":"","what":"Transformed XY Cartesian coordinate system — coord_trans_xy","title":"Transformed XY Cartesian coordinate system — coord_trans_xy","text":"coord_trans_xy behaves similarly ggplot2::coord_trans() occurs statistical transformation affect visual appearance geoms. main difference takes single transformer applied x y axes simultaneously. transformers produced ggforce::linear_trans() x y arguments work, transformers produced using scales::trans_new() take x y arguments also work. Axis limits adjusted account transformation unless limits specified xlim ylim.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_trans_xy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transformed XY Cartesian coordinate system — coord_trans_xy","text":"","code":"coord_trans_xy(   trans = NULL,   xlim = NULL,   ylim = NULL,   expand = FALSE,   default = FALSE,   clip = \"on\" )"},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_trans_xy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transformed XY Cartesian coordinate system — coord_trans_xy","text":"trans Transformer x y axes. xlim, ylim Limits x y axes. expand TRUE, default, adds small expansion factor limits ensure data axes overlap. FALSE, limits taken exactly data xlim/ylim. Giving logical vector separately control expansion four directions (top, left, bottom right). expand argument recycled length 4 necessary. Alternatively, can named logical vector control single direction, e.g. expand = c(bottom = FALSE). default default coordinate system? FALSE (default), replacing coordinate system another one creates message alerting user coordinate system replaced. TRUE, warning suppressed. clip drawing clipped extent plot panel? setting \"\" (default) means yes, setting \"\" means . cases, default \"\" changed, setting clip = \"\" can cause unexpected results. allows drawing data points anywhere plot, including plot margins. limits set via xlim ylim data points fall outside limits, data points may show places axes, legend, plot title, plot margins.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_trans_xy.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Transformed XY Cartesian coordinate system — coord_trans_xy","text":"coordinate system works geoms points defined x y coordinates (e.g., ggplot2::geom_point(), ggplot2::geom_polygon()). currently work geoms point coordinates extrapolated (e.g., ggplot2::geom_rect()). Furthermore, used ggplot2 3.5.0 later, transformation edge cases may cause problems rendering axis lines. includes currently support \"capping\" axes. hope support geoms, edge cases, features future.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_trans_xy.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Transformed XY Cartesian coordinate system — coord_trans_xy","text":"","code":"# make transformer library(ggforce) trans <- linear_trans(shear(2, 0), rotate(-pi / 3))  # set up data to be plotted square <- data.frame(x = c(0, 0, 4, 4), y = c(0, 1, 1, 0)) points <- data.frame(x = runif(100, 0, 4), y = runif(100, 0, 1))  # plot data normally library(ggplot2) ggplot(data = points, aes(x = x, y = y)) +   geom_polygon(data = square, fill = NA, color = \"black\") +   geom_point(color = \"black\") +   coord_cartesian(expand = FALSE) +   theme_classic()   # plot data with transformation ggplot(data = points, aes(x = x, y = y)) +   geom_polygon(data = square, fill = NA, color = \"black\") +   geom_point(color = \"black\") +   coord_trans_xy(trans = trans, expand = FALSE) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/reference/deeptime-package.html","id":null,"dir":"Reference","previous_headings":"","what":"deeptime: Plotting Tools for Anyone Working in Deep Time — deeptime-package","title":"deeptime: Plotting Tools for Anyone Working in Deep Time — deeptime-package","text":"Extends functionality plotting packages (notably 'ggplot2') help facilitate plotting data long time intervals, including, limited , geological, evolutionary, ecological data. primary goal 'deeptime' enable users add highly customizable timescales visualizations. functions also included assist areas deep time visualization.","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/reference/deeptime-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"deeptime: Plotting Tools for Anyone Working in Deep Time — deeptime-package","text":"Maintainer: William Gearty willgearty@gmail.com (ORCID)","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/disparity_through_time.html","id":null,"dir":"Reference","previous_headings":"","what":"Disparity through time plot using lattice — disparity_through_time","title":"Disparity through time plot using lattice — disparity_through_time","text":"Plots points 2-D surfaces within 3-D framework. See lattice::wireframe() lattice::panel.cloud() customization options.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/disparity_through_time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Disparity through time plot using lattice — disparity_through_time","text":"","code":"disparity_through_time(   x,   data,   groups,   pch = 16,   col.point = c(\"blue\"),   scales = list(arrows = FALSE, distance = 1, col = \"black\", z = list(rot = 90)),   colorkey = FALSE,   screen = list(z = 90, x = 70, y = 180),   aspect = c(1.5, 4),   drape = TRUE,   col.regions = c(\"white\"),   alpha.regions = c(1),   perspective = FALSE,   R.mat = matrix(c(1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), 4, 4),   par.settings = list(axis.line = list(col = \"transparent\"), layout.heights =     list(top.padding = 0, main.key.padding = 0, key.axis.padding = 0, axis.xlab.padding =     0, xlab.key.padding = 0, key.sub.padding = 0, bottom.padding = 0), layout.widths =     list(left.padding = 0, key.ylab.padding = 0, ylab.axis.padding = 0, axis.key.padding     = 0, right.padding = 0)),   lattice.options = list(axis.padding = list(factor = 0)),   ... )"},{"path":"https://williamgearty.com/deeptime/dev/reference/disparity_through_time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Disparity through time plot using lattice — disparity_through_time","text":"x formula (likely form z ~ x * y) data data frame variables formula evaluated groups variable data used grouping variable (probably z variable) pch point type col.point color(s) points surfaces scales list specifying axes drawn (see lattice::xyplot() details) colorkey logical, legend drawn (list describing legend; see lattice::levelplot() details) screen list rotations applied axis aspect numeric vector length 2, giving relative aspects y-size/x-size z-size/x-size enclosing cube drape logical, whether surfaces colored based col.regions alpha.regions col.regions color(s) surfaces alpha.regions alpha value(s) surfaces perspective logical, whether plot perspective view R.mat transformational matrix applied orientation axes par.settings plotting settings (see lattice::trellis.par.set()) lattice.options lattice settings (see lattice::lattice.options()) ... arguments passed lattice::wireframe()","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/disparity_through_time.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Disparity through time plot using lattice — disparity_through_time","text":"object class \"trellis\", output lattice::wireframe().","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/disparity_through_time.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Disparity through time plot using lattice — disparity_through_time","text":"","code":"g <- data.frame(   x = runif(100, 0, 60), y = runif(100, 0, 10),   z = factor(rep(periods$name[1:5], each = 20),     levels = periods$name[1:5]   ) ) disparity_through_time(z ~ x * y,   data = g, groups = z, aspect = c(1.5, 2),   xlim = c(0, 60), ylim = c(0, 10), col.regions = \"lightgreen\",   col.point = c(\"red\", \"blue\") )"},{"path":"https://williamgearty.com/deeptime/dev/reference/eons.html","id":null,"dir":"Reference","previous_headings":"","what":"Eon data from the International Commission on Stratigraphy (v2024/12) — eons","title":"Eon data from the International Commission on Stratigraphy (v2024/12) — eons","text":"dataset containing boundary ages, abbreviations, colors eons Geologic Time Scale. Based ICS International Chronostratigraphic Chart (v2024/12), Cohen, Finney, Gibbard, Fan.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/eons.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Eon data from the International Commission on Stratigraphy (v2024/12) — eons","text":"","code":"eons"},{"path":"https://williamgearty.com/deeptime/dev/reference/eons.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Eon data from the International Commission on Stratigraphy (v2024/12) — eons","text":"data frame 3 rows 5 variables: name eon name max_age maximum age, millions years min_age minimum age, millions years abbr eon name abbreviations color colors eon, according Commission Geological Map World lab_color label colors eon, either white black, whichever better contrast background color, based recommendations International Telecommunication Union","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/eons.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Eon data from the International Commission on Stratigraphy (v2024/12) — eons","text":"https://stratigraphy.org via https://macrostrat.org/api/v2/defs/intervals?timescale=international%20eons","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/reference/epochs.html","id":null,"dir":"Reference","previous_headings":"","what":"Epoch data from the International Commission on Stratigraphy (v2024/12) — epochs","title":"Epoch data from the International Commission on Stratigraphy (v2024/12) — epochs","text":"dataset containing boundary ages, abbreviations, colors epochs Geologic Time Scale. Based ICS International Chronostratigraphic Chart (v2024/12), Cohen, Finney, Gibbard, Fan.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/epochs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Epoch data from the International Commission on Stratigraphy (v2024/12) — epochs","text":"","code":"epochs"},{"path":"https://williamgearty.com/deeptime/dev/reference/epochs.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Epoch data from the International Commission on Stratigraphy (v2024/12) — epochs","text":"data frame 34 rows 5 variables: name epoch name max_age maximum age, millions years min_age minimum age, millions years abbr epoch name abbreviations color colors epoch, according Commission Geological Map World lab_color label colors epoch, either white black, whichever better contrast background color, based recommendations International Telecommunication Union","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/epochs.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Epoch data from the International Commission on Stratigraphy (v2024/12) — epochs","text":"https://stratigraphy.org via https://macrostrat.org/api/v2/defs/intervals?timescale=international%20epochs","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/reference/eras.html","id":null,"dir":"Reference","previous_headings":"","what":"Era data from the International Commission on Stratigraphy (v2024/12) — eras","title":"Era data from the International Commission on Stratigraphy (v2024/12) — eras","text":"dataset containing boundary ages, abbreviations, colors eras Geologic Time Scale. Based ICS International Chronostratigraphic Chart (v2024/12), Cohen, Finney, Gibbard, Fan.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/eras.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Era data from the International Commission on Stratigraphy (v2024/12) — eras","text":"","code":"eras"},{"path":"https://williamgearty.com/deeptime/dev/reference/eras.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Era data from the International Commission on Stratigraphy (v2024/12) — eras","text":"data frame 10 rows 5 variables: name era name max_age maximum age, millions years min_age minimum age, millions years abbr era name abbreviations color colors era, according Commission Geological Map World lab_color label colors era, either white black, whichever better contrast background color, based recommendations International Telecommunication Union","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/eras.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Era data from the International Commission on Stratigraphy (v2024/12) — eras","text":"https://stratigraphy.org via https://macrostrat.org/api/v2/defs/intervals?timescale=international%20eras","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_grid_color.html","id":null,"dir":"Reference","previous_headings":"","what":"Lay out panels in a grid with colored strips — facet_grid_color","title":"Lay out panels in a grid with colored strips — facet_grid_color","text":"facet_grid_color behaves similarly ggplot2::facet_grid() forms matrix panels defined row column faceting variables. main difference also allows user specify background label colors individual facet strips using colors lab_colors arguments. one variable many levels, try facet_wrap_color().","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_grid_color.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Lay out panels in a grid with colored strips — facet_grid_color","text":"","code":"facet_grid_color(   colors,   rows = NULL,   cols = NULL,   scales = \"fixed\",   space = \"fixed\",   shrink = TRUE,   labeller = \"label_value\",   lab_colors = \"auto\",   as.table = TRUE,   switch = NULL,   drop = TRUE,   margins = FALSE,   axes = \"margins\",   axis.labels = \"all\" )  facet_grid_geo(   colors = stages,   rows = NULL,   cols = NULL,   scales = \"fixed\",   space = \"fixed\",   shrink = TRUE,   labeller = \"label_value\",   lab_colors = \"auto\",   as.table = TRUE,   switch = NULL,   drop = TRUE,   margins = FALSE,   axes = \"margins\",   axis.labels = \"all\" )"},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_grid_color.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Lay out panels in a grid with colored strips — facet_grid_color","text":"colors Specifies colors use replace strip backgrounds. Either ) function returns color given strip label, B) character name function , C) named character vector names matching strip labels values indicating desired colors, D) data.frame representing lookup table columns named \"name\" (matching strip labels) \"color\" (indicating desired colors). function returns NA, default background color used. rows, cols set variables expressions quoted vars() defining faceting groups rows columns dimension. variables can named (names passed labeller). compatibility classic interface, rows can also formula rows (tabular display) LHS columns (tabular display) RHS; dot formula used indicate faceting dimension (either row column). scales scales shared across facets (default, \"fixed\"), vary across rows (\"free_x\"), columns (\"free_y\"), rows columns (\"free\")? space \"fixed\", default, panels size. \"free_y\" height proportional length y scale; \"free_x\" width proportional length x scale; \"free\" height width vary.  setting effect unless appropriate scales also vary. shrink TRUE, shrink scales fit output statistics, raw data. FALSE, range raw data statistical summary. labeller function takes one data frame labels returns list data frame character vectors. input column corresponds one factor. Thus one vars(cyl, ). output column gets displayed one separate line strip label. function inherit \"labeller\" S3 class compatibility labeller(). can use different labeling functions different kind labels, example use label_parsed() formatting facet labels. label_value() used default, check details pointers options. lab_colors Specifies colors use strip labels. Either ) function returns color given strip label, B) character name function , C) named character vector names matching strip labels values indicating desired colors, D) data.frame representing lookup table columns named \"name\" (matching strip labels) \"lab_color\" (indicating desired colors), E) \"auto\" (default), set labels black white, whichever better contrast background color, based recommendations International Telecommunication Union. function returns NA, default label color used. .table TRUE, default, facets laid like table highest values bottom-right. FALSE, facets laid like plot highest value top-right. switch default, labels displayed top right plot. \"x\", top labels displayed bottom. \"y\", right-hand side labels displayed left. Can also set \"\". drop TRUE, default, factor levels used data automatically dropped. FALSE, factor levels shown, regardless whether appear data. margins Either logical value character vector. Margins additional facets contain data possible values faceting variables. FALSE, additional facets included (default). TRUE, margins included faceting variables. specified character vector, names variables margins created. axes Determines axes drawn. \"margins\" (default), axes drawn exterior margins. \"all_x\" \"all_y\" draw respective axes interior panels , whereas \"\" draw axes panels. axis.labels Determines whether draw labels interior axes axes argument \"margins\". \"\" (default), interior axes get labels. \"margins\", exterior axes get labels interior axes get none. \"all_x\" \"all_y\", draws labels interior axes x- y-direction respectively.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_grid_color.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Lay out panels in a grid with colored strips — facet_grid_color","text":"facet_grid_geo(...) alias facet_grid_color() default colors set stages.","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_grid_color.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Lay out panels in a grid with colored strips — facet_grid_color","text":"","code":"library(ggplot2) df <- data.frame(x = 1:10, y = 1:10, period = c(\"Permian\", \"Triassic\")) ggplot(df) +   geom_point(aes(x, y)) +   facet_grid_color(cols = vars(period), colors = periods)"},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_nested_color.html","id":null,"dir":"Reference","previous_headings":"","what":"Layout panels in a grid with nested colored strips — facet_nested_color","title":"Layout panels in a grid with nested colored strips — facet_nested_color","text":"facet_nested_color behaves similarly ggh4x::facet_nested() forms matrix panels defined row column faceting variables nests grouped facets. main difference also allows user specify background label colors individual facet strips using colors lab_colors arguments.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_nested_color.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Layout panels in a grid with nested colored strips — facet_nested_color","text":"","code":"facet_nested_color(   colors,   rows = NULL,   cols = NULL,   scales = \"fixed\",   space = \"fixed\",   axes = \"margins\",   remove_labels = \"none\",   independent = \"none\",   shrink = TRUE,   labeller = \"label_value\",   lab_colors = \"auto\",   as.table = TRUE,   switch = NULL,   drop = TRUE,   margins = FALSE,   nest_line = element_line(inherit.blank = TRUE),   solo_line = FALSE,   resect = unit(0, \"mm\"),   render_empty = TRUE,   strip = strip_nested(),   bleed = NULL )  facet_nested_geo(   colors = rbind(periods, stages),   rows = NULL,   cols = NULL,   scales = \"fixed\",   space = \"fixed\",   axes = \"margins\",   remove_labels = \"none\",   independent = \"none\",   shrink = TRUE,   labeller = \"label_value\",   lab_colors = \"auto\",   as.table = TRUE,   switch = NULL,   drop = TRUE,   margins = FALSE,   nest_line = element_line(inherit.blank = TRUE),   solo_line = FALSE,   resect = unit(0, \"mm\"),   render_empty = TRUE,   strip = strip_nested(),   bleed = NULL )"},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_nested_color.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Layout panels in a grid with nested colored strips — facet_nested_color","text":"colors Specifies colors use replace strip backgrounds. Either ) function returns color given strip label, B) character name function , C) named character vector names matching strip labels values indicating desired colors, D) data.frame representing lookup table columns named \"name\" (matching strip labels) \"color\" (indicating desired colors). function returns NA, default background color used. rows, cols set variables expressions quoted vars() defining faceting groups rows columns dimension. variables can named (names passed labeller). compatibility classic interface, rows can also formula rows (tabular display) LHS columns (tabular display) RHS; dot formula used indicate faceting dimension (either row column). scales character(1) logical(1) whether scales shared across facets allowed vary. Interacts independent argument. One following: \"fixed\" FALSE Scales shared across facets (default). \"free_x\" x-scales allowed vary across rows. \"free_y\" y-scales allowed vary across columns. \"free\" TRUE Scales can vary across rows columns. space character(1) logical(1) determining whether size panels proportional length scales. independent argument allows free scales dimension, panel sizes proportional. Note scales argument must free dimension space argument effect.One following: \"fixed\" FALSE panels size (default). \"free_x\" Panel widths proportional x-scales. \"free_y\" Panel heights proportional y-scales. \"free\" TRUE widths heights vary according scales. axes character(1) logical(1) axes drawn. One following: \"margins\" FALSE draw axes outer margins (default). \"x\" Draw axes outer margins inner x-axes . \"y\" Draw axes outer margins inner y-axes . \"\" TRUE Draw axes every panel. remove_labels character(1) logical(1) determining whether axis text displayed inner panels. One following: \"none\" FALSE Display axis text axes (default). \"x\" Display axis text outer margins inner y-axes. \"y\" Display axis text outer margins inner x-axes. \"\" TRUE display axis text outer margins. independent character(1) logical(1) determining whether scales can vary within row column panels, like can ggplot2::facet_wrap. scales argument must free dimension can set independent. One following: \"none\" FALSE y-scales fixed row x-scales fixed column (default). \"x\" x-scales allowed vary within column. \"y\" y-scales allowed vary within row. \"\" TRUE x- y-scales allowed vary within column row respectively. shrink TRUE, shrink scales fit output statistics, raw data. FALSE, range raw data statistical summary. labeller function takes one data frame labels returns list data frame character vectors. input column corresponds one factor. Thus one vars(cyl, ). output column gets displayed one separate line strip label. function inherit \"labeller\" S3 class compatibility labeller(). can use different labeling functions different kind labels, example use label_parsed() formatting facet labels. label_value() used default, check details pointers options. lab_colors Specifies colors use strip labels. Either ) function returns color given strip label, B) character name function , C) named character vector names matching strip labels values indicating desired colors, D) data.frame representing lookup table columns named \"name\" (matching strip labels) \"lab_color\" (indicating desired colors), E) \"auto\" (default), set labels black white, whichever better contrast background color, based recommendations International Telecommunication Union. function returns NA, default label color used. .table TRUE, default, facets laid like table highest values bottom-right. FALSE, facets laid like plot highest value top-right. switch default, labels displayed top right plot. \"x\", top labels displayed bottom. \"y\", right-hand side labels displayed left. Can also set \"\". drop TRUE, default, factor levels used data automatically dropped. FALSE, factor levels shown, regardless whether appear data. margins Either logical value character vector. Margins additional facets contain data possible values faceting variables. FALSE, additional facets included (default). TRUE, margins included faceting variables. specified character vector, names variables margins created. nest_line theme element, either element_blank() inheriting ggplot2::element_line(). Lines drawn layers strips indicating hierarchy. element inherits ggh4x.facet.nestline element theme. solo_line logical(1) indicating whether parent strips single child drawn nest_line (TRUE) line applies parents multiple children (FALSE, default). relevant nest_line drawn. resect unit vector length 1, indicating much nesting line shortened. render_empty logical(1): whether draw panels without data (TRUE, default) display blanks (FALSE). strip object created call strip function, strip_nested(). bleed bleed argument moved strip_nested() function.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_nested_color.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Layout panels in a grid with nested colored strips — facet_nested_color","text":"facet_nested_geo(...) alias facet_nested_color() default colors set rbind(periods, stages).","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_nested_color.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Layout panels in a grid with nested colored strips — facet_nested_color","text":"","code":"library(ggplot2) df <- data.frame(x = 1:10, y = 1:10,                  period = factor(c(\"Permian\", \"Triassic\", \"Jurassic\",                                    \"Cretaceous\", \"Paleogene\"),                                  levels = c(\"Permian\", \"Triassic\",                                             \"Jurassic\", \"Cretaceous\",                                             \"Paleogene\")),                  era = factor(c(\"Paleozoic\", \"Mesozoic\", \"Mesozoic\",                                 \"Mesozoic\", \"Cenozoic\"),                                 levels = c(\"Paleozoic\", \"Mesozoic\",                                            \"Cenozoic\"))) ggplot(df, aes(x, y)) +   geom_point() +   facet_nested_color(~ era + period, colors = rbind(periods, eras))"},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_nested_wrap_color.html","id":null,"dir":"Reference","previous_headings":"","what":"Ribbon of panels with nested colored strips — facet_nested_wrap_color","title":"Ribbon of panels with nested colored strips — facet_nested_wrap_color","text":"facet_nested_wrap_color behaves similarly ggh4x::facet_nested_wrap() wraps sequence panels onto two-dimensional layout, nests grouped facets possible.. main difference also allows user specify background label colors individual facet strips using colors lab_colors arguments.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_nested_wrap_color.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ribbon of panels with nested colored strips — facet_nested_wrap_color","text":"","code":"facet_nested_wrap_color(   facets,   colors,   nrow = NULL,   ncol = NULL,   scales = \"fixed\",   axes = \"margins\",   remove_labels = \"none\",   shrink = TRUE,   labeller = \"label_value\",   lab_colors = \"auto\",   as.table = TRUE,   drop = TRUE,   dir = \"h\",   strip.position = \"top\",   nest_line = element_line(inherit.blank = TRUE),   solo_line = FALSE,   resect = unit(0, \"mm\"),   trim_blank = TRUE,   strip = strip_nested(),   bleed = NULL )  facet_nested_wrap_geo(   facets,   colors = rbind(periods, stages),   nrow = NULL,   ncol = NULL,   scales = \"fixed\",   axes = \"margins\",   remove_labels = \"none\",   shrink = TRUE,   labeller = \"label_value\",   lab_colors = \"auto\",   as.table = TRUE,   drop = TRUE,   dir = \"h\",   strip.position = \"top\",   nest_line = element_line(inherit.blank = TRUE),   solo_line = FALSE,   resect = unit(0, \"mm\"),   trim_blank = TRUE,   strip = strip_nested(),   bleed = NULL )"},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_nested_wrap_color.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ribbon of panels with nested colored strips — facet_nested_wrap_color","text":"facets set variables expressions quoted vars() defining faceting groups rows columns dimension. variables can named (names passed labeller). compatibility classic interface, can also formula character vector. Use either one sided formula, ~+ b, character vector, c(\"\", \"b\"). colors Specifies colors use replace strip backgrounds. Either ) function returns color given strip label, B) character name function , C) named character vector names matching strip labels values indicating desired colors, D) data.frame representing lookup table columns named \"name\" (matching strip labels) \"color\" (indicating desired colors). function returns NA, default background color used. nrow, ncol Number rows columns. scales character(1) logical(1) whether scales shared across facets allowed vary. One following: \"fixed\" FALSE Scales shared across facets (default). \"free_x\" x-scales allowed vary. \"free_y\" y-scales allowed vary. \"free\" TRUE scales can vary axes character(1) logical(1) axes drawn. One following: \"margins\" FALSE draw axes outer margins (default). \"x\" Draw axes outer margins inner x-axes . \"y\" Draw axes outer margins inner y-axes . \"\" TRUE Draw axes every panel. remove_labels character(1) logical(1) determining whether axis text displayed inner panels. One following: \"none\" FALSE Display axis text axes (default). \"x\" Display axis text outer margins inner y-axes. \"y\" Display axis text outer margins inner x-axes. \"\" TRUE display axis text outer margins. shrink TRUE, shrink scales fit output statistics, raw data. FALSE, range raw data statistical summary. labeller function takes one data frame labels returns list data frame character vectors. input column corresponds one factor. Thus one vars(cyl, ). output column gets displayed one separate line strip label. function inherit \"labeller\" S3 class compatibility labeller(). can use different labeling functions different kind labels, example use label_parsed() formatting facet labels. label_value() used default, check details pointers options. lab_colors Specifies colors use strip labels. Either ) function returns color given strip label, B) character name function , C) named character vector names matching strip labels values indicating desired colors, D) data.frame representing lookup table columns named \"name\" (matching strip labels) \"lab_color\" (indicating desired colors), E) \"auto\" (default), set labels black white, whichever better contrast background color, based recommendations International Telecommunication Union. function returns NA, default label color used. .table TRUE, default, facets laid like table highest values bottom-right. FALSE, facets laid like plot highest value top-right. drop TRUE, default, factor levels used data automatically dropped. FALSE, factor levels shown, regardless whether appear data. dir Direction: either \"h\" horizontal, default, \"v\", vertical. strip.position default, labels displayed top plot. Using strip.position possible place labels either four sides setting strip.position = c(\"top\",   \"bottom\", \"left\", \"right\") nest_line theme element, either element_blank() inheriting ggplot2::element_line(). Lines drawn layers strips indicating hierarchy. element inherits ggh4x.facet.nestline element theme. solo_line logical(1) indicating whether parent strips single child drawn nest_line (TRUE) line applies parents multiple children (FALSE, default). relevant nest_line drawn. resect unit vector length 1, indicating much nesting line shortened. trim_blank logical(1). TRUE (default), draw rows columns containing panels. FALSE, nrow ncol arguments taken literally, even needed fit panels. strip object created call strip function, strip_nested(). bleed bleed argument moved strip_nested() function.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_nested_wrap_color.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Ribbon of panels with nested colored strips — facet_nested_wrap_color","text":"facet_nested_wrap_geo(...) alias facet_nested_wrap_color() default colors set rbind(periods, stages).","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_nested_wrap_color.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Ribbon of panels with nested colored strips — facet_nested_wrap_color","text":"","code":"library(ggplot2) df <- data.frame(x = 1:10, y = 1:10,                  period = factor(c(\"Permian\", \"Triassic\", \"Jurassic\",                                    \"Cretaceous\", \"Paleogene\"),                                  levels = c(\"Permian\", \"Triassic\",                                             \"Jurassic\", \"Cretaceous\",                                             \"Paleogene\")),                  era = factor(c(\"Paleozoic\", \"Mesozoic\", \"Mesozoic\",                                 \"Mesozoic\", \"Cenozoic\"),                                 levels = c(\"Paleozoic\", \"Mesozoic\",                                            \"Cenozoic\"))) ggplot(df, aes(x, y)) +   geom_point() +   facet_nested_wrap_color(~ era + period, colors = rbind(periods, eras))"},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_wrap_color.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrap a 1d ribbon of panels into 2d with colored strips — facet_wrap_color","title":"Wrap a 1d ribbon of panels into 2d with colored strips — facet_wrap_color","text":"facet_wrap_color behaves similarly ggplot2::facet_wrap() wraps 1d sequence panels 2d. main difference also allows user specify background label colors individual facet strips using colors lab_colors arguments. generally better use screen space facet_grid_color() displays roughly rectangular.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_wrap_color.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrap a 1d ribbon of panels into 2d with colored strips — facet_wrap_color","text":"","code":"facet_wrap_color(   facets,   colors,   nrow = NULL,   ncol = NULL,   scales = \"fixed\",   shrink = TRUE,   labeller = \"label_value\",   lab_colors = \"auto\",   as.table = TRUE,   drop = TRUE,   dir = \"h\",   strip.position = \"top\",   axes = \"margins\",   axis.labels = \"all\" )  facet_wrap_geo(   facets,   colors = stages,   nrow = NULL,   ncol = NULL,   scales = \"fixed\",   shrink = TRUE,   labeller = \"label_value\",   lab_colors = \"auto\",   as.table = TRUE,   drop = TRUE,   dir = \"h\",   strip.position = \"top\",   axes = \"margins\",   axis.labels = \"all\" )"},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_wrap_color.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrap a 1d ribbon of panels into 2d with colored strips — facet_wrap_color","text":"facets set variables expressions quoted vars() defining faceting groups rows columns dimension. variables can named (names passed labeller). compatibility classic interface, can also formula character vector. Use either one sided formula, ~+ b, character vector, c(\"\", \"b\"). colors Specifies colors use replace strip backgrounds. Either ) function returns color given strip label, B) character name function , C) named character vector names matching strip labels values indicating desired colors, D) data.frame representing lookup table columns named \"name\" (matching strip labels) \"color\" (indicating desired colors). function returns NA, default background color used. nrow, ncol Number rows columns. scales scales fixed (\"fixed\", default), free (\"free\"), free one dimension (\"free_x\", \"free_y\")? shrink TRUE, shrink scales fit output statistics, raw data. FALSE, range raw data statistical summary. labeller function takes one data frame labels returns list data frame character vectors. input column corresponds one factor. Thus one vars(cyl, ). output column gets displayed one separate line strip label. function inherit \"labeller\" S3 class compatibility labeller(). can use different labeling functions different kind labels, example use label_parsed() formatting facet labels. label_value() used default, check details pointers options. lab_colors Specifies colors use strip labels. Either ) function returns color given strip label, B) character name function , C) named character vector names matching strip labels values indicating desired colors, D) data.frame representing lookup table columns named \"name\" (matching strip labels) \"lab_color\" (indicating desired colors), E) \"auto\" (default), set labels black white, whichever better contrast background color, based recommendations International Telecommunication Union. function returns NA, default label color used. .table .table argument now absorbed dir argument via two letter options. TRUE, facets laid like table highest values bottom-right. FALSE, facets laid like plot highest value top-right. drop TRUE, default, factor levels used data automatically dropped. FALSE, factor levels shown, regardless whether appear data. dir Direction: either \"h\" horizontal, default, \"v\", vertical. \"h\" \"v\" combined .table set final layout. Alternatively, combination \"t\" (top) \"b\" (bottom) \"l\" (left) \"r\" (right) set layout directly. two letters give starting position first letter gives growing direction. example \"rt\" place first panel top-right starts filling panels right--left. strip.position default, labels displayed top plot. Using strip.position possible place labels either four sides setting strip.position = c(\"top\",   \"bottom\", \"left\", \"right\") axes Determines axes drawn case fixed scales. \"margins\" (default), axes drawn exterior margins. \"all_x\" \"all_y\" draw respective axes interior panels , whereas \"\" draw axes panels. axis.labels Determines whether draw labels interior axes scale fixed axis argument \"margins\". \"\" (default), interior axes get labels. \"margins\", exterior axes get labels, interior axes get none. \"all_x\" \"all_y\", draws labels interior axes x- y-direction respectively.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_wrap_color.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Wrap a 1d ribbon of panels into 2d with colored strips — facet_wrap_color","text":"facet_wrap_geo(...) alias facet_wrap_color() default colors set stages.","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_wrap_color.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Wrap a 1d ribbon of panels into 2d with colored strips — facet_wrap_color","text":"","code":"library(ggplot2) df <- data.frame(x = 1:10, y = 1:10, period = c(\"Permian\", \"Triassic\")) ggplot(df) +   geom_point(aes(x, y)) +   facet_wrap_color(vars(period), colors = periods)"},{"path":"https://williamgearty.com/deeptime/dev/reference/fgdc_dict.html","id":null,"dir":"Reference","previous_headings":"","what":"FGDC pattern labeling function/dictionary — fgdc_dict","title":"FGDC pattern labeling function/dictionary — fgdc_dict","text":"Generates labeling function/dictionary based built-fgdc_names dataset can used retrieve names patterns based pattern numbers/codes defined FGDC Digital Cartographic Standard Geologic Map Symbolization U.S. Geological Survey Geologic Data Subcommittee (GDS) Federal Geographic Data Committee (FGDC). Like fgdc_names, patterns names included (.e., patterns 601-733).","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/fgdc_dict.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"FGDC pattern labeling function/dictionary — fgdc_dict","text":"","code":"fgdc_dict(clean = TRUE, nomatch = NULL, wrap = NULL)"},{"path":"https://williamgearty.com/deeptime/dev/reference/fgdc_dict.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"FGDC pattern labeling function/dictionary — fgdc_dict","text":"clean logical. pattern names cleaned? TRUE (default), names cleaned remove strings \"(2nd option)\". FALSE, names verbatim FGDC standard. Note pattern names may unique set TRUE. nomatch character. string label values match name dictionary. NULL (default), values kept -. wrap integer. NULL, pattern names wrapped specified width (characters) insertting line breaks words using strwrap() (words broken). can useful making long names fit better legends. NULL (default), wrapping done.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/fgdc_dict.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"FGDC pattern labeling function/dictionary — fgdc_dict","text":"labeling function takes vector x pattern numbers returns character vector length(x) giving corresponding pattern names. function designed used labels argument ggplot2 scales, scale_fill_geopattern() ggpattern::scale_pattern_type_identity().","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/reference/fgdc_dict.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"FGDC pattern labeling function/dictionary — fgdc_dict","text":"","code":"library(ggplot2) vals <- c(\"603\", \"626\", \"720\", \"733\") ggplot(mpg, aes(factor(cyl), fill = vals[factor(cyl)])) +   geom_bar() +   scale_fill_geopattern(name = NULL, labels = fgdc_dict())"},{"path":"https://williamgearty.com/deeptime/dev/reference/fgdc_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Pattern numbers and names for patterns from the FGDC Digital Cartographic Standard for Geologic Map Symbolization — fgdc_names","title":"Pattern numbers and names for patterns from the FGDC Digital Cartographic Standard for Geologic Map Symbolization — fgdc_names","text":"dataset containing FGDC pattern numbers verbatim names FGDC Digital Cartographic Standard Geologic Map Symbolization U.S. Geological Survey Geologic Data Subcommittee (GDS) Federal Geographic Data Committee (FGDC). patterns names included (.e., patterns 601-733).","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/fgdc_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pattern numbers and names for patterns from the FGDC Digital Cartographic Standard for Geologic Map Symbolization — fgdc_names","text":"","code":"fgdc_names"},{"path":"https://williamgearty.com/deeptime/dev/reference/fgdc_names.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Pattern numbers and names for patterns from the FGDC Digital Cartographic Standard for Geologic Map Symbolization — fgdc_names","text":"data frame 117 rows 2 variables: code pattern number according FGDC standard name verbatim name pattern according FGDC standard","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/fgdc_names.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Pattern numbers and names for patterns from the FGDC Digital Cartographic Standard for Geologic Map Symbolization — fgdc_names","text":"https://ngmdb.usgs.gov/fgdc_gds/geolsymstd/fgdc-geolsym-patternchart.pdf via https://github.com/davenquinn/geologic-patterns/","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/fgdc_names.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Pattern numbers and names for patterns from the FGDC Digital Cartographic Standard for Geologic Map Symbolization — fgdc_names","text":"pattern numbers names originally extracted Daven Quinn hosted GitHub.","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/reference/geo_pattern.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a FGDC geologic plotting pattern — geo_pattern","title":"Get a FGDC geologic plotting pattern — geo_pattern","text":"Retrieve single geologic pattern defined FGDC Digital Cartographic Standard Geologic Map Symbolization U.S. Geological Survey Geologic Data Subcommittee (GDS) Federal Geographic Data Committee (FGDC).","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geo_pattern.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a FGDC geologic plotting pattern — geo_pattern","text":"","code":"geo_pattern(   code,   scale = 2,   col = NULL,   fill = NULL,   alpha = NULL,   bg = \"white\" )  geo_grob(code, col = NULL, fill = NULL, alpha = NULL, bg = \"white\")"},{"path":"https://williamgearty.com/deeptime/dev/reference/geo_pattern.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a FGDC geologic plotting pattern — geo_pattern","text":"code number corresponding pattern return. Strings numbers permitted. scale visual scale pattern (higher values mean pattern zoomed ). col color use lines pattern. fill color used fill various closed shapes (e.g., circles) pattern. alpha transparency use fill pattern. bg background color use pattern.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geo_pattern.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a FGDC geologic plotting pattern — geo_pattern","text":"geo_grob() returns grob object single instance desired pattern. geo_pattern() returns GridPattern object repeated instance desired pattern.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geo_pattern.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get a FGDC geologic plotting pattern — geo_pattern","text":"specific codes, see \"pattern numbers\" full pattern chart valid code values. Daven Quinn also assembled accessible documentation map patterns/codes lithology patterns/codes. set patterns names also included built-dataset fgdc_names (label dictionary available using fgdc_dict(). rmacrostrat::def_lithologies() can also used look pattern codes various lithologies (see \"fill\" column). Note codes associated color variants (e.g., \"101-M\") supported result default color variant instead (usually black white, e.g., \"101-K\"). patterns originally processed optimized Daven Quinn hosted GitHub.","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/reference/geo_pattern.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get a FGDC geologic plotting pattern — geo_pattern","text":"","code":"library(grid) # Get a generic igneous pattern pattern1 <- geo_pattern(code = \"313-K\") # Get the pattern for a sandstone pattern2 <- geo_pattern(code = \"607\")  # plot the two patterns grid.newpage() grid.draw(rectGrob(gp = gpar(fill = pattern1)))  grid.newpage() grid.draw(rectGrob(gp = gpar(fill = pattern2)))"},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_phylomorpho.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot a 2-D phylomorphospace in ggplot2 — geom_phylomorpho","title":"Plot a 2-D phylomorphospace in ggplot2 — geom_phylomorpho","text":"behaves similar phytools::phylomorphospace(), plotting 2-D phylomorphospace ggplot2::ggplot(). function works like ggplot2 geom; can combined geoms (see example ), output can modified using scales, themes, etc.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_phylomorpho.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot a 2-D phylomorphospace in ggplot2 — geom_phylomorpho","text":"","code":"geom_phylomorpho(   tree,   mapping = NULL,   data = NULL,   position = \"identity\",   ...,   seg_args = list(),   point_args = list(),   arrow = NULL,   arrow.fill = NULL,   lineend = \"butt\",   linejoin = \"round\",   na.rm = FALSE,   show.legend = NA,   inherit.aes = TRUE )"},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_phylomorpho.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot a 2-D phylomorphospace in ggplot2 — geom_phylomorpho","text":"tree object class \"phylo\". mapping Set aesthetic mappings created aes(). specified inherit.aes = TRUE (default), combined default mapping top level plot. must supply mapping plot mapping. data data displayed layer. three options: NULL, default, data inherited plot data specified call ggplot(). data.frame, object, override plot data. objects fortified produce data frame. See fortify() variables created. function called single argument, plot data. return value must data.frame, used layer data. function can created formula (e.g. ~ head(.x, 10)). position position adjustment use data layer. can used various ways, including prevent overplotting improving display. position argument accepts following: result calling position function, position_jitter(). method allows passing extra arguments position. string naming position adjustment. give position string, strip function name position_ prefix. example, use position_jitter(), give position \"jitter\". ... arguments passed ggplot2::geom_segment() ggplot2::geom_point(). seg_args list arguments passed ggplot2::geom_segment(). point_args list arguments passed ggplot2::geom_point(). arrow specification arrow heads, created grid::arrow(). arrow.fill fill colour use arrow head (closed). NULL means use colour aesthetic. lineend Line end style (round, butt, square). linejoin Line join style (round, mitre, bevel). na.rm FALSE, default, missing values removed warning. TRUE, missing values silently removed. show.legend logical. layer included legends? NA, default, includes aesthetics mapped. FALSE never includes, TRUE always includes. can also named logical vector finely select aesthetics display. include legend keys levels, even data exists, use TRUE.  NA, levels shown legend, unobserved levels omitted. inherit.aes FALSE, overrides default aesthetics, rather combining . useful helper functions define data aesthetics inherit behaviour default plot specification, e.g. annotation_borders().","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_phylomorpho.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot a 2-D phylomorphospace in ggplot2 — geom_phylomorpho","text":"ancestral states estimated using phytools::fastAnc(). Note phytools necessarily installed deeptime, required use function. Following estimation ancestral states, nodes connected using ggplot2::geom_segment(), tips indicated using ggplot2::geom_point(). default expectation order data order tip labels tree (tree$tip.label). However, case, can map optional label aesthetic column data contains tip names (see example ).","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_phylomorpho.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot a 2-D phylomorphospace in ggplot2 — geom_phylomorpho","text":"","code":"library(ggplot2) library(ape) tr <- rtree(10) dat <- data.frame(   x = runif(10), y = runif(10), label = tr$tip.label,   row.names = tr$tip.label ) ggplot(dat, aes(x = x, y = y, label = label)) +   geom_phylomorpho(tr) +   geom_label(size = 5)"},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_points_range.html","id":null,"dir":"Reference","previous_headings":"","what":"Display points and their range — geom_points_range","title":"Display points and their range — geom_points_range","text":"geom like ggplot2::geom_pointrange() draws points lines. However, unlike ggplot2::geom_pointrange(), geom takes sets x-y points calculates ranges/intervals based . plots original points ranges using ggplot2::geom_linerange(). cases points connected (grouping due aesthetics), background_line argument can used add lines span entire point range x y category.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_points_range.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Display points and their range — geom_points_range","text":"","code":"geom_points_range(   mapping = NULL,   data = NULL,   stat = \"points_range\",   position = \"identity\",   ...,   na.rm = FALSE,   orientation = NA,   background_line = NULL,   show.legend = NA,   inherit.aes = TRUE )  stat_points_range(   mapping = NULL,   data = NULL,   geom = \"points_range\",   position = \"identity\",   ...,   na.rm = FALSE,   orientation = NA,   show.legend = NA,   inherit.aes = TRUE )"},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_points_range.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Display points and their range — geom_points_range","text":"mapping Set aesthetic mappings created aes(). specified inherit.aes = TRUE (default), combined default mapping top level plot. must supply mapping plot mapping. data data displayed layer. three options: NULL, default, data inherited plot data specified call ggplot(). data.frame, object, override plot data. objects fortified produce data frame. See fortify() variables created. function called single argument, plot data. return value must data.frame, used layer data. function can created formula (e.g. ~ head(.x, 10)). stat statistical transformation use data layer. using geom_*() function construct layer, stat argument can used override default coupling geoms stats. stat argument accepts following: Stat ggproto subclass, example StatCount. string naming stat. give stat string, strip function name stat_ prefix. example, use stat_count(), give stat \"count\". position position adjustment use data layer. can used various ways, including prevent overplotting improving display. position argument accepts following: result calling position function, position_jitter(). method allows passing extra arguments position. string naming position adjustment. give position string, strip function name position_ prefix. example, use position_jitter(), give position \"jitter\". ... Arguments passed ggplot2::geom_linerange() ggplot2::geom_point(). na.rm FALSE, default, missing values removed warning. TRUE, missing values silently removed. orientation orientation layer. default (NA) automatically determines orientation aesthetic mapping. rare event fails can given explicitly setting orientation either \"x\" \"y\". See Orientation section detail. background_line named list aesthetic values use plotted line segments span entire y x range x y category. default aesthetics used aesthetics specified list. can useful plotted groups points overlap want continuous line connecting points given x y category. NULL (default), line segments plotted. show.legend logical. layer included legends? NA, default, includes aesthetics mapped. FALSE never includes, TRUE always includes. can also named logical vector finely select aesthetics display. include legend keys levels, even data exists, use TRUE.  NA, levels shown legend, unobserved levels omitted. inherit.aes FALSE, overrides default aesthetics, rather combining . useful helper functions define data aesthetics inherit behaviour default plot specification, e.g. annotation_borders(). geom geometric object use display data layer. using stat_*() function construct layer, geom argument can used override default coupling stats geoms. geom argument accepts following: Geom ggproto subclass, example GeomPoint. string naming geom. give geom string, strip function name geom_ prefix. example, use geom_point(), give geom \"point\".","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_points_range.html","id":"aesthetics","dir":"Reference","previous_headings":"","what":"Aesthetics","title":"Display points and their range — geom_points_range","text":"geom_points_range() understands following aesthetics (required aesthetics bold): x y size color/colour fill shape alpha group linetype linewidth","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_points_range.html","id":"computed-variables","dir":"Reference","previous_headings":"","what":"Computed variables","title":"Display points and their range — geom_points_range","text":"calculated 'stat' part layers can accessed delayed evaluation. stat_points_range() provides following variables, depend orientation: after_stat(ymin) after_stat(xmin) minimum extent point range after_stat(ymax) after_stat(xmax) maximum extent point range","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_points_range.html","id":"orientation","dir":"Reference","previous_headings":"","what":"Orientation","title":"Display points and their range — geom_points_range","text":"geom treats axis differently , thus, can thus two orientations. Often orientation easy deduce combination given mappings types positional scales use. Thus, ggplot2 default try guess orientation layer . rare circumstances, orientation ambiguous guessing may fail. case orientation can specified directly using orientation parameter, can either \"x\" \"y\". value gives axis geom run along, \"x\" default orientation expect geom.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_points_range.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Display points and their range — geom_points_range","text":"","code":"library(ggplot2) library(palaeoverse) data(tetrapods) tetrapod_names <- tetrapods$accepted_name[1:50] beds_sampled <- sample.int(n = 10, size = 50, replace = TRUE) occdf <- data.frame(taxon = tetrapod_names, bed = beds_sampled) ggplot(occdf, aes(y = reorder(taxon, bed, min), x = bed)) +   geom_points_range()"},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_text_clade.html","id":null,"dir":"Reference","previous_headings":"","what":"Label clades on a phylogenetic tree plotted with ggtree — geom_text_clade","title":"Label clades on a phylogenetic tree plotted with ggtree — geom_text_clade","text":"geom adds labels corresponding vertical bars specified clades phylogenetic tree plotted using ggtree::ggtree(). therefore similar ggtree::geom_cladelab(). However, unlike ggtree::geom_cladelab(), geom intended work coordinate systems, including coord_geo() coord_geo_radial().","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_text_clade.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Label clades on a phylogenetic tree plotted with ggtree — geom_text_clade","text":"","code":"geom_text_clade(   mapping = NULL,   data = NULL,   text_geom = \"text\",   stat = \"identity\",   position = \"identity\",   ...,   parse = FALSE,   auto_adjust = TRUE,   extend = c(0, 0),   check_overlap = FALSE,   lineend = \"butt\",   na.rm = FALSE,   show.legend = NA,   inherit.aes = TRUE )"},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_text_clade.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Label clades on a phylogenetic tree plotted with ggtree — geom_text_clade","text":"mapping Set aesthetic mappings created aes(). specified inherit.aes = TRUE (default), combined default mapping top level plot. must supply mapping plot mapping. data data displayed layer. three options: NULL, default, data inherited plot data specified call ggplot(). data.frame, object, override plot data. objects fortified produce data frame. See fortify() variables created. function called single argument, plot data. return value must data.frame, used layer data. function can created formula (e.g. ~ head(.x, 10)). text_geom geom use text labels. Valid options \"text\" ggplot2::geom_text() \"label\" ggplot2::geom_label(). stat statistical transformation use data layer. using geom_*() function construct layer, stat argument can used override default coupling geoms stats. stat argument accepts following: Stat ggproto subclass, example StatCount. string naming stat. give stat string, strip function name stat_ prefix. example, use stat_count(), give stat \"count\". information ways specify stat, see layer stat documentation. position position adjustment use data layer. can used various ways, including prevent overplotting improving display. position argument accepts following: result calling position function, position_nudge(). method allows passing extra arguments position. string naming position adjustment. give position string, strip function name position_ prefix. example, use position_nudge(), give position \"nudge\". ... arguments passed layer()'s params argument. arguments broadly fall one 4 categories . Notably, arguments position argument, aesthetics required can passed .... Unknown arguments part 4 categories ignored. Static aesthetics mapped scale, fixed value apply layer whole. example, colour = \"red\" linewidth = 3. geom's documentation Aesthetics section lists available options. 'required' aesthetics passed params. Please note passing unmapped aesthetics vectors technically possible, order required length guaranteed parallel input data. constructing layer using stat_*() function, ... argument can used pass parameters geom part layer. example stat_density(geom = \"area\", outline.type = \"\"). geom's documentation lists parameters can accept. Inversely, constructing layer using geom_*() function, ... argument can used pass parameters stat part layer. example geom_area(stat = \"density\", adjust = 0.5). stat's documentation lists parameters can accept. key_glyph argument layer() may also passed .... can one functions described key glyphs, change display layer legend. parse TRUE, labels parsed expressions displayed described ?plotmath. auto_adjust upside-text labels automatically rotated 180° improve readability? extend numeric vector length 2 indicating much extend vertical bar beyond minimum maximum y-values clade. first value extends bar maximum y-value, second value extends bar minimum y-value. check_overlap TRUE, text overlaps previous text layer plotted. check_overlap happens draw time order data. Therefore data arranged label column calling geom_text(). Note argument supported geom_label(). lineend Line end style (round, butt, square). na.rm FALSE, default, missing values removed warning. TRUE, missing values silently removed. show.legend logical. layer included legends? NA, default, includes aesthetics mapped. FALSE never includes, TRUE always includes. can also named logical vector finely select aesthetics display. include legend keys levels, even data exists, use TRUE.  NA, levels shown legend, unobserved levels omitted. inherit.aes FALSE, overrides default aesthetics, rather combining . useful helper functions define data aesthetics inherit behaviour default plot specification, e.g. annotation_borders().","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_text_clade.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Label clades on a phylogenetic tree plotted with ggtree — geom_text_clade","text":"clades labeled specified using node aesthetic identifies recent common ancestor clade. label aesthetic specifies text label clade. ggfun::%<+%() operator used combine custom clade labels tree (see Examples). nodes specified, label added every tip default (like geom_text_phylo()). vertical bar clade extends minimum maximum y-values descendant nodes specified node, optional extensions values controlled extend parameter. label plotted center aligned perpendicular corresponding bar default. angle, hjust, vjust aesthetics can used adjust . custom angle values specified, added default angle calculated described . ggplot2::geom_text(), limits axes expanded accommodate new labels, may need extend manually using limits expand arguments within scale_ coord_ functions. Note coord_geo() default sets expand = FALSE.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_text_clade.html","id":"aesthetics","dir":"Reference","previous_headings":"","what":"Aesthetics","title":"Label clades on a phylogenetic tree plotted with ggtree — geom_text_clade","text":"geom_text_phylo() understands following aesthetics (required aesthetics bold): x (pulled phylogeny default) y (pulled phylogeny default) parent (pulled phylogeny default) node (pulled phylogeny default) label (pulled phylogeny default) alpha angle color/colour family fontface group hjust lineheight size vjust","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_text_clade.html","id":"alignment","dir":"Reference","previous_headings":"","what":"Alignment","title":"Label clades on a phylogenetic tree plotted with ggtree — geom_text_clade","text":"can modify text alignment vjust hjust aesthetics. can either number 0 (left/bottom) 1 (right/top) character (\"left\", \"middle\", \"right\", \"bottom\", \"center\", \"top\"). two special alignments: \"inward\" \"outward\". Inward always aligns text towards center, outward aligns away center. Note numeric values outside [0, 1] also work move text beyond normal alignment positions (e.g., default hjust value -0.02).","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_text_clade.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Label clades on a phylogenetic tree plotted with ggtree — geom_text_clade","text":"","code":"library(ggplot2) library(ggtree) library(phytools) data(primate.tree) # single annotation revts(ggtree(primate.tree)) +   geom_text_clade(label = \"Hominoidea\", node = 114, extend = c(0.1, 0.1)) +   coord_geo_radial() #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`.   # data frame of clade labels clades.df <- data.frame(   clade = c(\"Lorisoidea\", \"Lemuroidea\", \"Tarsioidea\", \"Ceboidea\",             \"Cercopithecoidea\", \"Hominoidea\"),   node = c(166, 146, 144, 120, 95, 114) ) revts(ggtree(primate.tree)) %<+% clades.df +   geom_text_clade(aes(label = clade), extend = c(0.1, 0.1)) +   coord_geo_radial() #> Warning: Removed 173 rows containing missing values or values outside the scale range. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`.   # display with other tip data data(primate.data) activity <- subset(primate.data, select = \"Activity_pattern\") revts(gheatmap(ggtree(primate.tree), activity, offset = -70,                colnames = FALSE, width = 0.03, color = NA)) %<+% clades.df +   geom_text_clade(aes(label = clade), extend = c(0.1, 0.1),                   position = position_nudge(x = 10)) +   coord_geo_radial() #> Scale for y is already present. #> Adding another scale for y, which will replace the existing scale. #> Warning: Removed 173 rows containing missing values or values outside the scale range. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`."},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_text_phylo.html","id":null,"dir":"Reference","previous_headings":"","what":"Label nodes on a phylogenetic tree plotted with ggtree — geom_text_phylo","title":"Label nodes on a phylogenetic tree plotted with ggtree — geom_text_phylo","text":"geom adds labels subset nodes phylogenetic tree plotted using ggtree::ggtree(). therefore similar ggtree::geom_tiplab(), ggtree::geom_tiplab2(), ggtree::geom_nodelab(), ggtree::geom_nodelab2(). However, unlike geoms, geom intended work coordinate systems, including coord_geo() coord_geo_radial().","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_text_phylo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Label nodes on a phylogenetic tree plotted with ggtree — geom_text_phylo","text":"","code":"geom_text_phylo(   mapping = NULL,   data = NULL,   stat = \"identity\",   position = \"identity\",   ...,   parse = FALSE,   nudge_x = 0,   nudge_y = 0,   node_type = \"tip\",   auto_adjust = TRUE,   check_overlap = FALSE,   size.unit = \"mm\",   na.rm = FALSE,   show.legend = NA,   inherit.aes = TRUE )"},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_text_phylo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Label nodes on a phylogenetic tree plotted with ggtree — geom_text_phylo","text":"mapping Set aesthetic mappings created aes(). specified inherit.aes = TRUE (default), combined default mapping top level plot. must supply mapping plot mapping. data data displayed layer. three options: NULL, default, data inherited plot data specified call ggplot(). data.frame, object, override plot data. objects fortified produce data frame. See fortify() variables created. function called single argument, plot data. return value must data.frame, used layer data. function can created formula (e.g. ~ head(.x, 10)). stat statistical transformation use data layer. using geom_*() function construct layer, stat argument can used override default coupling geoms stats. stat argument accepts following: Stat ggproto subclass, example StatCount. string naming stat. give stat string, strip function name stat_ prefix. example, use stat_count(), give stat \"count\". position position adjustment use data layer. can used various ways, including prevent overplotting improving display. position argument accepts following: result calling position function, position_nudge(). method allows passing extra arguments position. string naming position adjustment. give position string, strip function name position_ prefix. example, use position_nudge(), give position \"nudge\". ... arguments passed layer()'s params argument. arguments broadly fall one 4 categories . Notably, arguments position argument, aesthetics required can passed .... Unknown arguments part 4 categories ignored. Static aesthetics mapped scale, fixed value apply layer whole. example, colour = \"red\" linewidth = 3. geom's documentation Aesthetics section lists available options. 'required' aesthetics passed params. Please note passing unmapped aesthetics vectors technically possible, order required length guaranteed parallel input data. constructing layer using stat_*() function, ... argument can used pass parameters geom part layer. example stat_density(geom = \"area\", outline.type = \"\"). geom's documentation lists parameters can accept. Inversely, constructing layer using geom_*() function, ... argument can used pass parameters stat part layer. example geom_area(stat = \"density\", adjust = 0.5). stat's documentation lists parameters can accept. key_glyph argument layer() may also passed .... can one functions described key glyphs, change display layer legend. parse TRUE, labels parsed expressions displayed described ?plotmath. nudge_x, nudge_y Horizontal vertical adjustment nudge labels . Useful offsetting text points, particularly discrete scales. jointly specified position. node_type Determines subset nodes label. Valid options \"tip\" tip nodes, \"internal\" non-tip nodes, \"\" nodes. auto_adjust upside-text labels automatically rotated 180° improve readability? check_overlap TRUE, text overlaps previous text layer plotted. check_overlap happens draw time order data. Therefore data arranged label column calling geom_text(). Note argument supported geom_label(). size.unit size aesthetic interpreted: millimetres (\"mm\", default), points (\"pt\"), centimetres (\"cm\"), inches (\"\"), picas (\"pc\"). na.rm FALSE, default, missing values removed warning. TRUE, missing values silently removed. show.legend logical. layer included legends? NA, default, includes aesthetics mapped. FALSE never includes, TRUE always includes. can also named logical vector finely select aesthetics display. include legend keys levels, even data exists, use TRUE.  NA, levels shown legend, unobserved levels omitted. inherit.aes FALSE, overrides default aesthetics, rather combining . useful helper functions define data aesthetics inherit behaviour default plot specification, e.g. annotation_borders().","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_text_phylo.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Label nodes on a phylogenetic tree plotted with ggtree — geom_text_phylo","text":"label plotted angle branch/edge leading node default. angle, hjust, vjust aesthetics can used adjust . custom angle values specified, added default angle calculated described . ggplot2::geom_text(), limits axes expanded accommodate new labels, may need extend manually using limits expand arguments within scale_ coord_ functions. Note coord_geo() default sets expand = FALSE.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_text_phylo.html","id":"aesthetics","dir":"Reference","previous_headings":"","what":"Aesthetics","title":"Label nodes on a phylogenetic tree plotted with ggtree — geom_text_phylo","text":"geom_text_phylo() understands following aesthetics (required aesthetics bold): x (pulled phylogeny default) y (pulled phylogeny default) label (pulled phylogeny default) alpha angle color/colour family fontface group hjust lineheight size vjust","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_text_phylo.html","id":"alignment","dir":"Reference","previous_headings":"","what":"Alignment","title":"Label nodes on a phylogenetic tree plotted with ggtree — geom_text_phylo","text":"can modify text alignment vjust hjust aesthetics. can either number 0 (left/bottom) 1 (right/top) character (\"left\", \"middle\", \"right\", \"bottom\", \"center\", \"top\"). two special alignments: \"inward\" \"outward\". Inward always aligns text towards center, outward aligns away center.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_text_phylo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Label nodes on a phylogenetic tree plotted with ggtree — geom_text_phylo","text":"","code":"library(ggplot2) library(ape) library(ggtree) tr <- rtree(10) revts(ggtree(tr)) +   geom_text_phylo() +   coord_geo_radial(\"epochs\") #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`."},{"path":"https://williamgearty.com/deeptime/dev/reference/get_scale_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get geological timescale data — get_scale_data","title":"Get geological timescale data — get_scale_data","text":"function takes name geological timescale returns data timescale. Valid names include built-data.frames (periods(), epochs(), stages(), eons(), eras()), partial matches names (e.g., \"per\" \"age\"), partial exact matches hosted Macrostrat (see Details ). Note colors built-data.frames according Commission Geological Map World. like obtain custom Macrostrat colors better mapping, specify full name timescale (e.g., \"international periods\") set true_colors FALSE. Note colors vary Precambrian.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/get_scale_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get geological timescale data — get_scale_data","text":"","code":"get_scale_data(name, true_colors = TRUE)"},{"path":"https://williamgearty.com/deeptime/dev/reference/get_scale_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get geological timescale data — get_scale_data","text":"name name desired timescale. true_colors Return original international time scale colors? (opposed custom Macrostrat plotting colors)","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/get_scale_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get geological timescale data — get_scale_data","text":"data.frame following columns: name names time intervals max_age oldest boundaries time intervals, millions years min_age youngest boundaries time intervals, millions years abbr either traditional abbreviations names time intervals (exist) custom abbreviations created R color hex color codes associated time intervals (applicable) lab_color default label colors time interals, either white black, whichever better contrast background color, based recommendations International Telecommunication Union","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/get_scale_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get geological timescale data — get_scale_data","text":"following timescales available Macrostrat API 2025-11-19: international ages international epochs international periods calcareous nannoplankton zones New Zealand ages custom COSUNA North American land mammal ages international intervals COSUNA international eras international eons Trilobite Zonation - Laurentia Conodont Zonation North American Regional Ammonite Zonation - Boreal Ammonite Zonation - Western Interior international intervals covering time Scotese Reconstruction Geomagnetic Polarity Chron Geomagnetic Polarity Subchron Planktic foraminiferal Primary Biozones Planktic foraminiferal Secondary Biozones Planktic foraminiferal datums Martian Periods Martian Epochs Cretaceous Planktic foraminifer zonations Low latitude radiolarian zonation Neogene North Pacific Diatom Biochronology Neogene North Pacific Diatom Biochronology Subzones Siberian Regional Australian Regional Western Europe Regional Russian Platform Regional Stages Russian Precambrian Eras Russian Precambrian Eons Russian Epochs Russian Stages --date list can found via Macrostrat API .","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/ggarrange2.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine and arrange multiple ggplot-like objects — ggarrange2","title":"Combine and arrange multiple ggplot-like objects — ggarrange2","text":"Arrange multiple ggplot, grobified ggplot, geo_scale objects page, aligning plot panels, axes, axis titles.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/ggarrange2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine and arrange multiple ggplot-like objects — ggarrange2","text":"","code":"ggarrange2(   ...,   plots = list(...),   layout = NULL,   nrow = NULL,   ncol = NULL,   widths = NULL,   heights = NULL,   byrow = TRUE,   top = NULL,   bottom = NULL,   left = NULL,   right = NULL,   padding = unit(0.5, \"line\"),   margin = unit(0.5, \"line\"),   clip = \"on\",   draw = TRUE,   newpage = TRUE,   debug = FALSE,   labels = NULL,   label.args = list(gp = gpar(font = 4, cex = 1.2)) )"},{"path":"https://williamgearty.com/deeptime/dev/reference/ggarrange2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combine and arrange multiple ggplot-like objects — ggarrange2","text":"... ggplot, grobified ggplot (gtable), geo_scale objects plots list ggplot, gtable, geo_scale objects layout matrix integers specifying plot go, like mat graphics::layout(); NA value less 0 greater number plots indicates blank plot; overrides nrow/ncol/byrow nrow number rows ncol number columns widths list requested widths heights list requested heights byrow logical, fill rows top optional string, grob bottom optional string, grob left optional string, grob right optional string, grob padding unit length one, margin around annotations margin vector units length 4: top, right, bottom, left (gtable::gtable_add_padding()) clip argument gtable draw logical: draw return grob newpage logical: draw new page debug logical, show layout thin lines labels character labels used annotation subfigures (order plots) label.args label list parameters formatting labels","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/ggarrange2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combine and arrange multiple ggplot-like objects — ggarrange2","text":"gtable aligned plots","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/ggarrange2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Combine and arrange multiple ggplot-like objects — ggarrange2","text":"","code":"library(ggplot2) p1 <- ggplot(mtcars, aes(mpg, wt, colour = factor(cyl))) +   geom_point() p2 <- ggplot(mtcars, aes(mpg, wt, colour = factor(cyl))) +   geom_point() +   facet_wrap(~cyl, ncol = 2, scales = \"free\") +   guides(colour = \"none\") +   theme() ggarrange2(p1, p2, widths = c(2, 1), labels = c(\"a\", \"b\"))   p3 <- ggplot() +   geom_point(aes(y = runif(1000, 0, 8), x = runif(1000, 0, 1000))) +   scale_x_reverse() +   coord_geo(xlim = c(1000, 0), ylim = c(0, 8)) +   theme_classic() ggarrange2(ggarrange2(p1, p2, widths = c(2, 1), draw = FALSE), p3, nrow = 2)"},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a geologic scale below ggplots using grid — gggeo_scale","title":"Add a geologic scale below ggplots using grid — gggeo_scale","text":"function takes ggplot object adds geologic time scale specified side using grid gtable packages. custom data provided (dat), consist least 3 columns data. See data(periods) example. name column lists names time interval. used labels abbreviations provided. max_age column lists oldest boundary time interval. min_age column lists youngest boundary time interval. abbr column optional lists abbreviations may used labels. color column also optional lists hex color code (can obtained rgb()) time interval.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a geologic scale below ggplots using grid — gggeo_scale","text":"","code":"gggeo_scale(obj, ...)"},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a geologic scale below ggplots using grid — gggeo_scale","text":"obj object class ggplot, gtable, geo_scale (produced function).","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a geologic scale below ggplots using grid — gggeo_scale","text":"geo_scale object. Basically gtable object axis limits included.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale.html","id":"life-cycle","dir":"Reference","previous_headings":"","what":"Life cycle","title":"Add a geologic scale below ggplots using grid — gggeo_scale","text":"function fully deprecated favor coord_geo() deeptime version 2.3.0. removed future version.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale_old.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a geologic scale on top of ggplots — gggeo_scale_old","title":"Add a geologic scale on top of ggplots — gggeo_scale_old","text":"function takes ggplot object adds geologic time scale specified side.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale_old.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a geologic scale on top of ggplots — gggeo_scale_old","text":"","code":"gggeo_scale_old(   gg,   dat = \"periods\",   fill = NULL,   color = \"black\",   alpha = 1,   height = 0.05,   gap = 0,   pos = \"bottom\",   lab = TRUE,   rot = 0,   abbrv = TRUE,   skip = c(\"Quaternary\", \"Holocene\", \"Late Pleistocene\"),   size = 5,   neg = FALSE )"},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale_old.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a geologic scale on top of ggplots — gggeo_scale_old","text":"gg ggplot object. dat Either ) string indicating built-dataframe interval data ICS (\"periods\", \"epochs\", \"stages\", \"eons\", \"eras\"), B) string indicating timescale macrostrat (see list : https://macrostrat.org/api/defs/timescales?), C) custom dataframe time interval boundaries (see Details). fill fill color boxes. default use colors included dat. custom dataset provided dat without color without fill, greyscale used. Custom fill colors can provided option recycled /necessary. color outline color interval boxes. alpha transparency fill colors. height proportional height (width pos left right) entire plot use scale. gap proportional height (width) entire plot use gap axis scale. pos side add scale (left, right, top, bottom). First letter may also used. lab Whether include labels. rot amount counter-clockwise rotation add labels (degrees). abbrv including labels, whether use abbreviations instead full interval names. skip vector interval names indicating intervals labeled. size Label size. neg Set true x-axis using negative values.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale_old.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a geologic scale on top of ggplots — gggeo_scale_old","text":"ggplot object.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale_old.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Add a geologic scale on top of ggplots — gggeo_scale_old","text":"custom data provided (dat), consist least 3 columns data. See data(periods) example. name column lists names time interval. used labels abbreviations provided. max_age column lists oldest boundary time interval. min_age column lists youngest boundary time interval. abbr column optional lists abbreviations may used labels. color column also optional lists hex color code (can obtained rgb()) time interval.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale_old.html","id":"life-cycle","dir":"Reference","previous_headings":"","what":"Life cycle","title":"Add a geologic scale on top of ggplots — gggeo_scale_old","text":"function fully deprecated favor coord_geo() deeptime version 2.0.0. removed future version.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/grid.pattern_geo.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot an individual FGDC pattern using grid — grid.pattern_geo","title":"Plot an individual FGDC pattern using grid — grid.pattern_geo","text":"function can used plot single geologic pattern defined FGDC Digital Cartographic Standard Geologic Map Symbolization U.S. Geological Survey Geologic Data Subcommittee (GDS) Federal Geographic Data Committee (FGDC). pattern plotted existing canvas (.e., use grid::grid.newpage() make new canvas).","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/grid.pattern_geo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot an individual FGDC pattern using grid — grid.pattern_geo","text":"","code":"grid.pattern_geo(params, boundary_df, aspect_ratio, legend = FALSE)"},{"path":"https://williamgearty.com/deeptime/dev/reference/grid.pattern_geo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot an individual FGDC pattern using grid — grid.pattern_geo","text":"params list pattern parameters customize plotted pattern (see \"Details\"). boundary_df data.frame consisting three columns: \"x\" (x-coordinates), \"y\" (y-coordinates), \"id\" (polygon group ID). data.frame defines boundary (closed polygon) plotted pattern. aspect_ratio Unused. legend Unused.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/grid.pattern_geo.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot an individual FGDC pattern using grid — grid.pattern_geo","text":"following params accepted: pattern_alpha Alpha transparency pattern. default: 1 pattern_colour Color used strokes points pattern. default: 'black' pattern_fill Color used fill various closed shapes (e.g., circles) pattern. default: NA pattern_scale Scale. default: 2 pattern_type Code FGDC pattern use. See geo_pattern() details. default: \"101\" fill Color used background. default: \"white\"","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/grid.pattern_geo.html","id":"warning","dir":"Reference","previous_headings":"","what":"Warning","title":"Plot an individual FGDC pattern using grid — grid.pattern_geo","text":"Pattern fills supported graphics devices. devices active development, devices unlikely add support new features (pattern fills). new features implemented subset graphics devices far: cairo_pdf(), cairo_ps(), x11(type=\"cairo\"), png(type=\"cairo\"), jpeg(type=\"cairo\"), tiff(type=\"cairo\"), svg(), pdf(). Although support yet quartz() windows(), almost graphics devices work major platforms. , ragg svglite packages contain graphics devices support patterns. using graphics device patterns supported, closed shapes rendered transparent fill. Note , least Windows machines, default device RStudio knitr package png(), support patterns. RStudio, can go ‘Tools > Global Options > General > Graphics’ choose ‘Cairo PNG’ device dropdown menu display patterns. Similar issues may arise using RStudio operating systems.","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/reference/grid.pattern_geo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot an individual FGDC pattern using grid — grid.pattern_geo","text":"","code":"# use the function directly to make a hexagon with the pattern library(grid) x <- 0.5 + 0.5 * cos(seq(2 * pi / 4, by = 2 * pi / 6, length.out = 6)) y <- 0.5 + 0.5 * sin(seq(2 * pi / 4, by = 2 * pi / 6, length.out = 6)) grid.newpage() grid.pattern_geo(params = list(pattern_type = \"633\", pattern_scale = 4),                  boundary_df = data.frame(x, y, id = 1))  # use the function via ggpattern by specifying `pattern = 'geo'` library(ggplot2) library(ggpattern) df <- data.frame(trt = c(\"a\", \"b\", \"c\"), outcome = c(2.3, 1.9, 3.2)) ggplot(df, aes(trt, outcome)) +   geom_col_pattern(aes(color = trt, pattern_type = trt), pattern = 'geo',   pattern_color = \"black\", fill = \"white\", pattern_fill = \"white\") +   scale_pattern_type_manual(values = c(\"101\", \"313\", \"634\")) +   scale_color_viridis_d() +   theme(legend.key.size = unit(1.5, 'cm'))"},{"path":"https://williamgearty.com/deeptime/dev/reference/gtable_frame2.html","id":null,"dir":"Reference","previous_headings":"","what":"Decompose a ggplot gtable — gtable_frame2","title":"Decompose a ggplot gtable — gtable_frame2","text":"Reformat gtable associated ggplot object 7x7 gtable central cell corresponds plot panel(s), rectangle cells around corresponds axes, rectangle cells around corresponds axis titles.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gtable_frame2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Decompose a ggplot gtable — gtable_frame2","text":"","code":"gtable_frame2(   g,   width = unit(1, \"null\"),   height = unit(1, \"null\"),   debug = FALSE )"},{"path":"https://williamgearty.com/deeptime/dev/reference/gtable_frame2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Decompose a ggplot gtable — gtable_frame2","text":"g gtable width requested width height requested height debug logical draw gtable cells","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gtable_frame2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Decompose a ggplot gtable — gtable_frame2","text":"7x7 gtable wrapping plot","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gtable_frame2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Decompose a ggplot gtable — gtable_frame2","text":"","code":"library(grid) library(gridExtra) library(ggplot2) p1 <- ggplot(mtcars, aes(mpg, wt, colour = factor(cyl))) +   geom_point()  p2 <- ggplot(mtcars, aes(mpg, wt, colour = factor(cyl))) +   geom_point() +   facet_wrap(~cyl, ncol = 2, scales = \"free\") +   guides(colour = \"none\") +   theme()  p3 <- ggplot(mtcars, aes(mpg, wt, colour = factor(cyl))) +   geom_point() +   facet_grid(. ~ cyl, scales = \"free\")  g1 <- ggplotGrob(p1) g2 <- ggplotGrob(p2) g3 <- ggplotGrob(p3) fg1 <- gtable_frame2(g1) fg2 <- gtable_frame2(g2) fg12 <- gtable_frame2(gtable_rbind(fg1, fg2), width = unit(2, \"null\"),                       height = unit(1, \"null\")) fg3 <- gtable_frame2(g3, width = unit(1, \"null\"), height = unit(1, \"null\")) grid.newpage() combined <- gtable_cbind(fg12, fg3) grid.draw(combined)"},{"path":"https://williamgearty.com/deeptime/dev/reference/guide_geo.html","id":null,"dir":"Reference","previous_headings":"","what":"Geological timescale axis guide — guide_geo","title":"Geological timescale axis guide — guide_geo","text":"guide_geo behaves similarly ggplot2::guide_axis() modifies visual appearance axis. main difference adds geological timescale instead axis.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/guide_geo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Geological timescale axis guide — guide_geo","text":"","code":"guide_geo(   dat = \"periods\",   fill = NULL,   alpha = 1,   height = unit(2, \"line\"),   bord = c(\"left\", \"right\", \"top\", \"bottom\"),   lwd = 0.25,   color = \"black\",   lab = TRUE,   lab_color = NULL,   rot = 0,   family = \"sans\",   fontface = \"plain\",   size = 5,   skip = c(\"Quaternary\", \"Holocene\", \"Late Pleistocene\"),   abbrv = TRUE,   neg = FALSE,   end_labels = \"center\",   dat_is_discrete = FALSE,   fittext_args = list(),   theme = NULL,   title = waiver(),   order = 0,   position = waiver() )"},{"path":"https://williamgearty.com/deeptime/dev/reference/guide_geo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Geological timescale axis guide — guide_geo","text":"dat Either ) string indicating built-dataframe interval data ICS (\"periods\", \"epochs\", \"stages\", \"eons\", \"eras\"), B) string indicating timescale macrostrat (see list : https://macrostrat.org/api/defs/timescales?), C) custom data.frame time interval boundaries (see Details). fill fill color boxes. default use color column included dat. custom dataset provided dat without color column without fill, greyscale used. Custom fill colors can provided option (overriding color column) recycled /necessary. alpha transparency fill colors. height height (width pos left right) scale. bord vector specifying sides scale add borders (options pos). lwd Line width. color outline color interval boxes. lab Whether include labels. lab_color color labels. default use lab_color column included dat. custom dataset provided dat without lab_color column without fill, labels black. Custom label colors can provided option (overriding lab_color column) recycled /necessary. rot amount counter-clockwise rotation add labels (degrees). family font family use labels. three fonts guaranteed work everywhere: “sans” (default), “serif”, “mono”. fontface font face use labels. standard options \"plain\" (default), \"bold\", \"italic\", \"bold.italic\". size Label size. Either number specify ggplot2::geom_text() \"auto\" use ggfittext::geom_fit_text(). skip vector interval names indicating intervals labeled. abbrv TRUE, can also include interval abbreviations. abbrv including labels, labels abbreviated? TRUE, abbr column used labels. FALSE, name column used labels. \"auto\", abbreviate() function used abbreviate values name column. Note built-data data retrieved via get_scale_data() already built-abbreviations. However, using \"auto\" option create new unique abbreviations based intervals plotted. many cases, may result abbreviations shorter length fewer similar interval names abbreviate. neg Set TRUE x-axis using negative values. end_labels labels intervals ends guide treated? \"center\", default, centers labels within visible part label. \"clip\" removes labels midpoint beyond axis limits. \"keep\" plots labels midpoint full interval. dat_is_discrete ages dat already converted discrete scale? fittext_args list named arguments provide ggfittext::geom_fit_text(). used size set \"auto\". theme theme object style guide individually differently plot's theme settings. theme argument guide partially overrides, combined , plot's theme. title character string expression indicating title guide. NULL, title shown. default (waiver()), name scale object name specified labs() used title. order positive integer length 1 specifies order guide among multiple guides. controls order guides merged multiple guides position. 0 (default), order determined secret algorithm. position guide drawn: one top, bottom, left, right.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/guide_geo.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Geological timescale axis guide — guide_geo","text":"custom data.frame provided (dat), consist least 3 columns data. See data(periods) example. name column lists names time interval. used labels abbreviations provided. max_age column lists oldest boundary time interval. min_age column lists youngest boundary time interval. abbr column optional lists abbreviations may used labels. color column also optional lists color background time interval. lab_color column also optional lists color label time interval. axis time scale discrete, max_age min_age automatically converted discrete scale. case, categories discrete axis match values name column. ages within dat already discretized, can set dat_is_discrete TRUE prevent automatic conversion. can useful adding time scale categories time intervals 1:1. Since guide plots timescale ticks axis line, call function almost always combined call ggplot2::guide_axis() within call ggplot2::guide_axis_stack() (see Examples). Note cases end result single call coord_geo(); however, use cases may useful allow customization. example, users may wish combine guide unique ways guides. , since coord_geo() work radial/fan phylogenies (coord_geo_radial() quite different visually), guide can used achieve look coord_geo() radial/fan phylogeny.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/guide_geo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Geological timescale axis guide — guide_geo","text":"","code":"library(ggplot2) # reproduce the coord_geo() appearance ggplot() +   geom_point(aes(y = runif(1000, 0, 8), x = runif(1000, 0, 1000))) +   scale_x_reverse(guide = guide_axis_stack(guide_geo(), \"axis\",                   spacing = unit(0, \"npc\"))) +   coord_cartesian(xlim = c(1000, 0), ylim = c(0, 8)) +   theme_classic()  # the coord_geo() look on a radial phylogeny library(ggtree) library(paleotree) data(RaiaCopesRule) ggtree(ceratopsianTreeRaia,        position = position_nudge(x = -ceratopsianTreeRaia$root.time)) +   coord_geo_radial(dat = \"stages\", fill = c(\"grey80\", \"grey95\"),                    end = 1.25 * pi) +   guides(     r = guide_axis_stack(guide_geo(rot = -90, neg = TRUE,                                    height = unit(0.5, \"line\")),                          \"axis\", spacing = unit(0, \"npc\"))   ) +   scale_y_continuous(guide = \"none\", breaks = NULL) +   theme_classic() #> Scale for y is already present. #> Adding another scale for y, which will replace the existing scale. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`. #> Warning: Unknown or uninitialised column: `subgroup`."},{"path":"https://williamgearty.com/deeptime/dev/reference/panel.disparity.html","id":null,"dir":"Reference","previous_headings":"","what":"Combined wireframe and cloud panel — panel.disparity","title":"Combined wireframe and cloud panel — panel.disparity","text":"Plots provided data 2-D surfaces within 3-D framework. See disparity_through_time().","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/panel.disparity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combined wireframe and cloud panel — panel.disparity","text":"","code":"panel.disparity(x, y, z, groups, subscripts, ...)"},{"path":"https://williamgearty.com/deeptime/dev/reference/panel.disparity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combined wireframe and cloud panel — panel.disparity","text":"x, y, z, groups, subscripts, ... lattice::panel.cloud()","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/panel.disparity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combined wireframe and cloud panel — panel.disparity","text":"return value, plots results lattice::panel.cloud() lattice::panel.wireframe().","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/periods.html","id":null,"dir":"Reference","previous_headings":"","what":"Period data from the International Commission on Stratigraphy (v2024/12) — periods","title":"Period data from the International Commission on Stratigraphy (v2024/12) — periods","text":"dataset containing boundary ages, abbreviations, colors periods Geologic Time Scale. Based ICS International Chronostratigraphic Chart (v2024/12), Cohen, Finney, Gibbard, Fan.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/periods.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Period data from the International Commission on Stratigraphy (v2024/12) — periods","text":"","code":"periods"},{"path":"https://williamgearty.com/deeptime/dev/reference/periods.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Period data from the International Commission on Stratigraphy (v2024/12) — periods","text":"data frame 22 rows 5 variables: name period name max_age maximum age, millions years min_age minimum age, millions years abbr period name abbreviations color colors period, according Commission Geological Map World lab_color label colors period, either white black, whichever better contrast background color, based recommendations International Telecommunication Union","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/periods.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Period data from the International Commission on Stratigraphy (v2024/12) — periods","text":"https://stratigraphy.org via https://macrostrat.org/api/v2/defs/intervals?timescale=international%20periods","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/reference/scale_fill_geopattern.html","id":null,"dir":"Reference","previous_headings":"","what":"Geologic pattern fill scale — scale_fill_geopattern","title":"Geologic pattern fill scale — scale_fill_geopattern","text":"Fill scale using FGDC Digital Cartographic Standard Geologic Map Symbolization. Fill values correspond specific pattern codes (see \"Details\").","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/scale_fill_geopattern.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Geologic pattern fill scale — scale_fill_geopattern","text":"","code":"scale_fill_geopattern(na.value = \"grey50\", ...)"},{"path":"https://williamgearty.com/deeptime/dev/reference/scale_fill_geopattern.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Geologic pattern fill scale — scale_fill_geopattern","text":"na.value aesthetic value use missing (NA) values. May either color GridPattern object (returned geo_pattern()). ... Arguments passed ggplot2::discrete_scale scale_name name scale used error messages associated scale. name name scale. Used axis legend title. waiver(), default, name scale taken first mapping used aesthetic. NULL, legend title omitted. breaks One : NULL breaks waiver() default breaks (scale limits) character vector breaks function takes limits input returns breaks output. Also accepts rlang lambda function notation. minor_breaks One : NULL minor breaks waiver() default breaks (none discrete, one minor break major break continuous) numeric vector positions function given limits returns vector minor breaks. Also accepts rlang lambda function notation. function two arguments, given limits major break positions. labels One options . Please note labels vector, highly recommended also set breaks argument vector protect unintended mismatches. NULL labels waiver() default labels computed transformation object character vector giving labels (must length breaks) expression vector (must length breaks). See ?plotmath details. function takes breaks input returns labels output. Also accepts rlang lambda function notation. limits One : NULL use default scale values character vector defines possible values scale order function accepts existing (automatic) values returns new ones. Also accepts rlang lambda function notation. na.translate Unlike continuous scales, discrete scales can easily show missing values, default. want remove missing values discrete scale, specify na.translate = FALSE. drop unused factor levels omitted scale? default, TRUE, uses levels appear data; FALSE includes levels factor. Please note display every level legend, layer use show.legend = TRUE. guide function used create guide name. See guides() information. call call used construct scale reporting messages.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/scale_fill_geopattern.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Geologic pattern fill scale — scale_fill_geopattern","text":"specific codes, see \"pattern numbers\" full pattern chart valid code values. Daven Quinn also assembled accessible documentation map patterns/codes lithology patterns/codes. set patterns names also included built-dataset fgdc_names (label dictionary available using fgdc_dict(). rmacrostrat::def_lithologies() can also used look pattern codes various lithologies (see \"fill\" column). Note codes associated color variants (e.g., \"101-M\") supported result default color variant instead (usually black white, e.g., \"101-K\"). patterns originally processed optimized Daven Quinn hosted GitHub.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/scale_fill_geopattern.html","id":"warning","dir":"Reference","previous_headings":"","what":"Warning","title":"Geologic pattern fill scale — scale_fill_geopattern","text":"Pattern fills supported graphics devices. devices active development, devices unlikely add support new features (pattern fills). new features implemented subset graphics devices far: cairo_pdf(), cairo_ps(), x11(type=\"cairo\"), png(type=\"cairo\"), jpeg(type=\"cairo\"), tiff(type=\"cairo\"), svg(), pdf(). Although support yet quartz() windows(), almost graphics devices work major platforms. , ragg svglite packages contain graphics devices support patterns. using graphics device patterns supported, closed shapes rendered transparent fill. Note , least Windows machines, default device RStudio knitr package png(), support patterns. RStudio, can go ‘Tools > Global Options > General > Graphics’ choose ‘Cairo PNG’ device dropdown menu display patterns. Similar issues may arise using RStudio operating systems.","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/reference/scale_fill_geopattern.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Geologic pattern fill scale — scale_fill_geopattern","text":"","code":"library(ggplot2) vals <- c(\"101\", \"313\", \"603\", \"733\") ggplot(mpg, aes(factor(cyl), fill = vals[factor(cyl)])) +   geom_bar() +   scale_fill_geopattern(name = NULL)"},{"path":"https://williamgearty.com/deeptime/dev/reference/scale_geo.html","id":null,"dir":"Reference","previous_headings":"","what":"Geological Time Scale color scales — scale_color_geo","title":"Geological Time Scale color scales — scale_color_geo","text":"Color scales using colors Geological Time Scale graphics.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/scale_geo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Geological Time Scale color scales — scale_color_geo","text":"","code":"scale_color_geo(dat, ...)  scale_fill_geo(dat, ...)  scale_discrete_geo(dat, aesthetics, ...)"},{"path":"https://williamgearty.com/deeptime/dev/reference/scale_geo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Geological Time Scale color scales — scale_color_geo","text":"dat Either ) string indicating built-dataframe interval data ICS (\"periods\", \"epochs\", \"stages\", \"eons\", \"eras\"), B) string indicating timescale macrostrat (see list : https://macrostrat.org/api/defs/timescales?), C) custom data.frame time interval boundaries (see coord_geo()). ... Arguments passed ggplot2::discrete_scale scale_name name scale used error messages associated scale. name name scale. Used axis legend title. waiver(), default, name scale taken first mapping used aesthetic. NULL, legend title omitted. minor_breaks One : NULL minor breaks waiver() default breaks (none discrete, one minor break major break continuous) numeric vector positions function given limits returns vector minor breaks. Also accepts rlang lambda function notation. function two arguments, given limits major break positions. labels One options . Please note labels vector, highly recommended also set breaks argument vector protect unintended mismatches. NULL labels waiver() default labels computed transformation object character vector giving labels (must length breaks) expression vector (must length breaks). See ?plotmath details. function takes breaks input returns labels output. Also accepts rlang lambda function notation. limits One : NULL use default scale values character vector defines possible values scale order function accepts existing (automatic) values returns new ones. Also accepts rlang lambda function notation. na.translate Unlike continuous scales, discrete scales can easily show missing values, default. want remove missing values discrete scale, specify na.translate = FALSE. na.value na.translate = TRUE, aesthetic value missing values displayed ? apply position scales NA always placed far right. drop unused factor levels omitted scale? default, TRUE, uses levels appear data; FALSE includes levels factor. Please note display every level legend, layer use show.legend = TRUE. guide function used create guide name. See guides() information. call call used construct scale reporting messages. super super class use constructed scale aesthetics Character string vector character strings listing name(s) aesthetic(s) scale works . can useful, example, apply colour settings colour fill aesthetics time, via aesthetics = c(\"colour\", \"fill\").","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/scale_geo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Geological Time Scale color scales — scale_color_geo","text":"","code":"library(ggplot2) df <- data.frame(   x = runif(1000, 0, 10), y = runif(1000, 0, 10),   color = sample(periods$name, 1000, TRUE), shape = 21 ) ggplot(df) +   geom_point(aes(x = x, y = y, fill = color), shape = 21) +   scale_fill_geo(\"periods\", name = \"Period\") +   theme_classic()   # cut continuous variable into discrete df <- data.frame(x = runif(1000, 0, 1000), y = runif(1000, 0, 8)) df$color <- cut(df$x, c(periods$min_age, periods$max_age[22]), periods$name) ggplot(df) +   geom_point(aes(x = x, y = y, color = color)) +   scale_x_reverse() +   scale_color_geo(\"periods\", name = \"Period\") +   coord_geo(xlim = c(1000, 0), ylim = c(0, 8)) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/reference/stages.html","id":null,"dir":"Reference","previous_headings":"","what":"Stage data from the International Commission on Stratigraphy (v2024/12) — stages","title":"Stage data from the International Commission on Stratigraphy (v2024/12) — stages","text":"dataset containing boundary ages, abbreviations, colors stages Geologic Time Scale. Based ICS International Chronostratigraphic Chart (v2024/12), Cohen, Finney, Gibbard, Fan.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/stages.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stage data from the International Commission on Stratigraphy (v2024/12) — stages","text":"","code":"stages"},{"path":"https://williamgearty.com/deeptime/dev/reference/stages.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Stage data from the International Commission on Stratigraphy (v2024/12) — stages","text":"data frame 102 rows 5 variables: name stage name max_age maximum age, millions years min_age minimum age, millions years abbr stage name abbreviations color colors stage, according Commission Geological Map World lab_color label colors stage, either white black, whichever better contrast background color, based recommendations International Telecommunication Union","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/stages.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Stage data from the International Commission on Stratigraphy (v2024/12) — stages","text":"https://stratigraphy.org via https://macrostrat.org/api/v2/defs/intervals?timescale=international%20ages","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-development-version","dir":"Changelog","previous_headings":"","what":"deeptime (development version)","title":"deeptime (development version)","text":"New features: Added geom_text_clade() adding clade labels phylogenies using coord_geo_radial()","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-231","dir":"Changelog","previous_headings":"","what":"deeptime 2.3.1","title":"deeptime 2.3.1","text":"CRAN release: 2025-11-26 Bug fixes: Fixed behavior reverse argument coord_geo_radial() ggplot2 4.0.0 (#96) Deprecation: Soft deprecated direction argument coord_geo_radial() favor reverse argument added deeptime 2.2.0 Soft deprecated r_axis_inside argument coord_geo_radial() favor new r.axis.inside argument maintain parity ggplot2::coord_radial() Soft deprecated rotate_angle argument coord_geo_radial() favor new rotate.angle argument maintain parity ggplot2::coord_radial()","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-230","dir":"Changelog","previous_headings":"","what":"deeptime 2.3.0","title":"deeptime 2.3.0","text":"CRAN release: 2025-11-20 new minor version deeptime includes small number new features minor housekeeping. New features: pos argument coord_geo() now recycled dat list, removing need repeated pos values adding multiple time scales side (#86) Added built-dataset fgdc_names includes FGDC pattern codes verbatim names named patterns Added fgdc_dict() can used generate labeling dictionary FGDC pattern codes (#79) Added optional theme element (deeptime.scale.background) customize background time scale area coord_geo() (#87) Deprecation: Removed getScaleData(). Advanced deprecation gggeo_scale(). function fully deprecated deeptime favor coord_geo(). Miscellaneous: Updated citation information package (#89) Updated package logo reflect recent inclusion patterns (#90) Added contribution docs (#91)","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-220","dir":"Changelog","previous_headings":"","what":"deeptime 2.2.0","title":"deeptime 2.2.0","text":"CRAN release: 2025-06-19 new minor version deeptime introduces several new features bug fixes. also compatible version 4 ggplot2. New features: Added geom_text_phylo() adding node/tip labels phylogenies using coord_geo_radial() Updated built-timescales 2024/12 version GTS Added facet_grid_geo(), facet_wrap_geo(), facet_nested_geo(), facet_nested_wrap_geo() now serve aliases functions original defaults (#81) Added legends examples “Plotting geological/stratigraphical patterns” vignette (#78) Added facetting examples “Plotting temporal data” vignette (#80) Deprecation: Advanced deprecation coord_geo_polar(). Use function result warning. function removed future version deeptime. Advanced deprecation getScaleData(). function fully deprecated deeptime favor get_scale_data(). Bug fixes: Fixed gtable_frame2() ggarrange2() plots use theme_void() (#74) Fixed disparity_through_time() rare edge cases (#71) Updated GeomPointsRange use aesthetic defaults ggplot2::GeomPointrange Updated GeomTextPhylo use aesthetic defaults ggplot2::GeomText","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-210","dir":"Changelog","previous_headings":"","what":"deeptime 2.1.0","title":"deeptime 2.1.0","text":"CRAN release: 2024-10-25 new minor version deeptime introduces several new features bug fixes. New features: label colors either white black, whichever better contrast background color based recommendations International Telecommunication Union get_scale_data() now returns label colors () Macrostrat timescales default, strip label colors set white black () Added facet_nested_color() facet_nested_wrap_color() plot nested faceted plots colored strips (#55) get_scale_data() documentation now lists available Macrostrat timescales (#69) get_scale_data() now supports partial matching Macrostrat timescales (e.g., get_scale_data(\"mammal\") retrieve “North American land mammal ages” timescale) Notable changes: FGDC pattern data added deeptime 2.0.0 moved new data R package called deeptimedata reduce size deeptime package footprint future deeptime updates Bug fixes: Fixed importing functions ggplot2 coord_geo_radial() coord_geo_polar()","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-200","dir":"Changelog","previous_headings":"","what":"deeptime 2.0.0","title":"deeptime 2.0.0","text":"CRAN release: 2024-08-19 deeptime now requires ggplot2 version 3.5.0 higher. new major version deeptime includes several new features: Added FGDC/USGS geologic patterns internal data (#52) Added functions retrieve plot FGDC/USGS geologic patterns (#52) Added functions use FGDC/USGS patterns ggplot2 fills ggpattern package (see new vignette) (#52) Added true_colors option get_scale_data(), , set FALSE, can used retrieve custom Macrostrat colors previously built-datasets (#62) Updated built-timescales 2023/06 version GTS Added option coord_geo() abbreviate interval labels based intervals plotted (#64) Added guide_geo() alternative coord_geo(), mostly use radial plots (#53) Bug fixes: Fixed built-timescale datasets true CGMP colors Precambrian (#62) Notable changes: phytools package longer required install deeptime required use geom_phylomorpho() function geomtextpath package longer required install deeptime required add labels coord_geo_polar() coord_geo_radial() functions gggeo_scale_old() function fully deprecated","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-111","dir":"Changelog","previous_headings":"","what":"deeptime 1.1.1","title":"deeptime 1.1.1","text":"CRAN release: 2024-03-08 deeptime now requires rlang version 1.1.0 higher. patch version includes several bug fixes: Fixed several cases vignette documentation building /unit testing fail Macrostrat API Fixed coord_geo_polar() coord_geo_radial() r-axis expansion (#60) Improved argument type checking error handling across entire package","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-110","dir":"Changelog","previous_headings":"","what":"deeptime 1.1.0","title":"deeptime 1.1.0","text":"CRAN release: 2024-03-05 deeptime now requires ggplot2 version 3.4.0 higher. version introduces several new features bug fixes: Added geom_points_range(), function designed visualizing temporal occurrence data Added facet_grid_color() facet_wrap_color() changing strip background colors (#50) Added coord_geo_radial(), enhanced version coord_geo_polar() (works ggplot2 version 3.5.0 higher) (#56) Added family fontface arguments coord_geo() Added ability include interval labels coord_geo_polar() (#48) Fixed interaction coord_geo() ggsave() (#49) Fixed size = \"auto\" center_end_labels = TRUE coord_geo() Updated several functions work ggplot2 version 3.5.0 Notable changes: names theme elements used coord_geo_polar() now prepended “deeptime.” (e.g., deeptime.axis.line.r) (#51) ggplot2 version 3.5.0 broken several edge cases coord_trans_xy(). See documentation details. fixed future deeptime release.","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-101","dir":"Changelog","previous_headings":"","what":"deeptime 1.0.1","title":"deeptime 1.0.1","text":"CRAN release: 2023-02-16 Fixed bounds Kungurian stage built-stages data Updated License GPL >= 3 Changed tidyverse dplyr magrittr Suggests vignettes","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-100","dir":"Changelog","previous_headings":"","what":"deeptime 1.0.0","title":"deeptime 1.0.0","text":"CRAN release: 2023-01-20 Updated built-timescales 2022/10 version GTS Added geom making phylomorphospaces (geom_phylomorpho()) Added vignettes Renamed getScaleData() get_scale_data() Soft deprecated gggeo_scale() gggeo_scale_old()","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-030","dir":"Changelog","previous_headings":"","what":"deeptime 0.3.0","title":"deeptime 0.3.0","text":"CRAN release: 2022-11-09 deeptime now requires ggplot2 version 3.3.0 higher. Several new features fixed compatibility various ggplot2 versions. Added coord_geo_polar(), adding timescales polar plots (#33) Added color fill discrete scales use GTS colors (#43) Fixed coord_geo_polar() coord_trans_xy() ggplot2 version 3.4.0 (#44) Fixed coord_geo() ggplot2 version 3.4.0 Added tests ggplot2 version 3.3.6 3.4.0 Removed uses getFromNamespace() (#45)","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-023","dir":"Changelog","previous_headings":"","what":"deeptime 0.2.3","title":"deeptime 0.2.3","text":"CRAN release: 2022-09-20 Updated built-timescales 2022/02 version GTS Better name handling documentation getScaleData() (#42)","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-022","dir":"Changelog","previous_headings":"","what":"deeptime 0.2.2","title":"deeptime 0.2.2","text":"CRAN release: 2022-05-18 Skip tests suggested packages unavailable Added ability specify label color (#40)","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-021","dir":"Changelog","previous_headings":"","what":"deeptime 0.2.1","title":"deeptime 0.2.1","text":"CRAN release: 2022-01-10 Updated built-timescales Updated built-timescales using Macrostrat API (#39) Fixed CRAN checks ggtree missing (#38)","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-020","dir":"Changelog","previous_headings":"","what":"deeptime 0.2.0","title":"deeptime 0.2.0","text":"CRAN release: 2021-09-02 Several new features bug fixes. coord_geo() now works discrete axes (#32 #35) Fixed bug prevented use custom interval data Added option use ggfittext automatically resize labels (#19) Added coord_trans_flip() (#20) Fixed axis labels coord_trans_xy() (#36) Added tests testthat (#34)","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-010","dir":"Changelog","previous_headings":"","what":"deeptime 0.1.0","title":"deeptime 0.1.0","text":"CRAN release: 2021-07-23 First minor release (released CRAN!) Fixed ability use text transformations (scales) coord_geo() (#30) Added automatic R CMD check Github Actions Fixed S3 method consistency R CMD check warnings notes Fixed coord_geo() axis breaks reversed NULL (#23 #29) Added packages examples README Suggests","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-006","dir":"Changelog","previous_headings":"","what":"deeptime 0.0.6","title":"deeptime 0.0.6","text":"Several bug fixes minor features. Added ability specify layout ggarrange2() (#21) Added ability center labels time intervals broken axis limits (#18) Fixed gggeo_scale() ggplot2>=3.3.0 (#22) Replaced README examples examples using real data (#28) Fixed using first letters pos argument Fixed label order (#26) Switched Travis Github Actions (#27) Fixed handling axis tick labels coord_trans_xy (#31)","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-005","dir":"Changelog","previous_headings":"","what":"deeptime 0.0.5","title":"deeptime 0.0.5","text":"Added coord_geo(), coordinate system ggplot2 allows adding highly customized timescales ggplot objects. gggeo_scale() gggeo_scale_old preserved receive notably less maintenance moving forward. Updated examples documentation use coord_geo() Added coord_trans_xy(), coordinate system ggplot2 similar coord_trans() allows 2-dimensional transformations Added disparity_through_time() allows plotting 2-dimensional data across 3rd dimension (using lattice)","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-004","dir":"Changelog","previous_headings":"","what":"deeptime 0.0.4","title":"deeptime 0.0.4","text":"ggarrange2() now accepts geo_scale objects grobified ggplots Fixed missing axes axis titles","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-003","dir":"Changelog","previous_headings":"","what":"deeptime 0.0.3","title":"deeptime 0.0.3","text":"Minor release bug fixes Added options customize borders line width Fixed abbreviations stages named “Series X” (#9) Fixed scale x-axis crosses 0 (#10, #12) Preserve margins original plots (#13) Fixed scale plots multiple panels","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-002","dir":"Changelog","previous_headings":"","what":"deeptime 0.0.2","title":"deeptime 0.0.2","text":"Complete redesign gggeo_scale() adds scale outside plotting space using gtable. old version gggeo_scale() preserved gggeo_scale_old(). Can now pull timescales Macrostrat API (#8)","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-001","dir":"Changelog","previous_headings":"","what":"deeptime 0.0.1","title":"deeptime 0.0.1","text":"First full release. Adds scale onto bottom ggplot. Depends R>3.4 (#1) Fixed adding scales faceted plots (#2) Added timescale data PBDB API (#3) Fixed use ggtree geom data (#5) Fixed stacking multiple scales (#6) Fixed documentation spelling (#7)","code":""}]
