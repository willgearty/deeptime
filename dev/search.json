[{"path":"https://williamgearty.com/deeptime/dev/articles/coord.html","id":"coord_trans-meets-coord_flip","dir":"Articles","previous_headings":"","what":"coord_trans meets coord_flip","title":"Transforming coordinate systems","text":"One limitation traditional coord_trans() function ggplot2 can flip axes also transforming axes. Historically, need either 1) use scale_x_continuous() scale_y_continuous() transform one axes (result untransparent loss data) combination coord_flip() 2) transform data supplying ggplot(). coord_trans_flip() accomplishes without need scales transforming data. works just like coord_trans(), added functionality axis flip coord_flip().  Note: back 2020, ggplot2 updated directional stats geoms (e.g., boxplots histograms) work directions based aesthetic mapping. somewhat makes function redundant, still find useful.","code":"ggplot(mtcars, aes(disp, wt)) +   geom_point() +   coord_trans_flip(x = \"sqrt\", y = \"log10\") +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord.html","id":"d-linear-transformations","dir":"Articles","previous_headings":"","what":"2D linear transformations","title":"Transforming coordinate systems","text":"Another limitation traditional coord_trans() axis transformed independently. coord_trans_xy() expands functionality allow two-dimensional linear transformation generated ggforce::linear_trans(). allows rotations, stretches, shears, translations, reflections. dummy example using ?mtcars dataset ggplot2 included . applications functionality may seem abstract real data, see plotting traits article potential real-world application using species trait data.","code":"# make transformer library(ggforce) trans <- linear_trans(shear(50, 0))  # set up data to be plotted square <- data.frame(   disp = c(     min(mtcars$disp), min(mtcars$disp),     max(mtcars$disp), max(mtcars$disp)   ),   wt = c(     min(mtcars$wt), max(mtcars$wt),     max(mtcars$wt), min(mtcars$wt)   ) )  # plot data normally library(ggplot2) ggplot(mtcars, aes(disp, wt)) +   geom_polygon(data = square, fill = NA, color = \"black\") +   geom_point(color = \"black\") +   coord_cartesian() +   theme_classic() # plot data with transformation ggplot(mtcars, aes(disp, wt)) +   geom_polygon(data = square, fill = NA, color = \"black\") +   geom_point(color = \"black\") +   coord_trans_xy(trans = trans, expand = TRUE) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord_geo.html","id":"adding-geological-timescales","dir":"Articles","previous_headings":"","what":"Adding geological timescales","title":"Adding geological timescales to plots","text":"First, let’s summarize coral data divDyn package generate diversity curve ’ll able plot: Now, can plot data add geological timescale. default behavior add ICS periods bottom axis. data used included package (?periods) along data ?eons, ?stages, ?epochs, ?eras. Note function assumes age decreasing towards present.","code":"# this is not a proper diversity curve but it gets the point across coral_div <- corals %>%   filter(stage != \"\") %>%   group_by(period, stage) %>%   summarise(n = n()) %>%   mutate(stage_age = (stages$max_age[match(stage, stages$name)] +     stages$min_age[match(stage, stages$name)]) / 2) ggplot(coral_div) +   geom_line(aes(x = stage_age, y = n)) +   scale_x_reverse(\"Age (Ma)\") +   ylab(\"Coral Genera\") +   coord_geo(xlim = c(250, 0), ylim = c(0, 1700)) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord_geo.html","id":"scales-on-other-axes","dir":"Articles","previous_headings":"Adding geological timescales","what":"Scales on other axes","title":"Adding geological timescales to plots","text":"can add timescale whichever axis ’d like setting pos argument. example, pos = \"left\" can used put timescale left axis. Also, note ’re using “Geomagnetic Polarity Chron” timescale . one 35 regional global timescales available deeptime Macrostrat database (see get_scale_data()).","code":"ggplot(lisiecki2005) +   geom_line(aes(x = d18O, y = Time / 1000), orientation = \"y\") +   scale_y_reverse(\"Time (Ma)\") +   scale_x_reverse() +   coord_geo(     dat = \"Geomagnetic Polarity Chron\", xlim = c(6, 2), ylim = c(6, 0),     pos = \"left\", rot = 90   ) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord_geo.html","id":"add-multiple-timescales","dir":"Articles","previous_headings":"Adding geological timescales","what":"Add multiple timescales","title":"Adding geological timescales to plots","text":"can also add multiple timescales providing list pos. arguments can lists single values (either recycled necessary). case adding “Geomagnetic Polarity Chron” timescale left axis “Planktic foraminiferal Primary Biozones” timescale right axis.","code":"# uses the oxygen isotope data from above ggplot(lisiecki2005) +   geom_line(aes(x = d18O, y = Time / 1000), orientation = \"y\") +   scale_y_reverse(\"Time (Ma)\") +   scale_x_reverse() +   coord_geo(     dat = list(\"Geomagnetic Polarity Chron\", \"Planktic foraminiferal Primary Biozones\"),     xlim = c(6, 2), ylim = c(5.5, 0), pos = list(\"l\", \"r\"),     rot = 90, skip = \"PL4\", size = list(5, 4)   ) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord_geo.html","id":"stack-multiple-scales","dir":"Articles","previous_headings":"Adding geological timescales","what":"Stack multiple scales","title":"Adding geological timescales to plots","text":"can even stack multiple timescales side. Scales added inside outside. stacking periods eras.","code":"# uses the coral diversity data from above ggplot(coral_div) +   geom_line(aes(x = stage_age, y = n)) +   scale_x_reverse(\"Age (Ma)\") +   ylab(\"Coral Genera\") +   coord_geo(     dat = list(\"periods\", \"eras\"), xlim = c(250, 0), ylim = c(0, 1700),     pos = list(\"b\", \"b\"), abbrv = list(TRUE, FALSE)   ) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord_geo.html","id":"timescales-and-faceted-plots","dir":"Articles","previous_headings":"Adding geological timescales","what":"Timescales and faceted plots","title":"Adding geological timescales to plots","text":"coord_geo() synergizes well faceted plots. can change facets timescale plotted changing scales argument facet_wrap(). default behavior include timescale bottom-panel. behavior works similarly facet_grid().  specifying scales = \"free_x\", can add geological time scale panel.","code":"# uses the coral occurrence data from above coral_div_diet <- corals %>%   filter(stage != \"\") %>%   group_by(diet, stage) %>%   summarise(n = n()) %>%   mutate(stage_age = (stages$max_age[match(stage, stages$name)] +     stages$min_age[match(stage, stages$name)]) / 2)  ggplot(coral_div_diet) +   geom_line(aes(x = stage_age, y = n)) +   scale_x_reverse(\"Age (Ma)\") +   ylab(\"Coral Genera\") +   coord_geo(xlim = c(250, 0)) +   theme_classic() +   facet_wrap(~diet, nrow = 3) ggplot(coral_div_diet) +   geom_line(aes(x = stage_age, y = n)) +   scale_x_reverse(\"Age (Ma)\") +   ylab(\"Coral Genera\") +   coord_geo(xlim = c(250, 0)) +   theme_classic() +   facet_wrap(~diet, nrow = 3, scales = \"free_x\")"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord_geo.html","id":"resize-labels-to-fit-inside-interval-rectangles","dir":"Articles","previous_headings":"Adding geological timescales","what":"Resize labels to fit inside interval rectangles","title":"Adding geological timescales to plots","text":"coord_geo() can use ggfittext package resize interval labels. can enabled setting size \"auto\". Additional arguments can passed ggfittext::geom_fit_text() list using fittext_args argument.","code":"ggplot(coral_div) +   geom_line(aes(x = stage_age, y = n)) +   scale_x_reverse(\"Age (Ma)\") +   ylab(\"Coral Genera\") +   coord_geo(     dat = \"periods\", xlim = c(250, 0), ylim = c(0, 1700),     abbrv = FALSE, size = \"auto\", fittext_args = list(size = 20)   ) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord_geo.html","id":"scales-on-discrete-axes","dir":"Articles","previous_headings":"","what":"Scales on discrete axes","title":"Adding geological timescales to plots","text":"coord_geo() automatically detect axis discrete. categories discrete axis (can reordered using limits argument scale_x_discrete()/scale_y_discrete()) match name column timescale data (dat). can use arguments theme() scale_[x/y]_discrete() optionally remove labels tick marks.","code":"# use the coral occurrence data from above coral_div_dis <- corals %>%   filter(period != \"\") %>%   group_by(diet, period) %>%   summarise(n = n()) %>%   mutate(period_age = (periods$max_age[match(period, periods$name)] +     periods$min_age[match(period, periods$name)]) / 2) %>%   arrange(-period_age)  ggplot(coral_div_dis) +   geom_col(aes(x = period, y = n, fill = diet)) +   scale_x_discrete(\"Period\",     limits = unique(coral_div_dis$period), labels = NULL,     expand = expansion(add = .5)   ) +   scale_y_continuous(expand = c(0, 0)) +   scale_fill_viridis_d(\"Diet\") +   ylab(\"Coral Genera\") +   coord_geo(expand = TRUE, skip = NULL, abbrv = TRUE) +   theme_classic() +   theme(axis.ticks.length.x = unit(0, \"lines\"))"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord_geo.html","id":"custom-discrete-scales","dir":"Articles","previous_headings":"Scales on discrete axes","what":"Custom discrete scales","title":"Adding geological timescales to plots","text":"can also supply pre-discretized scale data setting dat_is_discrete parameter TRUE. Custom scales always name, max_age, min_age columns. Optional columns include abbr abbreviations, color background colors, lab_color interval label colors. can even one scale auto-discretized intervals one scale pre-discretized intervals.","code":"eras_custom <- data.frame(   name = c(\"Mesozoic\", \"Cenozoic\"), max_age = c(0.5, 3.5),   min_age = c(3.5, 6.5), color = c(\"#67C5CA\", \"#F2F91D\") )  ggplot(coral_div_dis) +   geom_col(aes(x = period, y = n, fill = diet)) +   scale_x_discrete(NULL,     limits = unique(coral_div_dis$period), labels = NULL,     expand = expansion(add = .5)   ) +   scale_y_continuous(expand = c(0, 0)) +   scale_fill_viridis_d(\"Diet\") +   ylab(\"Coral Genera\") +   coord_geo(     dat = list(\"periods\", eras_custom), pos = c(\"b\", \"b\"), expand = TRUE,     skip = NULL, abbrv = list(TRUE, FALSE), dat_is_discrete = list(FALSE, TRUE)   ) +   theme_classic() +   theme(axis.ticks.length.x = unit(0, \"lines\"))"},{"path":"https://williamgearty.com/deeptime/dev/articles/coord_geo.html","id":"more-advanced-topics","dir":"Articles","previous_headings":"","what":"More advanced topics","title":"Adding geological timescales to plots","text":"Looking learn advanced features deeptime? Look : Plotting phylogenies timescales Plotting trait data Combining arranging plots Additional ggplot coordinate systems","code":""},{"path":"https://williamgearty.com/deeptime/dev/articles/ggarrange2.html","id":"the-history-of-arranging-and-combining-plots","dir":"Articles","previous_headings":"","what":"The history of arranging and combining plots","title":"Combining and arranging plots","text":"Combining multiple plots together figures key component developing publishable data visualizations. Many packages provide ways combine arrange plots. example, gridExtra package grid.arrange() function allows user arrange plots fairly complex layouts. However, main drawback (cases) function components plots (axes, labels, panels, etc.) aligned. ggarrange() function egg package uses 3x3 decomposition individual plots align plot components. central cells correspond core panels, surrounded axes, legends, etc.","code":""},{"path":"https://williamgearty.com/deeptime/dev/articles/ggarrange2.html","id":"arranging-plots-with-deeptime","dir":"Articles","previous_headings":"","what":"Arranging plots with deeptime","title":"Combining and arranging plots","text":"deeptime expands functionality ggarrange2() perform 7x7 decomposition individual plots, shown . ensures components individual plots aligned one another (e.g., axis labels, axis tick labels). central cell corresponds plot panel(s), rectangle cells around corresponds axes, rectangle cells around corresponds axis titles, rectangle cells around corresponds legends.","code":"p1 <- ggplot(mtcars, aes(mpg, wt, colour = factor(cyl))) +   geom_point() +   theme_classic(base_size = 20) ggarrange2(p1, debug = TRUE)"},{"path":"https://williamgearty.com/deeptime/dev/articles/ggarrange2.html","id":"combining-plots","dir":"Articles","previous_headings":"","what":"Combining plots","title":"Combining and arranging plots","text":"7x7 decomposition process, becomes simple combine plots single figures properly aligned components. can chain calls ggarrange2() accomplish highly complex combinations arrangements:  can also accomplish complex plot layouts supplying matrix integers layout argument, like base R layout() function. can used insert empty plots change order plots. Note repeating number duplicate plot, expand across multiple plot spots.","code":"p1 <- ggplot(ammoniteTraitsRaia) +   geom_point(aes(x = Log_D, y = FD)) +   labs(x = \"Body size\", y = \"Suture complexity\") +   theme_classic()  p2 <- ggplot(ammoniteTraitsRaia) +   geom_point(aes(x = Log_D, y = log_dur)) +   labs(x = \"Body size\", y = \"Stratigraphic duration (myr)\") +   theme_classic() gg1 <- ggarrange2(p1, p2, widths = c(2, 1), draw = FALSE) p3 <- ggtree(ammoniteTreeRaia, position = position_nudge(x = -ammoniteTreeRaia$root.time)) +   coord_geo(     xlim = c(-415, -66), ylim = c(-2, Ntip(ammoniteTreeRaia)), pos = \"bottom\",     size = 4, abbrv = FALSE, neg = TRUE   ) +   scale_x_continuous(breaks = seq(-425, -50, 25), labels = -seq(-425, -50, 25)) +   theme_tree2() +   theme(plot.margin = margin(7, 11, 7, 11)) ggarrange2(gg1, p3, nrow = 2, heights = c(1, 2)) ggarrange2(p1, p2, p3,   layout = matrix(c(1, 2, 0, 3), nrow = 2, byrow = TRUE),   widths = c(1, 3) )"},{"path":"https://williamgearty.com/deeptime/dev/articles/ggarrange2.html","id":"other-resources-for-arranging-plots","dir":"Articles","previous_headings":"","what":"Other resources for arranging plots","title":"Combining and arranging plots","text":"Note provide guarantee ggarrange2() solves every problem arranging plots. following options may also useful: cowplot package cowplot::plot_grid() function accomplishes many features ggarrange2(). patchwork package intuitive tools combining arranging plots (e.g., using mathematical symbols).","code":""},{"path":"https://williamgearty.com/deeptime/dev/articles/phylogenies.html","id":"timescales-and-phylogenies","dir":"Articles","previous_headings":"","what":"Timescales and phylogenies","title":"Adding geological timescales to phylogenies","text":"Now, let’s plot phylogenies timescales! Note default time axis increases toward tips trees plotted ggtree(), must use revts() function ggtree change x-axis values increasing negative values. Note ’ve done , need set neg = TRUE coord_geo(). Furthermore, time axis limits set need negative. also use scale_x_continuous() function relabel negative x-axis values positive labels.","code":"p <- ggtree(mammal.tree) +   coord_geo(xlim = c(-75, 0), ylim = c(-2, Ntip(mammal.tree)), neg = TRUE, abbrv = FALSE) +   scale_x_continuous(breaks = seq(-80, 0, 20), labels = abs(seq(-80, 0, 20))) +   theme_tree2() revts(p)"},{"path":"https://williamgearty.com/deeptime/dev/articles/phylogenies.html","id":"phylogenies-with-only-fossil-taxa","dir":"Articles","previous_headings":"Timescales and phylogenies","what":"Phylogenies with only fossil taxa","title":"Adding geological timescales to phylogenies","text":"Many phylogenies fossil taxa (.e., non-ultrametric). can handled coord_geo() using position_nudge() function. cases, want nudge time axis values (case, x-axis) root.time phylogeny. Also, note modified plot.margin accommodate stacked timescale.","code":"ggtree(ceratopsianTreeRaia, position = position_nudge(x = -ceratopsianTreeRaia$root.time)) +   coord_geo(     xlim = c(-163.5, -66), ylim = c(-2, Ntip(ceratopsianTreeRaia)),     pos = list(\"bottom\", \"bottom\"), skip = c(\"Paleocene\", \"Middle Jurassic\"),     dat = list(\"epochs\", \"periods\"), abbrv = FALSE,     size = list(4, 5), neg = TRUE, center_end_labels = TRUE   ) +   scale_x_continuous(breaks = -rev(epochs$max_age), labels = rev(epochs$max_age)) +   theme_tree2() +   theme(plot.margin = margin(7, 11, 7, 11))"},{"path":"https://williamgearty.com/deeptime/dev/articles/phylogenies.html","id":"circular-phylogenies","dir":"Articles","previous_headings":"","what":"Circular phylogenies","title":"Adding geological timescales to phylogenies","text":"Phylogenies can plotted circular layout timescale background using coord_geo_radial() function. works just like coord_geo() many arguments. Note coord_geo_radial() works ggplot2 version 3.5.0 higher. versions ggplot2, can use coord_geo_polar().","code":"revts(ggtree(mammal.tree)) +   coord_geo_radial(dat = \"stages\") +   scale_x_continuous(breaks = seq(-60, 0, 20), labels = abs(seq(-60, 0, 20))) +   scale_y_continuous(guide = NULL) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/phylogenies.html","id":"circular-phylogenies-with-stacked-timescales","dir":"Articles","previous_headings":"Circular phylogenies","what":"Circular phylogenies with “stacked” timescales","title":"Adding geological timescales to phylogenies","text":"Timescales can even “stacked” like coord_geo(), although stacking occurs circular fashion. case, use scale_y_continuous() add small expansion y-axis (now theta axis) numbers don’t overlap phylogeny. also use prop, start, end, direction arguments specify different timescales oriented split within polar space.","code":"revts(ggtree(mammal.tree)) +   coord_geo_radial(     dat = list(\"stages\", \"periods\"), alpha = .5, lty = \"dashed\",     prop = list(0.66, .34), start = 2 * pi, end = 1.75 * pi, direction = 1,   ) +   scale_y_continuous(guide = NULL, expand = expansion(mult = c(0.02, 0.02))) +   scale_x_continuous(breaks = seq(-60, 0, 20), labels = abs(seq(-60, 0, 20))) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/phylogenies.html","id":"disclaimer","dir":"Articles","previous_headings":"Circular phylogenies","what":"Disclaimer","title":"Adding geological timescales to phylogenies","text":"Note coord_geo_radial() tested plotting ultrametric non-ultrametric phylogenies ggtree::ggtree(), may unexpected behavior combined functions ggtree. Furthermore, coord_geo_radial() may useful (albeit perhaps abstract) plotting types data, investigated.","code":""},{"path":"https://williamgearty.com/deeptime/dev/articles/time.html","id":"plot-occurrences-through-time","dir":"Articles","previous_headings":"","what":"Plot occurrences through time","title":"Plotting temporal data","text":"bunch temporal occurrences taxa sort geological phenomenon, don’t want go pain figuring visualize occurrences temporal ranges? needs customizable pretty geological stratigraphic timescale side? Well, geom_points_range() friend! geom_points_range() like ggplot2::geom_pointrange() plots points ranges. However, “raw” data goes ggplot2::geom_pointrange() lower, upper, coordinates individual point group. First, ’re lazy calculate ranges! Second, one point per group? whole bunch occurrences group need plotted! difference geom_points_range() raw data takes grouped temporal data. work plot individual occurrences ranges occurrences group. Let’s try Permian vertebrate occurrence data palaeoverse:  , course, want add timescale:  aren’t certain data points? Maybe don’t necessarily know assigned correct genus perhaps uncertain age? Fortunately, tools ggplot available us! First ’ll simulate binary “certainty” values, ’ll plot certainty additional aesthetics:  Finally, can sort taxa arranged order earliest occurrence:  Note uncertain lines (0) always overlap certain lines (1), continuous line spanning taxon’s entire range. However, tweak data, can change , causing gap ranges. Note engineered example, uncertain certain ranges Diictodon longer overlap, gap :  However, want line connecting groups points, can fix using background_line argument, can list aesthetic values use background line segments:  Finally, ’ve showcased geom use case plotting occurrence data, note potential usage function much broader. Basically set data categorical continuous variable visualized like (appropriate).","code":"# sort the occurrences from most common genera to least common genera # assume the age is just the mean of the max and min occdf <- tetrapods %>%   filter(accepted_rank == \"genus\") %>%   select(occurrence_no, accepted_name, max_ma, min_ma) %>%   mutate(accepted_name = reorder(accepted_name, accepted_name, length)) %>%   arrange(desc(accepted_name)) %>%   mutate(age = (max_ma + min_ma) / 2) # get a reasonable subset of those occurrences occdf <- occdf[1:300, ]  # plot those occurrences ggplot(data = occdf) +   geom_points_range(aes(x = age, y = accepted_name)) +   theme_classic() ggplot(data = occdf) +   geom_points_range(aes(x = age, y = accepted_name)) +   scale_x_reverse() +   coord_geo(pos = list(\"bottom\", \"bottom\"), dat = list(\"stages\", \"periods\"),             abbrv = list(TRUE, FALSE), expand = TRUE, size = \"auto\") +   theme_classic() occdf$certainty <- factor(sample(0:1, nrow(occdf), replace = TRUE))  ggplot(data = occdf) +   geom_points_range(aes(x = age, y = accepted_name,                         fill = certainty, linetype = certainty), shape = 21) +   scale_x_reverse() +   scale_fill_manual(values = c(\"white\", \"black\")) +   scale_linetype_manual(values = c(\"dashed\", \"solid\")) +   coord_geo(pos = list(\"bottom\", \"bottom\"), dat = list(\"stages\", \"periods\"),             abbrv = list(TRUE, FALSE), expand = TRUE, size = \"auto\") +   theme_classic() occdf$accepted_name <- reorder(occdf$accepted_name, occdf$age, max,                                decreasing = TRUE) ggplot(data = occdf) +   geom_points_range(aes(x = age, y = accepted_name,                         fill = certainty, linetype = certainty), shape = 21) +   scale_x_reverse() +   scale_fill_manual(values = c(\"white\", \"black\")) +   scale_linetype_manual(values = c(\"dashed\", \"solid\")) +   coord_geo(pos = list(\"bottom\", \"bottom\"), dat = list(\"stages\", \"periods\"),             abbrv = list(TRUE, FALSE), expand = TRUE, size = \"auto\") +   theme_classic() oldest_certain <- occdf %>%   filter(accepted_name == \"Diictodon\", certainty == 1) %>%   pull(age) %>% max()  n_uncertain <- sum(occdf$accepted_name == \"Diictodon\" & occdf$certainty == 0)  # make the uncertain points all much older occdf$age[occdf$accepted_name == \"Diictodon\" & occdf$certainty == 0] <-   oldest_certain + runif(n_uncertain, 15, 30)  ggplot(data = occdf) +   geom_points_range(aes(x = age, y = accepted_name,                         fill = certainty, linetype = certainty), shape = 21) +   scale_x_reverse() +   scale_fill_manual(values = c(\"white\", \"black\")) +   scale_linetype_manual(values = c(\"dashed\", \"solid\")) +   coord_geo(pos = list(\"bottom\", \"bottom\"), dat = list(\"stages\", \"periods\"),             abbrv = list(TRUE, FALSE), expand = TRUE, size = \"auto\") +   theme_classic() ggplot(data = occdf) +   geom_points_range(aes(x = age, y = accepted_name,                         fill = certainty, linetype = certainty), shape = 21,                     background_line = list(linetype = \"dashed\")) +   scale_x_reverse() +   scale_fill_manual(values = c(\"white\", \"black\")) +   scale_linetype_manual(values = c(\"dashed\", \"solid\")) +   coord_geo(pos = list(\"bottom\", \"bottom\"), dat = list(\"stages\", \"periods\"),             abbrv = list(TRUE, FALSE), expand = TRUE, size = \"auto\") +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/time.html","id":"geological-timescale-color-scales-for-ggplot","dir":"Articles","previous_headings":"","what":"Geological timescale color scales for ggplot","title":"Plotting temporal data","text":"may also want color data based age. deeptime scale_color_geo() scale_fill_geo() purpose! Note currently scales work discrete data. default behavior color/fill aesthetic values match names intervals dat. , ’ll use coral_div_dis data first vignette tutorial:","code":"ggplot(coral_div_dis, aes(x = n, y = diet, fill = period)) +   geom_col() +   scale_fill_geo(periods) +   xlab(\"Coral Genera\") +   ylab(\"Diet\") +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/articles/traits.html","id":"plot-disparity-through-time","dir":"Articles","previous_headings":"","what":"Plot disparity through time","title":"Plotting trait data","text":"common way visualize trait data, especially fossil species, show two-dimensional trait distribution several time intervals. allows viewer easily compare trait distribution time. However, producing plot historically time intensive, often involving use custom code image editing software (e.g., Inkscape). single function accomplish visualization still exist ggplot2 (yet…), coord_trans_xy() function can used generate similar plot sheared trait space across several time intervals.","code":"# make transformer library(ggforce) trans <- linear_trans(shear(.75, 0))  # prepare data to be plotted crinoids <- as.data.frame(demo_data$wright$matrix[[1]][, 1:2]) crinoids$time <- \"before extinction\" crinoids$time[demo_data$wright$subsets$after$elements] <- \"after extinction\"  # a box to outline the trait space square <- data.frame(V1 = c(-.6, -.6, .6, .6), V2 = c(-.4, .4, .4, -.4))  ggplot() +   geom_segment(     data = data.frame(       x = -.6, y = seq(-.4, .4, .2),       xend = .6, yend = seq(-0.4, .4, .2)     ),     aes(x = x, y = y, xend = xend, yend = yend),     linetype = \"dashed\", color = \"grey\"   ) +   geom_segment(     data = data.frame(       x = seq(-.6, .6, .2), y = -.4,       xend = seq(-.6, .6, .2), yend = .4     ),     aes(x = x, y = y, xend = xend, yend = yend),     linetype = \"dashed\", color = \"grey\"   ) +   geom_polygon(data = square, aes(x = V1, y = V2), fill = NA, color = \"black\") +   geom_point(data = crinoids, aes(x = V1, y = V2), color = \"black\") +   coord_trans_xy(trans = trans, expand = FALSE) +   labs(x = \"PCO1\", y = \"PCO2\") +   theme_classic() +   facet_wrap(~time, ncol = 1, strip.position = \"right\") +   theme(panel.spacing = unit(1, \"lines\"), panel.background = element_blank())"},{"path":"https://williamgearty.com/deeptime/dev/articles/traits.html","id":"disparity-in-base-r","dir":"Articles","previous_headings":"Plot disparity through time","what":"Disparity in base R","title":"Plotting trait data","text":"disparity_through_time() function accomplishes nearly work comfortable plotting within lattice framework (base R). Note may take tweaking (especially aspect argument) get results look way want.","code":"crinoids$time <- factor(crinoids$time) disparity_through_time(time ~ V2 * V1,   data = crinoids, groups = time, aspect = c(1.5, .6),   xlim = c(-.6, .6), ylim = c(-.5, .5),   col.regions = \"lightyellow\", col.point = c(\"red\", \"blue\"),   par.settings = list(     axis.line = list(col = \"transparent\"),     layout.heights =       list(         top.padding = -20, main.key.padding = 0,         key.axis.padding = 0, axis.xlab.padding = 0,         xlab.key.padding = 0, key.sub.padding = 0,         bottom.padding = -20       ),     layout.widths =       list(         left.padding = -10, key.ylab.padding = 0,         ylab.axis.padding = 0, axis.key.padding = 0,         right.padding = 0       )   ) )"},{"path":"https://williamgearty.com/deeptime/dev/articles/traits.html","id":"phylomorphospaces","dir":"Articles","previous_headings":"","what":"Phylomorphospaces","title":"Plotting trait data","text":"Often, trait data accompanied phylogeny. may want visualize phylogeny, traits species, evolution trait along phylogeny. accomplish , can create two-dimensional phylomorphospace. phytools package phytools::phylomorphospace() function accomplishing base R. geom_phylomorpho() function deeptime help accomplish ggplot(). Note labels can added using geom_label() ggrepel::geom_label_repel(), demonstrated obscure phylogenetic relationships.","code":"mammal.data$label <- rownames(mammal.data)  ggplot(mammal.data, aes(x = bodyMass, y = homeRange, label = label)) +   geom_phylomorpho(mammal.tree) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"William Gearty. Author, maintainer.","code":""},{"path":"https://williamgearty.com/deeptime/dev/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Gearty W (2024). deeptime: Plotting Tools Anyone Working Deep Time. R package version 1.0.1.9000,  https://williamgearty.com/deeptime/, https://github.com/willgearty/deeptime.","code":"@Manual{,   title = {deeptime: Plotting Tools for Anyone Working in Deep Time},   author = {William Gearty},   year = {2024},   note = {R package version 1.0.1.9000,  https://williamgearty.com/deeptime/},   url = {https://github.com/willgearty/deeptime}, }"},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Plotting Tools for Anyone Working in Deep Time","text":"deeptime extends functionality plotting packages like ggplot2 lattice help facilitate plotting data long time intervals, including, limited , geological, evolutionary, ecological data. primary goal deeptime enable users add highly customizable timescales visualizations. functions also included assist areas deep time visualization.","code":""},{"path":"https://williamgearty.com/deeptime/dev/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Plotting Tools for Anyone Working in Deep Time","text":"","code":"# get the stable version from CRAN install.packages(\"deeptime\")  # or get the development version from github # install.packages(\"devtools\") devtools::install_github(\"willgearty/deeptime\")"},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/index.html","id":"load-packages","dir":"","previous_headings":"Usage","what":"Load packages","title":"Plotting Tools for Anyone Working in Deep Time","text":"","code":"library(deeptime) library(dplyr)"},{"path":"https://williamgearty.com/deeptime/dev/index.html","id":"add-timescales-to-plots","dir":"","previous_headings":"Usage","what":"Add timescales to plots","title":"Plotting Tools for Anyone Working in Deep Time","text":"main function deeptime coord_geo(), functions just like coord_trans() ggplot2. can use function add highly customizable timescales wide variety ggplots.","code":"library(divDyn) data(corals) # this is not a proper diversity curve but it gets the point across coral_div <- corals %>% filter(stage != \"\") %>%   group_by(stage) %>%   summarise(n = n()) %>%   mutate(stage_age = (stages$max_age[match(stage, stages$name)] +                         stages$min_age[match(stage, stages$name)])/2) ggplot(coral_div) +   geom_line(aes(x = stage_age, y = n)) +   scale_x_reverse(\"Age (Ma)\") +   ylab(\"Coral Genera\") +   coord_geo(xlim = c(250, 0), ylim = c(0, 1700)) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/index.html","id":"combine-plots-with-timescales-and-plots-without-timescales","dir":"","previous_headings":"Usage","what":"Combine plots with timescales and plots without timescales","title":"Plotting Tools for Anyone Working in Deep Time","text":"","code":"library(paleotree) data(RaiaCopesRule) p1 <- ggplot(ammoniteTraitsRaia) +   geom_point(aes(x = Log_D, y = FD)) +   labs(x = \"Body size\", y = \"Suture complexity\") +   theme_classic()  p2 <- ggplot(ammoniteTraitsRaia) +   geom_point(aes(x = Log_D, y = log_dur)) +   labs(x = \"Body size\", y = \"Stratigraphic duration (myr)\") +   theme_classic()  p3 <- ggtree(ammoniteTreeRaia, position = position_nudge(x = -ammoniteTreeRaia$root.time)) +   coord_geo(xlim = c(-415,-66), ylim = c(-2,Ntip(ammoniteTreeRaia)), pos = \"bottom\",             size = 4, abbrv = FALSE, neg = TRUE) +   scale_x_continuous(breaks = seq(-425, -50, 25), labels = -seq(-425, -50, 25)) +   theme_tree2() +   theme(plot.margin = margin(7,11,7,11))  ggarrange2(   ggarrange2(p1, p2, widths = c(2,1), draw = FALSE),   p3, nrow = 2, heights = c(1,2) )"},{"path":"https://williamgearty.com/deeptime/dev/index.html","id":"plot-disparity-through-time","dir":"","previous_headings":"Usage","what":"Plot disparity through time","title":"Plotting Tools for Anyone Working in Deep Time","text":"","code":"#make transformer library(ggforce) trans <- linear_trans(shear(.5, 0))  library(dispRity) data(demo_data) # prepare data to be plotted crinoids <- as.data.frame(demo_data$wright$matrix[[1]][, 1:2]) crinoids$time <- \"before extinction\" crinoids$time[demo_data$wright$subsets$after$elements] <- \"after extinction\"  square <- data.frame(V1 = c(-.6, -.6, .6, .6), V2 = c(-.4, .4, .4, -.4))  # plot data normally ggplot() +   geom_segment(data = data.frame(x = -.6, y = seq(-.4, .4,.2),                                  xend = .6, yend = seq(-0.4, .4, .2)),                aes(x = x, y = y, xend = xend, yend=yend),                linetype = \"dashed\", color = \"grey\") +   geom_segment(data = data.frame(x = seq(-.6, .6, .2), y = -.4,                                  xend = seq(-.6, .6, .2), yend = .4),                aes(x = x, y = y, xend = xend, yend=yend),                linetype = \"dashed\", color = \"grey\") +   geom_polygon(data = square, aes(x = V1, y = V2), fill = NA, color = \"black\") +   geom_point(data = crinoids, aes(x = V1, y = V2), color = 'black') +   coord_cartesian(expand = FALSE) +   labs(x = \"PCO1\", y = \"PCO2\") +   theme_classic() +   facet_wrap(~time, ncol = 1, strip.position = \"right\") +   theme(panel.spacing = unit(1, \"lines\"), panel.background = element_blank())  # plot data with transformation ggplot() +   geom_segment(data = data.frame(x = -.6, y = seq(-.4, .4,.2),                                  xend = .6, yend = seq(-0.4, .4, .2)),                aes(x = x, y = y, xend = xend, yend=yend),                linetype = \"dashed\", color = \"grey\") +   geom_segment(data = data.frame(x = seq(-.6, .6, .2), y = -.4,                                  xend = seq(-.6, .6, .2), yend = .4),                aes(x = x, y = y, xend = xend, yend=yend),                linetype = \"dashed\", color = \"grey\") +   geom_polygon(data = square, aes(x = V1, y = V2), fill = NA, color = \"black\") +   geom_point(data = crinoids, aes(x = V1, y = V2), color = 'black') +   coord_trans_xy(trans = trans, expand = FALSE) +   labs(x = \"PCO1\", y = \"PCO2\") +   theme_classic() +   facet_wrap(~time, ncol = 1, strip.position = \"right\") +   theme(panel.spacing = unit(1, \"lines\"), panel.background = element_blank())"},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo.html","id":null,"dir":"Reference","previous_headings":"","what":"Transformed coordinate system with geological timescale — coord_geo","title":"Transformed coordinate system with geological timescale — coord_geo","text":"coord_geo behaves similarly ggplot2::coord_trans() occurs statistical transformation affect visual appearance geoms. main difference also adds geological timescale specified side(s) plot.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transformed coordinate system with geological timescale — coord_geo","text":"","code":"coord_geo(   pos = \"bottom\",   dat = \"periods\",   xlim = NULL,   ylim = NULL,   xtrans = identity_trans(),   ytrans = identity_trans(),   clip = \"on\",   expand = FALSE,   fill = NULL,   alpha = 1,   height = unit(2, \"line\"),   bord = c(\"left\", \"right\", \"top\", \"bottom\"),   lwd = 0.25,   color = \"black\",   lab = TRUE,   lab_color = NULL,   rot = 0,   family = \"sans\",   fontface = \"plain\",   size = 5,   skip = c(\"Quaternary\", \"Holocene\", \"Late Pleistocene\"),   abbrv = TRUE,   neg = FALSE,   center_end_labels = FALSE,   dat_is_discrete = FALSE,   fittext_args = list() )"},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transformed coordinate system with geological timescale — coord_geo","text":"pos side add scale (left, right, top, bottom). First letter may also used. dat Either ) string indicating built-dataframe interval data ICS (\"periods\", \"epochs\", \"stages\", \"eons\", \"eras\"), B) string indicating timescale macrostrat (see list : https://macrostrat.org/api/defs/timescales?), C) custom data.frame time interval boundaries (see Details). xlim, ylim Limits x y axes. xtrans, ytrans Transformers x y axes. information see ggplot2::coord_trans(). clip drawing clipped extent plot panel? setting \"\" (default) means yes, setting \"\" means . cases, default \"\" changed, setting clip = \"\" can cause unexpected results. allows drawing data points anywhere plot, including plot margins. limits set via xlim ylim data points fall outside limits, data points may show places axes, legend, plot title, plot margins. expand FALSE, default, limits taken exactly data xlim/ylim. TRUE, adds small expansion factor limits ensure data axes overlap. fill fill color boxes. default use color column included dat. custom dataset provided dat without color column without fill, greyscale used. Custom fill colors can provided option (overriding color column) recycled /necessary. alpha transparency fill colors. height height (width pos left right) scale. bord vector specifying sides scale add borders (options pos). lwd Line width. color outline color interval boxes. lab Whether include labels. lab_color color labels. default use lab_color column included dat. custom dataset provided dat without lab_color column without fill, labels black. Custom label colors can provided option (overriding lab_color column) recycled /necessary. rot amount counter-clockwise rotation add labels (degrees). family font family use labels. three fonts guaranteed work everywhere: “sans” (default), “serif”, “mono”. fontface font face use labels. standard options \"plain\" (default), \"bold\", \"italic\", \"bold.italic\". size Label size. Either number specify ggplot2::geom_text() \"auto\" use ggfittext::geom_fit_text(). skip vector interval names indicating intervals labeled. abbrv TRUE, can also include interval abbreviations. abbrv including labels, whether use abbreviations instead full interval names. neg Set true x-axis using negative values. center_end_labels labels centered within visible range intervals ends axis? dat_is_discrete ages dat already converted discrete scale? fittext_args list named arguments provide ggfittext::geom_fit_text(). used size set \"auto\".","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Transformed coordinate system with geological timescale — coord_geo","text":"Transforming side scale currently implemented. custom data.frame provided (dat), consist least 3 columns data. See data(periods) example. name column lists names time interval. used labels abbreviations provided. max_age column lists oldest boundary time interval. min_age column lists youngest boundary time interval. abbr column optional lists abbreviations may used labels. color column also optional lists color background time interval. lab_color column also optional lists color label time interval. axis time scale discrete, max_age min_age automatically converted discrete scale. case, categories discrete axis match values name column. ages within dat already discretized, can set dat_is_discrete TRUE prevent automatic conversion. can useful adding time scale categories time intervals 1:1. pos may also list sides (including duplicates) multiple time scales added plot. case, dat, fill, alpha, height, bord, lwd, color, lab, lab_color, rot, family, fontface, size, skip, abbrv, neg, center_end_labels, dat_is_discrete can also lists. lists long pos, elements recycled. individual values (vectors) used parameters, applied time scales (recycled necessary).","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Transformed coordinate system with geological timescale — coord_geo","text":"","code":"library(ggplot2) # single scale on bottom ggplot() +   geom_point(aes(y = runif(1000, 0, 8), x = runif(1000, 0, 1000))) +   scale_x_reverse() +   coord_geo(xlim = c(1000, 0), ylim = c(0, 8)) +   theme_classic()   # stack multiple scales ggplot() +   geom_point(aes(y = runif(1000, 0, 8), x = runif(1000, 0, 100))) +   scale_x_reverse() +   coord_geo(     xlim = c(100, 0), ylim = c(0, 8), pos = as.list(rep(\"bottom\", 3)),     dat = list(\"stages\", \"epochs\", \"periods\"),     height = list(unit(4, \"lines\"), unit(4, \"lines\"), unit(2, \"line\")),     rot = list(90, 90, 0), size = list(2.5, 2.5, 5), abbrv = FALSE   ) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_polar.html","id":null,"dir":"Reference","previous_headings":"","what":"Polar coordinate system with geological timescale — coord_geo_polar","title":"Polar coordinate system with geological timescale — coord_geo_polar","text":"coord_geo_polar behaves similarly ggplot2::coord_polar() occurs statistical transformation affect visual appearance geoms. main difference also adds geological timescale background plot.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_polar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Polar coordinate system with geological timescale — coord_geo_polar","text":"","code":"coord_geo_polar(   dat = \"periods\",   theta = \"y\",   start = -pi/2,   direction = -1,   clip = \"on\",   fill = NULL,   alpha = 1,   lwd = 0.25,   color = \"grey80\",   lty = \"solid\",   lab = FALSE,   abbrv = TRUE,   skip = c(\"Quaternary\", \"Holocene\", \"Late Pleistocene\"),   neg = TRUE,   prop = 1,   textpath_args = list() )"},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_polar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Polar coordinate system with geological timescale — coord_geo_polar","text":"dat Either ) string indicating built-dataframe interval data ICS (\"periods\", \"epochs\", \"stages\", \"eons\", \"eras\"), B) string indicating timescale macrostrat (see list : https://macrostrat.org/api/defs/timescales?), C) custom data.frame time interval boundaries (see Details). theta variable map angle (x y) start Offset starting point 12 o'clock radians. Offset applied clockwise anticlockwise depending value direction. direction 1, clockwise; -1, anticlockwise clip drawing clipped extent plot panel? setting \"\" (default) means yes, setting \"\" means . details, please see coord_cartesian(). fill fill color background. default use color column included dat. custom dataset provided dat without color column without fill, greyscale used. Custom fill colors can provided option (overriding color column) recycled /necessary. alpha transparency fill colors. lwd Line width lines intervals. Set NULL remove lines. color color lines intervals. lty Line type lines intervals. lab Whether include labels. abbrv including labels, whether use abbreviations instead full interval names. skip vector interval names indicating intervals labeled. abbrv TRUE, can also include interval abbreviations. neg Set true theta-axis using negative values. usually true using ggtree. prop rotational proportion background scale takes . textpath_args list named arguments provide geomtextpath::geom_textpath(). used lab set TRUE. Useful arguments include color (font color), family (font family), fontface, hjust (radial adjustment), size (font size).","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_polar.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Polar coordinate system with geological timescale — coord_geo_polar","text":"custom data.frame provided (dat), consist least 2 columns data. See data(periods) example. max_age column lists oldest boundary time interval. min_age column lists youngest boundary time interval. abbr column optional lists abbreviations may used labels. color column optional lists color background time interval. dat may also list values /dataframes multiple time scales added background. Scales added sequentially starting start going specified direction. default scales equal circular/rotational proportion, can overridden prop. dat list, fill, alpha, lwd, color, lty, lab, abbrv, skip, neg, prop, textpath_args can also lists (N.B. textpath_args list lists). lists long dat, elements recycled. individual values (vectors) used parameters, applied time scales (recycled necessary). sum prop values greater 1, proportions scaled sum 1. However, prop values may sum less 1 user like blank space background. deeptime.axis.line.r, deeptime.axis.text.r, deeptime.axis.ticks.r, deeptime.axis.ticks.length.r ggplot2 theme elements can modified just like x y counterparts change appearance radius axis. default settings work well horizontal axis pointing towards right, theme settings need modified orientations. default value deeptime.axis.line.r element_line(). default value deeptime.axis.text.r element_text(size = 3.5, vjust = -2, hjust = NA). default value deeptime.axis.ticks.r element_line(). default value deeptime.axis.ticks.length.r unit(1.5, \"points\"). However, note units element meaningless numeric value used (unit must still used). Care must taken adding labels plots, likely overlap plot default settings. textpath_args argument can used adjust settings plotting labels. See geomtextpath::geom_textpath() details available arguments. Also note curvature labels may vary based distance origin. abbrv set TRUE default.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_polar.html","id":"life-cycle","dir":"Reference","previous_headings":"","what":"Life cycle","title":"Polar coordinate system with geological timescale — coord_geo_polar","text":"function soft-deprecated favor coord_geo_radial() deeptime version 1.1.0. currently plan remove function, users strongly encouraged migrate new function enhanced polar functionality. Note coord_geo_radial() requires ggplot2 version 3.5.0 later.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_polar.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Polar coordinate system with geological timescale — coord_geo_polar","text":"","code":"library(ggplot2) library(ggtree) set.seed(1) tree <- rtree(100) # single scale revts(ggtree(tree)) +   coord_geo_polar(dat = \"stages\") #> Warning: `coord_geo_polar()` was deprecated in deeptime 1.1.0. #> ℹ Please use `coord_geo_radial()` instead.   # multiple scales revts(ggtree(tree)) +   coord_geo_polar(     dat = list(\"stages\", \"periods\"), alpha = .5,     prop = list(0.75, .25), start = pi / 4, lty = \"dashed\"   ) +   scale_y_continuous(expand = expansion(mult = c(0.02, 0.02))) +   theme(deeptime.axis.text.r = element_text(size = 3.5, hjust = .75,                                             vjust = .75)) #> Scale for y is already present. #> Adding another scale for y, which will replace the existing scale.  library(ggplot2) library(paleotree) data(RaiaCopesRule) ggtree(ceratopsianTreeRaia,        position = position_nudge(x = -ceratopsianTreeRaia$root.time)) +   coord_geo_polar(dat = \"stages\")"},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_radial.html","id":null,"dir":"Reference","previous_headings":"","what":"Enhanced polar coordinate system with geological timescale — coord_geo_radial","title":"Enhanced polar coordinate system with geological timescale — coord_geo_radial","text":"coord_geo_radial behaves similarly ggplot2::coord_radial() occurs statistical transformation affect visual appearance geoms. main difference also adds geological timescale background plot. coord_geo_radial similar coord_geo_polar() options related polar coordinate plotting inherited ggplot2::coord_radial() (e.g., end, r_axis_inside, inner.radius).","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_radial.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Enhanced polar coordinate system with geological timescale — coord_geo_radial","text":"","code":"coord_geo_radial(   dat = \"periods\",   theta = \"y\",   start = -0.5 * pi,   end = 1.25 * pi,   expand = TRUE,   direction = 1,   r_axis_inside = NULL,   inner.radius = 0.05,   fill = NULL,   alpha = 1,   lwd = 0.25,   color = \"grey80\",   lty = \"solid\",   lab = FALSE,   abbrv = TRUE,   skip = c(\"Quaternary\", \"Holocene\", \"Late Pleistocene\"),   neg = TRUE,   prop = 1,   textpath_args = list(),   clip = \"off\",   rotate_angle = FALSE )"},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_radial.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Enhanced polar coordinate system with geological timescale — coord_geo_radial","text":"dat Either ) string indicating built-dataframe interval data ICS (\"periods\", \"epochs\", \"stages\", \"eons\", \"eras\"), B) string indicating timescale macrostrat (see list : https://macrostrat.org/api/defs/timescales?), C) custom data.frame time interval boundaries (see Details). theta variable map angle (x y) start Offset starting point 12 o'clock radians. Offset applied clockwise anticlockwise depending value direction. end Position 12 o'clock radians plot ends, allow partial polar coordinates. default, NULL, set start + 2 * pi. expand TRUE, default, adds small expansion factor limits prevent overlap data axes. FALSE, limits taken directly scale. direction 1, clockwise; -1, anticlockwise r_axis_inside TRUE, places radius axis inside panel. FALSE, places radius axis next panel. default, NULL, places radius axis outside start end arguments form full circle. inner.radius numeric 0 1 setting size inner.radius hole. fill fill color background. default use color column included dat. custom dataset provided dat without color column without fill, greyscale used. Custom fill colors can provided option (overriding color column) recycled /necessary. alpha transparency fill colors. lwd Line width lines intervals. Set NULL remove lines. color color lines intervals. lty Line type lines intervals. lab Whether include labels. abbrv including labels, whether use abbreviations instead full interval names. skip vector interval names indicating intervals labeled. abbrv TRUE, can also include interval abbreviations. neg Set true theta-axis using negative values. usually true using ggtree. prop rotational proportion background scale takes . textpath_args list named arguments provide geomtextpath::geom_textpath(). used lab set TRUE. Useful arguments include color (font color), family (font family), fontface, hjust (radial adjustment), size (font size). clip drawing clipped extent plot panel? setting \"\" (default) means yes, setting \"\" means . details, please see coord_cartesian(). rotate_angle TRUE, transforms angle aesthetic data accordance computed theta position. FALSE (default), transformation performed. Can useful rotate text geoms alignment coordinates.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_radial.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Enhanced polar coordinate system with geological timescale — coord_geo_radial","text":"custom data.frame provided (dat), consist least 2 columns data. See data(periods) example. max_age column lists oldest boundary time interval. min_age column lists youngest boundary time interval. abbr column optional lists abbreviations may used labels. color column optional lists color background time interval. dat may also list values /dataframes multiple time scales added background. Scales added sequentially starting start going specified direction. default scales equal circular/rotational proportion, can overridden prop. dat list, fill, alpha, lwd, color, lty, lab, abbrv, skip, neg, prop, textpath_args can also lists (N.B. textpath_args list lists). lists long dat, elements recycled. individual values (vectors) used parameters, applied time scales (recycled necessary). sum prop values greater 1, proportions scaled sum 1. However, prop values may sum less 1 user like blank space background. Care must taken adding labels plots, likely overlap plot default settings. textpath_args argument can used adjust settings plotting labels. See geomtextpath::geom_textpath() details available arguments. Also note curvature labels may vary based distance origin. abbrv set TRUE default.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_geo_radial.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Enhanced polar coordinate system with geological timescale — coord_geo_radial","text":"","code":"library(ggplot2) library(ggtree) set.seed(1) tree <- rtree(100) # single scale revts(ggtree(tree)) +   coord_geo_radial(dat = \"stages\") +   scale_y_continuous(guide = \"none\", breaks = NULL) +   theme_gray() #> Scale for y is already present. #> Adding another scale for y, which will replace the existing scale.   # multiple scales revts(ggtree(tree)) +   coord_geo_radial(     dat = list(\"stages\", \"periods\"), alpha = .5,     prop = list(0.75, .25), start = pi / 4, end = 2 * pi, lty = \"dashed\"   ) +   scale_y_continuous(expand = expansion(mult = c(0.02, 0.02)),                      guide = \"none\", breaks = NULL) +   theme_gray() #> Scale for y is already present. #> Adding another scale for y, which will replace the existing scale.  library(ggplot2) library(paleotree) data(RaiaCopesRule) ggtree(ceratopsianTreeRaia,        position = position_nudge(x = -ceratopsianTreeRaia$root.time)) +   coord_geo_radial(dat = \"stages\") +   scale_y_continuous(guide = \"none\", breaks = NULL) +   theme_classic() #> Scale for y is already present. #> Adding another scale for y, which will replace the existing scale."},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_trans_flip.html","id":null,"dir":"Reference","previous_headings":"","what":"Transformed and flipped Cartesian coordinate system — coord_trans_flip","title":"Transformed and flipped Cartesian coordinate system — coord_trans_flip","text":"coord_trans_flip behaves similarly ggplot2::coord_trans() occurs statistical transformation affect visual appearance geoms. main difference also flips x y coordinates like ggplot2::coord_flip().","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_trans_flip.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transformed and flipped Cartesian coordinate system — coord_trans_flip","text":"","code":"coord_trans_flip(   x = \"identity\",   y = \"identity\",   xlim = NULL,   ylim = NULL,   clip = \"on\",   expand = TRUE )"},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_trans_flip.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transformed and flipped Cartesian coordinate system — coord_trans_flip","text":"x, y Transformers x y axes names. xlim, ylim Limits x y axes. clip drawing clipped extent plot panel? setting \"\" (default) means yes, setting \"\" means . cases, default \"\" changed, setting clip = \"\" can cause unexpected results. allows drawing data points anywhere plot, including plot margins. limits set via xlim ylim data points fall outside limits, data points may show places axes, legend, plot title, plot margins. expand TRUE, default, adds small expansion factor limits ensure data axes overlap. FALSE, limits taken exactly data xlim/ylim.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_trans_flip.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Transformed and flipped Cartesian coordinate system — coord_trans_flip","text":"","code":"library(ggplot2) ggplot(mtcars, aes(disp, wt)) +   geom_point() +   coord_trans_flip(x = \"log10\", y = \"log10\")"},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_trans_xy.html","id":null,"dir":"Reference","previous_headings":"","what":"Transformed XY Cartesian coordinate system — coord_trans_xy","title":"Transformed XY Cartesian coordinate system — coord_trans_xy","text":"coord_trans_xy behaves similarly ggplot2::coord_trans() occurs statistical transformation affect visual appearance geoms. main difference takes single transformer applied x y axes simultaneously. transformers produced ggforce::linear_trans() x y arguments work, transformers produced using scales::trans_new() take x y arguments also work. Axis limits adjusted account transformation unless limits specified xlim ylim.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_trans_xy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transformed XY Cartesian coordinate system — coord_trans_xy","text":"","code":"coord_trans_xy(   trans = NULL,   xlim = NULL,   ylim = NULL,   expand = FALSE,   default = FALSE,   clip = \"on\" )"},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_trans_xy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transformed XY Cartesian coordinate system — coord_trans_xy","text":"trans Transformer x y axes. xlim, ylim Limits x y axes. expand TRUE, default, adds small expansion factor limits ensure data axes overlap. FALSE, limits taken exactly data xlim/ylim. default default coordinate system? FALSE (default), replacing coordinate system another one creates message alerting user coordinate system replaced. TRUE, warning suppressed. clip drawing clipped extent plot panel? setting \"\" (default) means yes, setting \"\" means . cases, default \"\" changed, setting clip = \"\" can cause unexpected results. allows drawing data points anywhere plot, including plot margins. limits set via xlim ylim data points fall outside limits, data points may show places axes, legend, plot title, plot margins.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_trans_xy.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Transformed XY Cartesian coordinate system — coord_trans_xy","text":"coordinate system works geoms points defined x y coordinates (e.g., ggplot2::geom_point(), ggplot2::geom_polygon()). currently work geoms point coordinates extrapolated (e.g., ggplot2::geom_rect()). Furthermore, used ggplot2 3.5.0 later, transformation edge cases may cause problems rendering axis lines. includes currently support \"capping\" axes. hope support geoms, edge cases, features future.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/coord_trans_xy.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Transformed XY Cartesian coordinate system — coord_trans_xy","text":"","code":"# make transformer library(ggforce) trans <- linear_trans(shear(2, 0), rotate(-pi / 3))  # set up data to be plotted square <- data.frame(x = c(0, 0, 4, 4), y = c(0, 1, 1, 0)) points <- data.frame(x = runif(100, 0, 4), y = runif(100, 0, 1))  # plot data normally library(ggplot2) ggplot(data = points, aes(x = x, y = y)) +   geom_polygon(data = square, fill = NA, color = \"black\") +   geom_point(color = \"black\") +   coord_cartesian(expand = FALSE) +   theme_classic()   # plot data with transformation ggplot(data = points, aes(x = x, y = y)) +   geom_polygon(data = square, fill = NA, color = \"black\") +   geom_point(color = \"black\") +   coord_trans_xy(trans = trans, expand = FALSE) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/reference/deeptime-package.html","id":null,"dir":"Reference","previous_headings":"","what":"deeptime: Plotting Tools for Anyone Working in Deep Time — deeptime-package","title":"deeptime: Plotting Tools for Anyone Working in Deep Time — deeptime-package","text":"Extends functionality plotting packages like 'ggplot2' 'lattice' help facilitate plotting data long time intervals, including, limited , geological, evolutionary, ecological data. primary goal 'deeptime' enable users add highly customizable timescales visualizations. functions also included assist areas deep time visualization.","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/reference/deeptime-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"deeptime: Plotting Tools for Anyone Working in Deep Time — deeptime-package","text":"Maintainer: William Gearty willgearty@gmail.com (ORCID)","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/disparity_through_time.html","id":null,"dir":"Reference","previous_headings":"","what":"Disparity through time plot using lattice — disparity_through_time","title":"Disparity through time plot using lattice — disparity_through_time","text":"Plots points 2-D surfaces within 3-D framework. See lattice::wireframe() lattice::panel.cloud() customization options.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/disparity_through_time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Disparity through time plot using lattice — disparity_through_time","text":"","code":"disparity_through_time(   x,   data,   groups,   pch = 16,   col.point = c(\"blue\"),   scales = list(arrows = FALSE, distance = 1, col = \"black\", z = list(rot = 90)),   colorkey = FALSE,   screen = list(z = 90, x = 70, y = 180),   aspect = c(1.5, 4),   drape = TRUE,   col.regions = c(\"white\"),   alpha.regions = c(1),   perspective = FALSE,   R.mat = matrix(c(1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), 4, 4),   par.settings = list(axis.line = list(col = \"transparent\"), layout.heights =     list(top.padding = 0, main.key.padding = 0, key.axis.padding = 0, axis.xlab.padding =     0, xlab.key.padding = 0, key.sub.padding = 0, bottom.padding = 0), layout.widths =     list(left.padding = 0, key.ylab.padding = 0, ylab.axis.padding = 0, axis.key.padding     = 0, right.padding = 0)),   lattice.options = list(axis.padding = list(factor = 0)),   ... )"},{"path":"https://williamgearty.com/deeptime/dev/reference/disparity_through_time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Disparity through time plot using lattice — disparity_through_time","text":"x formula (likely form z ~ x * y) data data frame variables formula evaluated groups variable data used grouping variable (probably z variable) pch point type col.point color(s) points surfaces scales list specifying axes drawn (see lattice::xyplot() details) colorkey logical, legend drawn (list describing legend; see lattice::levelplot() details) screen list rotations applied axis aspect numeric vector length 2, giving relative aspects y-size/x-size z-size/x-size enclosing cube drape logical, whether surfaces colored based col.regions alpha.regions col.regions color(s) surfaces alpha.regions alpha value(s) surfaces perspective logical, whether plot perspective view R.mat transformational matrix applied orientation axes par.settings plotting settings (see lattice::trellis.par.set()) lattice.options lattice settings (see lattice::lattice.options()) ... arguments passed lattice::wireframe()","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/disparity_through_time.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Disparity through time plot using lattice — disparity_through_time","text":"object class \"trellis\", output lattice::wireframe().","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/disparity_through_time.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Disparity through time plot using lattice — disparity_through_time","text":"","code":"g <- data.frame(   x = runif(100, 0, 60), y = runif(100, 0, 10),   z = factor(rep(periods$name[1:5], each = 20),     levels = periods$name[1:5]   ) ) disparity_through_time(z ~ x * y,   data = g, groups = z, aspect = c(1.5, 2),   xlim = c(0, 60), ylim = c(0, 10), col.regions = \"lightgreen\",   col.point = c(\"red\", \"blue\") ) #> Error in eval(substitute(wireframe(x = x, data = data, groups = groups,     pch = pch, col.point = col.point, scales = scales, colorkey = colorkey,     screen = screen, panel = panel.disparity, aspect = aspect,     drape = drape, col.regions = col.regions, alpha.regions = alpha.regions,     perspective = perspective, R.mat = R.mat, par.settings = par.settings,     lattice.options = lattice.options, ...))): object 'g' not found"},{"path":"https://williamgearty.com/deeptime/dev/reference/eons.html","id":null,"dir":"Reference","previous_headings":"","what":"Eon data from the International Commission on Stratigraphy (v2022/10) — eons","title":"Eon data from the International Commission on Stratigraphy (v2022/10) — eons","text":"dataset containing boundary ages, abbreviations, colors eons Geologic Time Scale. Based ICS International Chronostratigraphic Chart (v2022/10), Cohen, Finney, Gibbard, Fan.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/eons.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Eon data from the International Commission on Stratigraphy (v2022/10) — eons","text":"","code":"eons"},{"path":"https://williamgearty.com/deeptime/dev/reference/eons.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Eon data from the International Commission on Stratigraphy (v2022/10) — eons","text":"data frame 3 rows 5 variables: name eon name max_age maximum age, millions years min_age minimum age, millions years abbr eon name abbreviations color colors eon, according Commission Geological Map World","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/eons.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Eon data from the International Commission on Stratigraphy (v2022/10) — eons","text":"https://stratigraphy.org via https://macrostrat.org/api/v2/defs/intervals?timescale=international%20eons","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/reference/epochs.html","id":null,"dir":"Reference","previous_headings":"","what":"Epoch data from the International Commission on Stratigraphy (v2022/10) — epochs","title":"Epoch data from the International Commission on Stratigraphy (v2022/10) — epochs","text":"dataset containing boundary ages, abbreviations, colors epochs Geologic Time Scale. Based ICS International Chronostratigraphic Chart (v2022/10), Cohen, Finney, Gibbard, Fan.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/epochs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Epoch data from the International Commission on Stratigraphy (v2022/10) — epochs","text":"","code":"epochs"},{"path":"https://williamgearty.com/deeptime/dev/reference/epochs.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Epoch data from the International Commission on Stratigraphy (v2022/10) — epochs","text":"data frame 34 rows 5 variables: name epoch name max_age maximum age, millions years min_age minimum age, millions years abbr epoch name abbreviations color colors epoch, according Commission Geological Map World","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/epochs.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Epoch data from the International Commission on Stratigraphy (v2022/10) — epochs","text":"https://stratigraphy.org via https://macrostrat.org/api/v2/defs/intervals?timescale=international%20epochs","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/reference/eras.html","id":null,"dir":"Reference","previous_headings":"","what":"Era data from the International Commission on Stratigraphy (v2022/10) — eras","title":"Era data from the International Commission on Stratigraphy (v2022/10) — eras","text":"dataset containing boundary ages, abbreviations, colors eras Geologic Time Scale. Based ICS International Chronostratigraphic Chart (v2022/10), Cohen, Finney, Gibbard, Fan.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/eras.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Era data from the International Commission on Stratigraphy (v2022/10) — eras","text":"","code":"eras"},{"path":"https://williamgearty.com/deeptime/dev/reference/eras.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Era data from the International Commission on Stratigraphy (v2022/10) — eras","text":"data frame 10 rows 5 variables: name era name max_age maximum age, millions years min_age minimum age, millions years abbr era name abbreviations color colors era, according Commission Geological Map World","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/eras.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Era data from the International Commission on Stratigraphy (v2022/10) — eras","text":"https://stratigraphy.org via https://macrostrat.org/api/v2/defs/intervals?timescale=international%20eras","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_grid_color.html","id":null,"dir":"Reference","previous_headings":"","what":"Lay out panels in a grid with colored strips — facet_grid_color","title":"Lay out panels in a grid with colored strips — facet_grid_color","text":"facet_grid_color behaves similarly ggplot2::facet_grid() forms matrix panels defined row column faceting variables. main difference also allows user specify background colors individual facet strips using colors argument. one variable many levels, try facet_wrap_color().","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_grid_color.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Lay out panels in a grid with colored strips — facet_grid_color","text":"","code":"facet_grid_color(   rows = NULL,   cols = NULL,   scales = \"fixed\",   space = \"fixed\",   shrink = TRUE,   labeller = \"label_value\",   colors = stages,   as.table = TRUE,   switch = NULL,   drop = TRUE,   margins = FALSE,   axes = \"margins\",   axis.labels = \"all\" )"},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_grid_color.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Lay out panels in a grid with colored strips — facet_grid_color","text":"rows, cols set variables expressions quoted vars() defining faceting groups rows columns dimension. variables can named (names passed labeller). compatibility classic interface, rows can also formula rows (tabular display) LHS columns (tabular display) RHS; dot formula used indicate faceting dimension (either row column). scales scales shared across facets (default, \"fixed\"), vary across rows (\"free_x\"), columns (\"free_y\"), rows columns (\"free\")? space \"fixed\", default, panels size. \"free_y\" height proportional length y scale; \"free_x\" width proportional length x scale; \"free\" height width vary.  setting effect unless appropriate scales also vary. shrink TRUE, shrink scales fit output statistics, raw data. FALSE, range raw data statistical summary. labeller function takes one data frame labels returns list data frame character vectors. input column corresponds one factor. Thus one vars(cyl, ). output column gets displayed one separate line strip label. function inherit \"labeller\" S3 class compatibility labeller(). can use different labeling functions different kind labels, example use label_parsed() formatting facet labels. label_value() used default, check details pointers options. colors Specifies colors use replace strip backgrounds. Either ) function returns color given strip label, B) character name function , C) named character vector names matching strip labels values indicating desired colors, D) data.frame representing lookup table columns named \"name\" (matching strip labels) \"color\" (indicating desired colors). function returns .table TRUE, default, facets laid like table highest values bottom-right. FALSE, facets laid like plot highest value top-right. switch default, labels displayed top right plot. \"x\", top labels displayed bottom. \"y\", right-hand side labels displayed left. Can also set \"\". drop TRUE, default, factor levels used data automatically dropped. FALSE, factor levels shown, regardless whether appear data. margins Either logical value character vector. Margins additional facets contain data possible values faceting variables. FALSE, additional facets included (default). TRUE, margins included faceting variables. specified character vector, names variables margins created. axes Determines axes drawn. \"margins\" (default), axes drawn exterior margins. \"all_x\" \"all_y\" draw respective axes interior panels , whereas \"\" draw axes panels. works ggplot2 version 3.5.0 later. axis.labels Determines whether draw labels interior axes axes argument \"margins\". \"\" (default), interior axes get labels. \"margins\", exterior axes get labels interior axes get none. \"all_x\" \"all_y\", draws labels interior axes x- y-direction respectively. works ggplot2 version 3.5.0 later.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_grid_color.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Lay out panels in a grid with colored strips — facet_grid_color","text":"","code":"library(ggplot2) df <- data.frame(x = 1:10, y = 1:10, period = c(\"Permian\", \"Triassic\")) ggplot(df) +   geom_point(aes(x, y)) +   facet_grid_color(cols = vars(period), colors = periods)"},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_wrap_color.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrap a 1d ribbon of panels into 2d with colored strips — facet_wrap_color","title":"Wrap a 1d ribbon of panels into 2d with colored strips — facet_wrap_color","text":"facet_wrap_color behaves similarly ggplot2::facet_wrap() wraps 1d sequence panels 2d. main difference also allows user specify background colors individual facet strips using colors argument. generally better use screen space facet_grid_color() displays roughly rectangular.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_wrap_color.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrap a 1d ribbon of panels into 2d with colored strips — facet_wrap_color","text":"","code":"facet_wrap_color(   facets,   nrow = NULL,   ncol = NULL,   scales = \"fixed\",   shrink = TRUE,   labeller = \"label_value\",   colors = stages,   as.table = TRUE,   drop = TRUE,   dir = \"h\",   strip.position = \"top\",   axes = \"margins\",   axis.labels = \"all\" )"},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_wrap_color.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrap a 1d ribbon of panels into 2d with colored strips — facet_wrap_color","text":"facets set variables expressions quoted vars() defining faceting groups rows columns dimension. variables can named (names passed labeller). compatibility classic interface, can also formula character vector. Use either one sided formula, ~+ b, character vector, c(\"\", \"b\"). nrow, ncol Number rows columns. scales scales fixed (\"fixed\", default), free (\"free\"), free one dimension (\"free_x\", \"free_y\")? shrink TRUE, shrink scales fit output statistics, raw data. FALSE, range raw data statistical summary. labeller function takes one data frame labels returns list data frame character vectors. input column corresponds one factor. Thus one vars(cyl, ). output column gets displayed one separate line strip label. function inherit \"labeller\" S3 class compatibility labeller(). can use different labeling functions different kind labels, example use label_parsed() formatting facet labels. label_value() used default, check details pointers options. colors Specifies colors use replace strip backgrounds. Either ) function returns color given strip label, B) character name function , C) named character vector names matching strip labels values indicating desired colors, D) data.frame representing lookup table columns named \"name\" (matching strip labels) \"color\" (indicating desired colors). function returns .table TRUE, default, facets laid like table highest values bottom-right. FALSE, facets laid like plot highest value top-right. drop TRUE, default, factor levels used data automatically dropped. FALSE, factor levels shown, regardless whether appear data. dir Direction: either \"h\" horizontal, default, \"v\", vertical. strip.position default, labels displayed top plot. Using strip.position possible place labels either four sides setting strip.position = c(\"top\",   \"bottom\", \"left\", \"right\") axes Determines axes drawn case fixed scales. \"margins\" (default), axes drawn exterior margins. \"all_x\" \"all_y\" draw respective axes interior panels , whereas \"\" draw axes panels. works ggplot2 version 3.5.0 later. axis.labels Determines whether draw labels interior axes scale fixed axis argument \"margins\". \"\" (default), interior axes get labels. \"margins\", exterior axes get labels, interior axes get none. \"all_x\" \"all_y\", draws labels interior axes x- y-direction respectively. works ggplot2 version 3.5.0 later.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/facet_wrap_color.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Wrap a 1d ribbon of panels into 2d with colored strips — facet_wrap_color","text":"","code":"library(ggplot2) df <- data.frame(x = 1:10, y = 1:10, period = c(\"Permian\", \"Triassic\")) ggplot(df) +   geom_point(aes(x, y)) +   facet_wrap_color(vars(period), colors = periods)"},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_phylomorpho.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot a 2-D phylomorphospace in ggplot2 — geom_phylomorpho","title":"Plot a 2-D phylomorphospace in ggplot2 — geom_phylomorpho","text":"behaves similar phytools::phylomorphospace(), plotting 2-D phylomorphospace ggplot2::ggplot(). function works like ggplot2 geom; can combined geoms (see example ), output can modified using scales, themes, etc.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_phylomorpho.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot a 2-D phylomorphospace in ggplot2 — geom_phylomorpho","text":"","code":"geom_phylomorpho(   tree,   mapping = NULL,   data = NULL,   position = \"identity\",   ...,   seg_args = list(),   point_args = list(),   arrow = NULL,   arrow.fill = NULL,   lineend = \"butt\",   linejoin = \"round\",   na.rm = FALSE,   show.legend = NA,   inherit.aes = TRUE )"},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_phylomorpho.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot a 2-D phylomorphospace in ggplot2 — geom_phylomorpho","text":"tree object class \"phylo\". mapping Set aesthetic mappings created aes(). specified inherit.aes = TRUE (default), combined default mapping top level plot. must supply mapping plot mapping. data data displayed layer. three options: NULL, default, data inherited plot data specified call ggplot(). data.frame, object, override plot data. objects fortified produce data frame. See fortify() variables created. function called single argument, plot data. return value must data.frame, used layer data. function can created formula (e.g. ~ head(.x, 10)). position Position adjustment, either string naming adjustment (e.g. \"jitter\" use position_jitter), result call position adjustment function. Use latter need change settings adjustment. ... arguments passed ggplot2::geom_segment() ggplot2::geom_point(). seg_args list arguments passed ggplot2::geom_segment(). point_args list arguments passed ggplot2::geom_point(). arrow specification arrow heads, created grid::arrow(). arrow.fill fill colour use arrow head (closed). NULL means use colour aesthetic. lineend Line end style (round, butt, square). linejoin Line join style (round, mitre, bevel). na.rm FALSE, default, missing values removed warning. TRUE, missing values silently removed. show.legend logical. layer included legends? NA, default, includes aesthetics mapped. FALSE never includes, TRUE always includes. can also named logical vector finely select aesthetics display. inherit.aes FALSE, overrides default aesthetics, rather combining . useful helper functions define data aesthetics inherit behaviour default plot specification, e.g. borders().","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_phylomorpho.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot a 2-D phylomorphospace in ggplot2 — geom_phylomorpho","text":"ancestral states estimated using phytools::fastAnc(). nodes connected using ggplot2::geom_segment(), tips indicated using ggplot2::geom_point(). default expectation order data order tip labels tree (tree$tip.label). However, case, can map optional label aesthetic column data contains tip names (see example ).","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_phylomorpho.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot a 2-D phylomorphospace in ggplot2 — geom_phylomorpho","text":"","code":"library(ggplot2) library(ape) tr <- rtree(10) dat <- data.frame(   x = runif(10), y = runif(10), label = tr$tip.label,   row.names = tr$tip.label ) ggplot(dat, aes(x = x, y = y, label = label)) +   geom_phylomorpho(tr) +   geom_label(size = 5)"},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_points_range.html","id":null,"dir":"Reference","previous_headings":"","what":"Display points and their range — geom_points_range","title":"Display points and their range — geom_points_range","text":"geom like ggplot2::geom_pointrange() draws points lines. However, unlike ggplot2::geom_pointrange(), geom takes sets x-y points calculates ranges/intervals based . plots original points ranges using ggplot2::geom_linerange(). cases points connected (grouping due aesthetics), background_line argument can used add lines span entire point range x y category.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_points_range.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Display points and their range — geom_points_range","text":"","code":"geom_points_range(   mapping = NULL,   data = NULL,   stat = \"points_range\",   position = \"identity\",   ...,   na.rm = FALSE,   orientation = NA,   background_line = NULL,   show.legend = NA,   inherit.aes = TRUE )  stat_points_range(   mapping = NULL,   data = NULL,   geom = \"points_range\",   position = \"identity\",   ...,   na.rm = FALSE,   orientation = NA,   show.legend = NA,   inherit.aes = TRUE )"},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_points_range.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Display points and their range — geom_points_range","text":"mapping Set aesthetic mappings created aes(). specified inherit.aes = TRUE (default), combined default mapping top level plot. must supply mapping plot mapping. data data displayed layer. three options: NULL, default, data inherited plot data specified call ggplot(). data.frame, object, override plot data. objects fortified produce data frame. See fortify() variables created. function called single argument, plot data. return value must data.frame, used layer data. function can created formula (e.g. ~ head(.x, 10)). stat statistical transformation use data layer, either ggproto Geom subclass string naming stat stripped stat_ prefix (e.g. \"count\" rather \"stat_count\") position Position adjustment, either string naming adjustment (e.g. \"jitter\" use position_jitter), result call position adjustment function. Use latter need change settings adjustment. ... Arguments passed ggplot2::geom_linerange() ggplot2::geom_point(). na.rm FALSE, default, missing values removed warning. TRUE, missing values silently removed. orientation orientation layer. default (NA) automatically determines orientation aesthetic mapping. rare event fails can given explicitly setting orientation either \"x\" \"y\". See Orientation section detail. background_line named list aesthetic values use plotted line segments span entire y x range x y category. default aesthetics used aesthetics specified list. can useful plotted groups points overlap want continuous line connecting points given x y category. NULL (default), line segments plotted. show.legend logical. layer included legends? NA, default, includes aesthetics mapped. FALSE never includes, TRUE always includes. can also named logical vector finely select aesthetics display. inherit.aes FALSE, overrides default aesthetics, rather combining . useful helper functions define data aesthetics inherit behaviour default plot specification, e.g. borders(). geom geometric object use display data, either ggproto Geom subclass string naming geom stripped geom_ prefix (e.g. \"point\" rather \"geom_point\")","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_points_range.html","id":"aesthetics","dir":"Reference","previous_headings":"","what":"Aesthetics","title":"Display points and their range — geom_points_range","text":"geom_points_range() understands following aesthetics (required aesthetics bold): x y size color/colour fill shape alpha group linetype linewidth","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_points_range.html","id":"computed-variables","dir":"Reference","previous_headings":"","what":"Computed variables","title":"Display points and their range — geom_points_range","text":"calculated 'stat' part layers can accessed delayed evaluation. stat_points_range() provides following variables, depend orientation: after_stat(ymin) after_stat(xmin) minimum extent point range after_stat(ymax) after_stat(xmax) maximum extent point range","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_points_range.html","id":"orientation","dir":"Reference","previous_headings":"","what":"Orientation","title":"Display points and their range — geom_points_range","text":"geom treats axis differently , thus, can thus two orientations. Often orientation easy deduce combination given mappings types positional scales use. Thus, ggplot2 default try guess orientation layer . rare circumstances, orientation ambiguous guessing may fail. case orientation can specified directly using orientation parameter, can either \"x\" \"y\". value gives axis geom run along, \"x\" default orientation expect geom.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/geom_points_range.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Display points and their range — geom_points_range","text":"","code":"library(ggplot2) library(palaeoverse) data(tetrapods) tetrapod_names <- tetrapods$accepted_name[1:50] beds_sampled <- sample.int(n = 10, size = 50, replace = TRUE) occdf <- data.frame(taxon = tetrapod_names, bed = beds_sampled) ggplot(occdf, aes(y = reorder(taxon, bed, min), x = bed)) +   geom_points_range()"},{"path":"https://williamgearty.com/deeptime/dev/reference/getScaleData.html","id":null,"dir":"Reference","previous_headings":"","what":"Get geological timescale data — getScaleData","title":"Get geological timescale data — getScaleData","text":"getScaleData() renamed get_scale_data() deeptime version 1.0.0 create consistent API.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/getScaleData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get geological timescale data — getScaleData","text":"","code":"getScaleData(name)"},{"path":"https://williamgearty.com/deeptime/dev/reference/get_scale_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get geological timescale data — get_scale_data","title":"Get geological timescale data — get_scale_data","text":"function takes name geological timescale returns data timescale. Valid names include built-data.frames (periods(), epochs(), stages(), eons(), eras()), partial matches names (e.g., \"per\" \"stage\"), exact matches hosted Macrostrat (see full list : https://macrostrat.org/api/defs/timescales?).","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/get_scale_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get geological timescale data — get_scale_data","text":"","code":"get_scale_data(name)"},{"path":"https://williamgearty.com/deeptime/dev/reference/get_scale_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get geological timescale data — get_scale_data","text":"name name desired timescale.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/get_scale_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get geological timescale data — get_scale_data","text":"data.frame following columns: name names time intervals. max_age oldest boundaries time intervals, millions years. min_age youngest boundaries time intervals, millions years. abbr either traditional abbreviations names time intervals (exist) custom abbreviations created R. color hex color codes associated time intervals (applicable).","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/ggarrange2.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine and arrange multiple ggplot-like objects — ggarrange2","title":"Combine and arrange multiple ggplot-like objects — ggarrange2","text":"Arrange multiple ggplot, grobified ggplot, geo_scale objects page, aligning plot panels, axes, axis titles.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/ggarrange2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine and arrange multiple ggplot-like objects — ggarrange2","text":"","code":"ggarrange2(   ...,   plots = list(...),   layout = NULL,   nrow = NULL,   ncol = NULL,   widths = NULL,   heights = NULL,   byrow = TRUE,   top = NULL,   bottom = NULL,   left = NULL,   right = NULL,   padding = unit(0.5, \"line\"),   margin = unit(0.5, \"line\"),   clip = \"on\",   draw = TRUE,   newpage = TRUE,   debug = FALSE,   labels = NULL,   label.args = list(gp = gpar(font = 4, cex = 1.2)) )"},{"path":"https://williamgearty.com/deeptime/dev/reference/ggarrange2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combine and arrange multiple ggplot-like objects — ggarrange2","text":"... ggplot, grobified ggplot (gtable), geo_scale objects plots list ggplot, gtable, geo_scale objects layout matrix integers specifying plot go, like mat graphics::layout(); NA value less 0 greater number plots indicates blank plot; overrides nrow/ncol/byrow nrow number rows ncol number columns widths list requested widths heights list requested heights byrow logical, fill rows top optional string, grob bottom optional string, grob left optional string, grob right optional string, grob padding unit length one, margin around annotations margin vector units length 4: top, right, bottom, left (gtable::gtable_add_padding()) clip argument gtable draw logical: draw return grob newpage logical: draw new page debug logical, show layout thin lines labels character labels used annotation subfigures (order plots) label.args label list parameters formatting labels","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/ggarrange2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combine and arrange multiple ggplot-like objects — ggarrange2","text":"gtable aligned plots","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/ggarrange2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Combine and arrange multiple ggplot-like objects — ggarrange2","text":"","code":"library(ggplot2) p1 <- ggplot(mtcars, aes(mpg, wt, colour = factor(cyl))) +   geom_point() p2 <- ggplot(mtcars, aes(mpg, wt, colour = factor(cyl))) +   geom_point() +   facet_wrap(~cyl, ncol = 2, scales = \"free\") +   guides(colour = \"none\") +   theme() ggarrange2(p1, p2, widths = c(2, 1), labels = c(\"a\", \"b\"))   p3 <- ggplot() +   geom_point(aes(y = runif(1000, 0, 8), x = runif(1000, 0, 1000))) +   scale_x_reverse() +   coord_geo(xlim = c(1000, 0), ylim = c(0, 8)) +   theme_classic() ggarrange2(ggarrange2(p1, p2, widths = c(2, 1), draw = FALSE), p3, nrow = 2)"},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a geologic scale below ggplots using grid — gggeo_scale","title":"Add a geologic scale below ggplots using grid — gggeo_scale","text":"function takes ggplot object adds geologic time scale specified side using grid gtable packages. custom data provided (dat), consist least 3 columns data. See data(periods) example. name column lists names time interval. used labels abbreviations provided. max_age column lists oldest boundary time interval. min_age column lists youngest boundary time interval. abbr column optional lists abbreviations may used labels. color column also optional lists hex color code (can obtained rgb()) time interval.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a geologic scale below ggplots using grid — gggeo_scale","text":"","code":"gggeo_scale(obj, ...)  # S3 method for gtable gggeo_scale(   obj,   lims,   dat = \"periods\",   fill = NULL,   color = \"black\",   alpha = 1,   height = unit(2, \"line\"),   pos = \"bottom\",   lab = TRUE,   rot = 0,   abbrv = TRUE,   skip = c(\"Quaternary\", \"Holocene\", \"Late Pleistocene\"),   size = 5,   lwd = 0.25,   margin = unit(0, \"line\"),   neg = FALSE,   bord = c(\"left\", \"right\", \"top\", \"bottom\"),   center_end_labels = FALSE,   ... )  # S3 method for ggplot gggeo_scale(   obj,   dat = \"periods\",   fill = NULL,   color = \"black\",   alpha = 1,   height = unit(2, \"line\"),   pos = \"bottom\",   lab = TRUE,   rot = 0,   abbrv = TRUE,   skip = c(\"Quaternary\", \"Holocene\", \"Late Pleistocene\"),   size = 5,   lwd = 0.25,   margin = unit(0, \"line\"),   neg = FALSE,   bord = c(\"left\", \"right\", \"top\", \"bottom\"),   center_end_labels = FALSE,   ... )  # S3 method for geo_scale gggeo_scale(   obj,   dat = \"periods\",   fill = NULL,   color = \"black\",   alpha = 1,   height = unit(2, \"line\"),   pos = \"bottom\",   lab = TRUE,   rot = 0,   abbrv = TRUE,   skip = c(\"Quaternary\", \"Holocene\", \"Late Pleistocene\"),   size = 5,   lwd = 0.25,   margin = unit(0, \"line\"),   neg = FALSE,   bord = c(\"left\", \"right\", \"top\", \"bottom\"),   center_end_labels = FALSE,   ... )  # S3 method for geo_scale print(x, ...)"},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a geologic scale below ggplots using grid — gggeo_scale","text":"obj object class ggplot, gtable, geo_scale (produced function). ... arguments passed grid::grid.draw(). lims limits axis desired side plot. required using gtable object created function. dat Either ) string indicating built-dataframe interval data ICS (\"periods\", \"epochs\", \"stages\", \"eons\", \"eras\"), B) string indicating timescale macrostrat (see list : https://macrostrat.org/api/defs/timescales?), C) custom dataframe time interval boundaries (see Details). fill fill color boxes. default use colors included dat. custom dataset provided dat without color without fill, greyscale used. Custom fill colors can provided option recycled /necessary. color outline color interval boxes. alpha transparency fill colors. height height (width pos left right) scale. pos side add scale (left, right, top, bottom). First letter may also used. lab Whether include labels. rot amount counter-clockwise rotation add labels (degrees). abbrv including labels, whether use abbreviations instead full interval names. skip vector interval names indicating intervals labeled. size Label size. lwd Line width. margin width margin around returned object (can vector length 4). neg Set true x-axis using negative values. bord vector specifying sides scale add borders (options pos). center_end_labels labels centered within visible range intervals ends axis? x object class geo_scale.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a geologic scale below ggplots using grid — gggeo_scale","text":"geo_scale object. Basically gtable object axis limits included.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale.html","id":"life-cycle","dir":"Reference","previous_headings":"","what":"Life cycle","title":"Add a geologic scale below ggplots using grid — gggeo_scale","text":"function soft-deprecated favor coord_geo() deeptime version 1.0.0. may removed future.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add a geologic scale below ggplots using grid — gggeo_scale","text":"","code":"library(ggplot2) # bottom scale by default p <- ggplot() +   geom_point(aes(y = runif(1000, 0, 8), x = runif(1000, 0, 1000))) +   scale_x_reverse() +   coord_cartesian(xlim = c(1000, 0), ylim = c(0, 8), expand = FALSE) +   theme_classic() gggeo_scale(p) #> Warning: `gggeo_scale()` was deprecated in deeptime 1.0.0. #> ℹ Please use `coord_geo()` instead.   # can specify any side of the plot p <- ggplot() +   geom_point(aes(x = runif(1000, 0, 8), y = runif(1000, 0, 1000))) +   scale_y_reverse() +   coord_cartesian(xlim = c(0, 8), ylim = c(1000, 0), expand = FALSE) +   theme_classic() gggeo_scale(p, pos = \"left\", rot = 90)   # can add multiple scales p <- ggplot() +   geom_point(aes(y = runif(1000, 0, 8), x = runif(1000, 0, 100))) +   scale_x_reverse() +   coord_cartesian(xlim = c(100, 0), ylim = c(0, 8), expand = FALSE) +   theme_classic() p <- gggeo_scale(p, abbrv = FALSE) p <- gggeo_scale(p, dat = \"epochs\", height = unit(4, \"lines\"), rot = 90,                  size = 2.5, abbrv = FALSE) gggeo_scale(p, dat = \"stages\", height = unit(4, \"lines\"), rot = 90,             size = 2.5, abbrv = FALSE)   # intervals on both sides for different timescales (ICS stages vs North # American Land Mammal Ages) p <- ggplot() +   geom_point(aes(x = runif(1000, 0, 10), y = runif(1000, 0, 65))) +   scale_y_reverse() +   coord_cartesian(xlim = c(0, 10), ylim = c(65, 0), expand = FALSE) +   theme_classic() p <- gggeo_scale(p, dat = \"stages\", pos = \"left\", height = unit(4, \"lines\"),   size = 2.5, abbrv = FALSE) gggeo_scale(p, dat = \"North American Land Mammal Ages\",             pos = \"right\", height = unit(4, \"lines\"),             size = 2.5, abbrv = FALSE)   # can add scales to a faceted plot # use gggeo_scale_old() if you have more than one column df <- data.frame(   x = runif(1000, 0, 541), y = runif(1000, 0, 8),   z = sample(c(1, 2, 3, 4), 1000, TRUE) ) p <- ggplot(df) +   geom_point(aes(x, y)) +   scale_x_reverse() +   coord_cartesian(xlim = c(541, 0), ylim = c(0, 8), expand = FALSE) +   theme_classic() +   facet_wrap(~z, ncol = 1) gggeo_scale(p)   # can even add a scale to a phylogeny (using ggtree) library(phytools) #> Loading required package: maps library(ggtree) tree <- pbtree(b = .03, d = .01, n = 100) p <- ggtree(tree) +   coord_cartesian(xlim = c(-500, 0), ylim = c(-2, Ntip(tree)),                   expand = FALSE) +   scale_x_continuous(breaks = seq(-500, 0, 100),                      labels = abs(seq(-500, 0, 100))) +   theme_tree2() p <- revts(p) gggeo_scale(p, neg = TRUE)"},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale_old.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a geologic scale on top of ggplots — gggeo_scale_old","title":"Add a geologic scale on top of ggplots — gggeo_scale_old","text":"function takes ggplot object adds geologic time scale specified side.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale_old.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a geologic scale on top of ggplots — gggeo_scale_old","text":"","code":"gggeo_scale_old(   gg,   dat = \"periods\",   fill = NULL,   color = \"black\",   alpha = 1,   height = 0.05,   gap = 0,   pos = \"bottom\",   lab = TRUE,   rot = 0,   abbrv = TRUE,   skip = c(\"Quaternary\", \"Holocene\", \"Late Pleistocene\"),   size = 5,   neg = FALSE )"},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale_old.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a geologic scale on top of ggplots — gggeo_scale_old","text":"gg ggplot object. dat Either ) string indicating built-dataframe interval data ICS (\"periods\", \"epochs\", \"stages\", \"eons\", \"eras\"), B) string indicating timescale macrostrat (see list : https://macrostrat.org/api/defs/timescales?), C) custom dataframe time interval boundaries (see Details). fill fill color boxes. default use colors included dat. custom dataset provided dat without color without fill, greyscale used. Custom fill colors can provided option recycled /necessary. color outline color interval boxes. alpha transparency fill colors. height proportional height (width pos left right) entire plot use scale. gap proportional height (width) entire plot use gap axis scale. pos side add scale (left, right, top, bottom). First letter may also used. lab Whether include labels. rot amount counter-clockwise rotation add labels (degrees). abbrv including labels, whether use abbreviations instead full interval names. skip vector interval names indicating intervals labeled. size Label size. neg Set true x-axis using negative values.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale_old.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a geologic scale on top of ggplots — gggeo_scale_old","text":"ggplot object.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale_old.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Add a geologic scale on top of ggplots — gggeo_scale_old","text":"custom data provided (dat), consist least 3 columns data. See data(periods) example. name column lists names time interval. used labels abbreviations provided. max_age column lists oldest boundary time interval. min_age column lists youngest boundary time interval. abbr column optional lists abbreviations may used labels. color column also optional lists hex color code (can obtained rgb()) time interval.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale_old.html","id":"life-cycle","dir":"Reference","previous_headings":"","what":"Life cycle","title":"Add a geologic scale on top of ggplots — gggeo_scale_old","text":"function soft-deprecated favor coord_geo() deeptime version 1.0.0. may removed future.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gggeo_scale_old.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add a geologic scale on top of ggplots — gggeo_scale_old","text":"","code":"library(ggplot2) # bottom scale by default p <- ggplot() +   geom_point(aes(y = runif(1000, .5, 8), x = runif(1000, 0, 1000))) +   scale_x_reverse() +   coord_cartesian(xlim = c(0, 1000), ylim = c(0, 8), expand = FALSE) +   theme_classic() gggeo_scale_old(p) #> Warning: `gggeo_scale_old()` was deprecated in deeptime 1.0.0. #> ℹ Please use `coord_geo()` instead.   # can specify any side of the plot p <- ggplot() +   geom_point(aes(x = runif(1000, .5, 8), y = runif(1000, 0, 1000))) +   scale_y_reverse() +   coord_cartesian(xlim = c(0, 8), ylim = c(0, 1000), expand = FALSE) +   theme_classic() gggeo_scale_old(p, pos = \"left\", rot = 90)   # can add multiple scales p <- ggplot() +   geom_point(aes(y = runif(1000, 1, 8), x = runif(1000, 0, 1000))) +   scale_x_reverse() +   coord_cartesian(xlim = c(0, 100), ylim = c(0, 8), expand = FALSE) +   theme_classic() p <- gggeo_scale_old(p, height = .03, abbrv = FALSE) p <- gggeo_scale_old(p, dat = \"epochs\", gap = .03, height = .1, rot = 90,                      size = 2.5, abbrv = FALSE)  # intervals on both sides for different timescales (ICS stages vs North # American Land Mammal Ages) p <- ggplot() +   geom_point(aes(x = runif(1000, 1, 9), y = runif(1000, 0, 65))) +   scale_y_reverse() +   coord_cartesian(xlim = c(0, 10), ylim = c(0, 65), expand = FALSE) +   theme_classic() p <- gggeo_scale_old(p, dat = \"stages\", pos = \"left\", height = .1,                      size = 2.5, abbrv = FALSE) gggeo_scale_old(p, dat = \"North American Land Mammal Ages\", pos = \"right\",                 height = .1, size = 2.5, abbrv = FALSE)   # can add scales to a faceted plot df <- data.frame(x = runif(1000, 0, 541), y = runif(1000, .5, 8),                  z = sample(c(1, 2, 3, 4), 1000, TRUE)) p <- ggplot(df) +   geom_point(aes(x, y)) +   scale_x_reverse() +   coord_cartesian(xlim = c(0, 541), ylim = c(0, 8), expand = FALSE) +   theme_classic() +   facet_wrap(~z, nrow = 2) gggeo_scale_old(p)   # can even add a scale to a phylogeny (using ggtree) library(phytools) library(ggtree) tree <- pbtree(b = .03, d = .01, n = 100) p <- ggtree(tree) +   coord_cartesian(xlim = c(0, -500), ylim = c(-10, Ntip(tree)),                   expand = FALSE) +   scale_x_continuous(breaks = seq(-500, 0, 100),                      labels = abs(seq(-500, 0, 100))) +   theme_tree2() p <- revts(p) gggeo_scale_old(p, neg = TRUE)"},{"path":"https://williamgearty.com/deeptime/dev/reference/gtable_frame2.html","id":null,"dir":"Reference","previous_headings":"","what":"Decompose a ggplot gtable — gtable_frame2","title":"Decompose a ggplot gtable — gtable_frame2","text":"Reformat gtable associated ggplot object 7x7 gtable central cell corresponds plot panel(s), rectangle cells around corresponds axes, rectangle cells around corresponds axis titles.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gtable_frame2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Decompose a ggplot gtable — gtable_frame2","text":"","code":"gtable_frame2(   g,   width = unit(1, \"null\"),   height = unit(1, \"null\"),   debug = FALSE )"},{"path":"https://williamgearty.com/deeptime/dev/reference/gtable_frame2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Decompose a ggplot gtable — gtable_frame2","text":"g gtable width requested width height requested height debug logical draw gtable cells","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gtable_frame2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Decompose a ggplot gtable — gtable_frame2","text":"7x7 gtable wrapping plot","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/gtable_frame2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Decompose a ggplot gtable — gtable_frame2","text":"","code":"library(grid) library(gridExtra) library(ggplot2) p1 <- ggplot(mtcars, aes(mpg, wt, colour = factor(cyl))) +   geom_point()  p2 <- ggplot(mtcars, aes(mpg, wt, colour = factor(cyl))) +   geom_point() +   facet_wrap(~cyl, ncol = 2, scales = \"free\") +   guides(colour = \"none\") +   theme()  p3 <- ggplot(mtcars, aes(mpg, wt, colour = factor(cyl))) +   geom_point() +   facet_grid(. ~ cyl, scales = \"free\")  g1 <- ggplotGrob(p1) g2 <- ggplotGrob(p2) g3 <- ggplotGrob(p3) fg1 <- gtable_frame2(g1) fg2 <- gtable_frame2(g2) fg12 <- gtable_frame2(gtable_rbind(fg1, fg2), width = unit(2, \"null\"),                       height = unit(1, \"null\")) fg3 <- gtable_frame2(g3, width = unit(1, \"null\"), height = unit(1, \"null\")) grid.newpage() combined <- gtable_cbind(fg12, fg3) grid.draw(combined)"},{"path":"https://williamgearty.com/deeptime/dev/reference/panel.disparity.html","id":null,"dir":"Reference","previous_headings":"","what":"Combined wireframe and cloud panel — panel.disparity","title":"Combined wireframe and cloud panel — panel.disparity","text":"Plots provided data 2-D surfaces within 3-D framework. See disparity_through_time().","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/panel.disparity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combined wireframe and cloud panel — panel.disparity","text":"","code":"panel.disparity(x, y, z, groups, subscripts, ...)"},{"path":"https://williamgearty.com/deeptime/dev/reference/panel.disparity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combined wireframe and cloud panel — panel.disparity","text":"x, y, z, groups, subscripts, ... lattice::panel.cloud()","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/panel.disparity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combined wireframe and cloud panel — panel.disparity","text":"return value, plots results lattice::panel.cloud() lattice::panel.wireframe().","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/periods.html","id":null,"dir":"Reference","previous_headings":"","what":"Period data from the International Commission on Stratigraphy (v2022/10) — periods","title":"Period data from the International Commission on Stratigraphy (v2022/10) — periods","text":"dataset containing boundary ages, abbreviations, colors periods Geologic Time Scale. Based ICS International Chronostratigraphic Chart (v2022/10), Cohen, Finney, Gibbard, Fan.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/periods.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Period data from the International Commission on Stratigraphy (v2022/10) — periods","text":"","code":"periods"},{"path":"https://williamgearty.com/deeptime/dev/reference/periods.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Period data from the International Commission on Stratigraphy (v2022/10) — periods","text":"data frame 22 rows 5 variables: name period name max_age maximum age, millions years min_age minimum age, millions years abbr period name abbreviations color colors period, according Commission Geological Map World","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/periods.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Period data from the International Commission on Stratigraphy (v2022/10) — periods","text":"https://stratigraphy.org via https://macrostrat.org/api/v2/defs/intervals?timescale=international%20periods","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/reference/scale_geo.html","id":null,"dir":"Reference","previous_headings":"","what":"Geological Time Scale color scales — scale_color_geo","title":"Geological Time Scale color scales — scale_color_geo","text":"Color scales using colors Geological Time Scale graphics.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/scale_geo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Geological Time Scale color scales — scale_color_geo","text":"","code":"scale_color_geo(dat, ...)  scale_fill_geo(dat, ...)  scale_discrete_geo(dat, aesthetics, ...)"},{"path":"https://williamgearty.com/deeptime/dev/reference/scale_geo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Geological Time Scale color scales — scale_color_geo","text":"dat Either ) string indicating built-dataframe interval data ICS (\"periods\", \"epochs\", \"stages\", \"eons\", \"eras\"), B) string indicating timescale macrostrat (see list : https://macrostrat.org/api/defs/timescales?), C) custom data.frame time interval boundaries (see coord_geo()). ... Arguments passed ggplot2::discrete_scale scale_name name scale used error messages associated scale. name name scale. Used axis legend title. waiver(), default, name scale taken first mapping used aesthetic. NULL, legend title omitted. labels One : NULL labels waiver() default labels computed transformation object character vector giving labels (must length breaks) expression vector (must length breaks). See ?plotmath details. function takes breaks input returns labels output. Also accepts rlang lambda function notation. limits One : NULL use default scale values character vector defines possible values scale order function accepts existing (automatic) values returns new ones. Also accepts rlang lambda function notation. na.translate Unlike continuous scales, discrete scales can easily show missing values, default. want remove missing values discrete scale, specify na.translate = FALSE. na.value na.translate = TRUE, aesthetic value missing values displayed ? apply position scales NA always placed far right. drop unused factor levels omitted scale? default, TRUE, uses levels appear data; FALSE uses levels factor. guide function used create guide name. See guides() information. call call used construct scale reporting messages. super super class use constructed scale aesthetics Character string vector character strings listing name(s) aesthetic(s) scale works . can useful, example, apply colour settings colour fill aesthetics time, via aesthetics = c(\"colour\", \"fill\").","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/scale_geo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Geological Time Scale color scales — scale_color_geo","text":"","code":"library(ggplot2) df <- data.frame(   x = runif(1000, 0, 10), y = runif(1000, 0, 10),   color = sample(periods$name, 1000, TRUE), shape = 21 ) ggplot(df) +   geom_point(aes(x = x, y = y, fill = color), shape = 21) +   scale_fill_geo(\"periods\", name = \"Period\") +   theme_classic()   # cut continuous variable into discrete df <- data.frame(x = runif(1000, 0, 1000), y = runif(1000, 0, 8)) df$color <- cut(df$x, c(periods$min_age, periods$max_age[22]), periods$name) ggplot(df) +   geom_point(aes(x = x, y = y, color = color)) +   scale_x_reverse() +   scale_color_geo(\"periods\", name = \"Period\") +   coord_geo(xlim = c(1000, 0), ylim = c(0, 8)) +   theme_classic()"},{"path":"https://williamgearty.com/deeptime/dev/reference/stages.html","id":null,"dir":"Reference","previous_headings":"","what":"Stage data from the International Commission on Stratigraphy (v2022/10) — stages","title":"Stage data from the International Commission on Stratigraphy (v2022/10) — stages","text":"dataset containing boundary ages, abbreviations, colors stages Geologic Time Scale. Based ICS International Chronostratigraphic Chart (v2022/10), Cohen, Finney, Gibbard, Fan.","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/stages.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stage data from the International Commission on Stratigraphy (v2022/10) — stages","text":"","code":"stages"},{"path":"https://williamgearty.com/deeptime/dev/reference/stages.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Stage data from the International Commission on Stratigraphy (v2022/10) — stages","text":"data frame 102 rows 5 variables: name stage name max_age maximum age, millions years min_age minimum age, millions years abbr stage name abbreviations color colors stage, according Commission Geological Map World","code":""},{"path":"https://williamgearty.com/deeptime/dev/reference/stages.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Stage data from the International Commission on Stratigraphy (v2022/10) — stages","text":"https://stratigraphy.org via https://macrostrat.org/api/v2/defs/intervals?timescale=international%20ages","code":""},{"path":[]},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-development-version","dir":"Changelog","previous_headings":"","what":"deeptime (development version)","title":"deeptime (development version)","text":"deeptime now requires ggplot2 version 3.4.0 higher. version introduces several new features bug fixes: Added geom_points_range(), function designed visualizing temporal occurrence data Added facet_grid_color() facet_wrap_color() changing strip background colors (#50) Added coord_geo_radial(), enhanced version coord_geo_polar() (works ggplot2 version 3.5.0 higher) (#56) Added family fontface arguments coord_geo() Added ability include interval labels coord_geo_polar() (#48) Fixed interaction coord_geo() ggsave() (#49) Fixed size = \"auto\" center_end_labels = TRUE coord_geo() Updated several functions work ggplot2 version 3.5.0 Notable changes: names theme elements used coord_geo_polar now prepended “deeptime.” (e.g., deeptime.axis.line.r) (#51) ggplot2 version 3.5.0 broken several edge cases coord_trans_xy(). See documentation details. fixed future deeptime release.","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-101","dir":"Changelog","previous_headings":"","what":"deeptime 1.0.1","title":"deeptime 1.0.1","text":"CRAN release: 2023-02-16 Fixed bounds Kungurian stage built-stages data Updated License GPL >= 3 Changed tidyverse dplyr magrittr Suggests vignettes","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-100","dir":"Changelog","previous_headings":"","what":"deeptime 1.0.0","title":"deeptime 1.0.0","text":"CRAN release: 2023-01-20 Updated built-timescales 2022/10 version GTS Added geom making phylomorphospaces Added vignettes Renamed getScaleData() get_scale_data() Soft deprecated gggeo_scale() gggeo_scale_old()","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-030","dir":"Changelog","previous_headings":"","what":"deeptime 0.3.0","title":"deeptime 0.3.0","text":"CRAN release: 2022-11-09 deeptime now requires ggplot2 version 3.3.0 higher. Several new features fixed compatibility various ggplot2 versions. Added coord_geo_polar(), adding timescales polar plots (#33) Added color fill discrete scales use GTS colors (#43) Fixed coord_geo_polar() coord_trans_xy() ggplot2 version 3.4.0 (#44) Fixed coord_geo() ggplot2 version 3.4.0 Added tests ggplot2 version 3.3.6 3.4.0 Removed uses getFromNamespace (#45)","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-023","dir":"Changelog","previous_headings":"","what":"deeptime 0.2.3","title":"deeptime 0.2.3","text":"CRAN release: 2022-09-20 Updated built-timescales 2022/02 version GTS Better name handling documentation getScaleData() (#42)","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-022","dir":"Changelog","previous_headings":"","what":"deeptime 0.2.2","title":"deeptime 0.2.2","text":"CRAN release: 2022-05-18 Skip tests suggested packages unavailable Added ability specify label color (#40)","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-021","dir":"Changelog","previous_headings":"","what":"deeptime 0.2.1","title":"deeptime 0.2.1","text":"CRAN release: 2022-01-10 Updated built-timescales Updated built-timescales using Macrostrat API (#39) Fixed CRAN checks ggtree missing (#38)","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-020","dir":"Changelog","previous_headings":"","what":"deeptime 0.2.0","title":"deeptime 0.2.0","text":"CRAN release: 2021-09-02 Several new features bug fixes. coord_geo() now works discrete axes (#32 #35) Fixed bug prevented use custom interval data Added option use ggfittext automatically resize labels (#19) Added coord_trans_flip() (#20) Fixed axis labels coord_trans_xy() (#36) Added tests testthat (#34)","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-010","dir":"Changelog","previous_headings":"","what":"deeptime 0.1.0","title":"deeptime 0.1.0","text":"CRAN release: 2021-07-23 First minor release (released CRAN!) Fixed ability use text transformations (scales) coord_geo() (#30) Added automatic R CMD check Github Actions Fixed S3 method consistency R CMD check warnings notes Fixed coord_geo() axis breaks reversed NULL (#23 #29) Added packages examples README Suggests","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-006","dir":"Changelog","previous_headings":"","what":"deeptime 0.0.6","title":"deeptime 0.0.6","text":"Several bug fixes minor features. Added ability specify layout ggarrange2() (#21) Added ability center labels time intervals broken axis limits (#18) Fixed gggeo_scale() ggplot2>=3.3.0 (#22) Replaced README examples examples using real data (#28) Fixed using first letters pos argument Fixed label order (#26) Switched Travis Github Actions (#27) Fixed handling axis tick labels coord_trans_xy (#31)","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-005","dir":"Changelog","previous_headings":"","what":"deeptime 0.0.5","title":"deeptime 0.0.5","text":"Added coord_geo(), coordinate system ggplot2 allows adding highly customized timescales ggplot objects. gggeo_scale() gggeo_scale_old preserved receive notably less maintenance moving forward. Updated examples documentation use coord_geo() Added coord_trans_xy(), coordinate system ggplot2 similar coord_trans() allows 2-dimensional transformations Added disparity_through_time() allows plotting 2-dimensional data across 3rd dimension (using lattice)","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-004","dir":"Changelog","previous_headings":"","what":"deeptime 0.0.4","title":"deeptime 0.0.4","text":"ggarrange2() now accepts geo_scale objects grobified ggplots Fixed missing axes axis titles","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-003","dir":"Changelog","previous_headings":"","what":"deeptime 0.0.3","title":"deeptime 0.0.3","text":"Minor release bug fixes Added options customize borders line width Fixed abbreviations stages named “Series X” (#9) Fixed scale x-axis crosses 0 (#10, #12) Preserve margins original plots (#13) Fixed scale plots multiple panels","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-002","dir":"Changelog","previous_headings":"","what":"deeptime 0.0.2","title":"deeptime 0.0.2","text":"Complete redesign gggeo_scale() adds scale outside plotting space using gtable. old version gggeo_scale() preserved gggeo_scale_old(). Can now pull timescales Macrostrat API (#8)","code":""},{"path":"https://williamgearty.com/deeptime/dev/news/index.html","id":"deeptime-001","dir":"Changelog","previous_headings":"","what":"deeptime 0.0.1","title":"deeptime 0.0.1","text":"First full release. Adds scale onto bottom ggplot. Depends R>3.4 (#1) Fixed adding scales faceted plots (#2) Added timescale data PBDB API (#3) Fixed use ggtree geom data (#5) Fixed stacking multiple scales (#6) Fixed documentation spelling (#7)","code":""}]
